function am(d,h){for(var l=0;l<h.length;l++){const m=h[l];if(typeof m!="string"&&!Array.isArray(m)){for(const g in m)if(g!=="default"&&!(g in d)){const _=Object.getOwnPropertyDescriptor(m,g);_&&Object.defineProperty(d,g,_.get?_:{enumerable:!0,get:()=>m[g]})}}}return Object.freeze(Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}))}(function(){const h=document.createElement("link").relList;if(h&&h.supports&&h.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))m(g);new MutationObserver(g=>{for(const _ of g)if(_.type==="childList")for(const y of _.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&m(y)}).observe(document,{childList:!0,subtree:!0});function l(g){const _={};return g.integrity&&(_.integrity=g.integrity),g.referrerPolicy&&(_.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?_.credentials="include":g.crossOrigin==="anonymous"?_.credentials="omit":_.credentials="same-origin",_}function m(g){if(g.ep)return;g.ep=!0;const _=l(g);fetch(g.href,_)}})();function ju(d){return d&&d.__esModule&&Object.prototype.hasOwnProperty.call(d,"default")?d.default:d}var su={exports:{}},to={},au={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph;function om(){if(ph)return Ge;ph=1;var d=Symbol.for("react.element"),h=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),y=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),O=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),b=Symbol.iterator;function V(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,R={};function z(k,X,xe){this.props=k,this.context=X,this.refs=R,this.updater=xe||G}z.prototype.isReactComponent={},z.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function B(k,X,xe){this.props=k,this.context=X,this.refs=R,this.updater=xe||G}var $=B.prototype=new Q;$.constructor=B,J($,z.prototype),$.isPureReactComponent=!0;var D=Array.isArray,A=Object.prototype.hasOwnProperty,ee={current:null},ue={key:!0,ref:!0,__self:!0,__source:!0};function Se(k,X,xe){var ye,pe={},fe=null,De=null;if(X!=null)for(ye in X.ref!==void 0&&(De=X.ref),X.key!==void 0&&(fe=""+X.key),X)A.call(X,ye)&&!ue.hasOwnProperty(ye)&&(pe[ye]=X[ye]);var Te=arguments.length-2;if(Te===1)pe.children=xe;else if(1<Te){for(var We=Array(Te),it=0;it<Te;it++)We[it]=arguments[it+2];pe.children=We}if(k&&k.defaultProps)for(ye in Te=k.defaultProps,Te)pe[ye]===void 0&&(pe[ye]=Te[ye]);return{$$typeof:d,type:k,key:fe,ref:De,props:pe,_owner:ee.current}}function rt(k,X){return{$$typeof:d,type:k.type,key:X,ref:k.ref,props:k.props,_owner:k._owner}}function Y(k){return typeof k=="object"&&k!==null&&k.$$typeof===d}function me(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(xe){return X[xe]})}var Ie=/\/+/g;function Ue(k,X){return typeof k=="object"&&k!==null&&k.key!=null?me(""+k.key):X.toString(36)}function Ze(k,X,xe,ye,pe){var fe=typeof k;(fe==="undefined"||fe==="boolean")&&(k=null);var De=!1;if(k===null)De=!0;else switch(fe){case"string":case"number":De=!0;break;case"object":switch(k.$$typeof){case d:case h:De=!0}}if(De)return De=k,pe=pe(De),k=ye===""?"."+Ue(De,0):ye,D(pe)?(xe="",k!=null&&(xe=k.replace(Ie,"$&/")+"/"),Ze(pe,X,xe,"",function(it){return it})):pe!=null&&(Y(pe)&&(pe=rt(pe,xe+(!pe.key||De&&De.key===pe.key?"":(""+pe.key).replace(Ie,"$&/")+"/")+k)),X.push(pe)),1;if(De=0,ye=ye===""?".":ye+":",D(k))for(var Te=0;Te<k.length;Te++){fe=k[Te];var We=ye+Ue(fe,Te);De+=Ze(fe,X,xe,We,pe)}else if(We=V(k),typeof We=="function")for(k=We.call(k),Te=0;!(fe=k.next()).done;)fe=fe.value,We=ye+Ue(fe,Te++),De+=Ze(fe,X,xe,We,pe);else if(fe==="object")throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return De}function de(k,X,xe){if(k==null)return k;var ye=[],pe=0;return Ze(k,ye,"","",function(fe){return X.call(xe,fe,pe++)}),ye}function ke(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(xe){(k._status===0||k._status===-1)&&(k._status=1,k._result=xe)},function(xe){(k._status===0||k._status===-1)&&(k._status=2,k._result=xe)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var ce={current:null},C={transition:null},se={ReactCurrentDispatcher:ce,ReactCurrentBatchConfig:C,ReactCurrentOwner:ee};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:de,forEach:function(k,X,xe){de(k,function(){X.apply(this,arguments)},xe)},count:function(k){var X=0;return de(k,function(){X++}),X},toArray:function(k){return de(k,function(X){return X})||[]},only:function(k){if(!Y(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ge.Component=z,Ge.Fragment=l,Ge.Profiler=g,Ge.PureComponent=B,Ge.StrictMode=m,Ge.Suspense=N,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=se,Ge.act=K,Ge.cloneElement=function(k,X,xe){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var ye=J({},k.props),pe=k.key,fe=k.ref,De=k._owner;if(X!=null){if(X.ref!==void 0&&(fe=X.ref,De=ee.current),X.key!==void 0&&(pe=""+X.key),k.type&&k.type.defaultProps)var Te=k.type.defaultProps;for(We in X)A.call(X,We)&&!ue.hasOwnProperty(We)&&(ye[We]=X[We]===void 0&&Te!==void 0?Te[We]:X[We])}var We=arguments.length-2;if(We===1)ye.children=xe;else if(1<We){Te=Array(We);for(var it=0;it<We;it++)Te[it]=arguments[it+2];ye.children=Te}return{$$typeof:d,type:k.type,key:pe,ref:fe,props:ye,_owner:De}},Ge.createContext=function(k){return k={$$typeof:y,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:_,_context:k},k.Consumer=k},Ge.createElement=Se,Ge.createFactory=function(k){var X=Se.bind(null,k);return X.type=k,X},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(k){return{$$typeof:S,render:k}},Ge.isValidElement=Y,Ge.lazy=function(k){return{$$typeof:I,_payload:{_status:-1,_result:k},_init:ke}},Ge.memo=function(k,X){return{$$typeof:O,type:k,compare:X===void 0?null:X}},Ge.startTransition=function(k){var X=C.transition;C.transition={};try{k()}finally{C.transition=X}},Ge.unstable_act=K,Ge.useCallback=function(k,X){return ce.current.useCallback(k,X)},Ge.useContext=function(k){return ce.current.useContext(k)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(k){return ce.current.useDeferredValue(k)},Ge.useEffect=function(k,X){return ce.current.useEffect(k,X)},Ge.useId=function(){return ce.current.useId()},Ge.useImperativeHandle=function(k,X,xe){return ce.current.useImperativeHandle(k,X,xe)},Ge.useInsertionEffect=function(k,X){return ce.current.useInsertionEffect(k,X)},Ge.useLayoutEffect=function(k,X){return ce.current.useLayoutEffect(k,X)},Ge.useMemo=function(k,X){return ce.current.useMemo(k,X)},Ge.useReducer=function(k,X,xe){return ce.current.useReducer(k,X,xe)},Ge.useRef=function(k){return ce.current.useRef(k)},Ge.useState=function(k){return ce.current.useState(k)},Ge.useSyncExternalStore=function(k,X,xe){return ce.current.useSyncExternalStore(k,X,xe)},Ge.useTransition=function(){return ce.current.useTransition()},Ge.version="18.3.1",Ge}var gh;function Su(){return gh||(gh=1,au.exports=om()),au.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh;function lm(){if(xh)return to;xh=1;var d=Su(),h=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,g=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_={key:!0,ref:!0,__self:!0,__source:!0};function y(S,N,O){var I,b={},V=null,G=null;O!==void 0&&(V=""+O),N.key!==void 0&&(V=""+N.key),N.ref!==void 0&&(G=N.ref);for(I in N)m.call(N,I)&&!_.hasOwnProperty(I)&&(b[I]=N[I]);if(S&&S.defaultProps)for(I in N=S.defaultProps,N)b[I]===void 0&&(b[I]=N[I]);return{$$typeof:h,type:S,key:V,ref:G,props:b,_owner:g.current}}return to.Fragment=l,to.jsx=y,to.jsxs=y,to}var vh;function cm(){return vh||(vh=1,su.exports=lm()),su.exports}var r=cm(),w=Su();const ra=ju(w),um=am({__proto__:null,default:ra},[w]);var bl={},ou={exports:{}},vn={},lu={exports:{}},cu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yh;function dm(){return yh||(yh=1,function(d){function h(C,se){var K=C.length;C.push(se);e:for(;0<K;){var k=K-1>>>1,X=C[k];if(0<g(X,se))C[k]=se,C[K]=X,K=k;else break e}}function l(C){return C.length===0?null:C[0]}function m(C){if(C.length===0)return null;var se=C[0],K=C.pop();if(K!==se){C[0]=K;e:for(var k=0,X=C.length,xe=X>>>1;k<xe;){var ye=2*(k+1)-1,pe=C[ye],fe=ye+1,De=C[fe];if(0>g(pe,K))fe<X&&0>g(De,pe)?(C[k]=De,C[fe]=K,k=fe):(C[k]=pe,C[ye]=K,k=ye);else if(fe<X&&0>g(De,K))C[k]=De,C[fe]=K,k=fe;else break e}}return se}function g(C,se){var K=C.sortIndex-se.sortIndex;return K!==0?K:C.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var _=performance;d.unstable_now=function(){return _.now()}}else{var y=Date,S=y.now();d.unstable_now=function(){return y.now()-S}}var N=[],O=[],I=1,b=null,V=3,G=!1,J=!1,R=!1,z=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(C){for(var se=l(O);se!==null;){if(se.callback===null)m(O);else if(se.startTime<=C)m(O),se.sortIndex=se.expirationTime,h(N,se);else break;se=l(O)}}function D(C){if(R=!1,$(C),!J)if(l(N)!==null)J=!0,ke(A);else{var se=l(O);se!==null&&ce(D,se.startTime-C)}}function A(C,se){J=!1,R&&(R=!1,Q(Se),Se=-1),G=!0;var K=V;try{for($(se),b=l(N);b!==null&&(!(b.expirationTime>se)||C&&!me());){var k=b.callback;if(typeof k=="function"){b.callback=null,V=b.priorityLevel;var X=k(b.expirationTime<=se);se=d.unstable_now(),typeof X=="function"?b.callback=X:b===l(N)&&m(N),$(se)}else m(N);b=l(N)}if(b!==null)var xe=!0;else{var ye=l(O);ye!==null&&ce(D,ye.startTime-se),xe=!1}return xe}finally{b=null,V=K,G=!1}}var ee=!1,ue=null,Se=-1,rt=5,Y=-1;function me(){return!(d.unstable_now()-Y<rt)}function Ie(){if(ue!==null){var C=d.unstable_now();Y=C;var se=!0;try{se=ue(!0,C)}finally{se?Ue():(ee=!1,ue=null)}}else ee=!1}var Ue;if(typeof B=="function")Ue=function(){B(Ie)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,de=Ze.port2;Ze.port1.onmessage=Ie,Ue=function(){de.postMessage(null)}}else Ue=function(){z(Ie,0)};function ke(C){ue=C,ee||(ee=!0,Ue())}function ce(C,se){Se=z(function(){C(d.unstable_now())},se)}d.unstable_IdlePriority=5,d.unstable_ImmediatePriority=1,d.unstable_LowPriority=4,d.unstable_NormalPriority=3,d.unstable_Profiling=null,d.unstable_UserBlockingPriority=2,d.unstable_cancelCallback=function(C){C.callback=null},d.unstable_continueExecution=function(){J||G||(J=!0,ke(A))},d.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rt=0<C?Math.floor(1e3/C):5},d.unstable_getCurrentPriorityLevel=function(){return V},d.unstable_getFirstCallbackNode=function(){return l(N)},d.unstable_next=function(C){switch(V){case 1:case 2:case 3:var se=3;break;default:se=V}var K=V;V=se;try{return C()}finally{V=K}},d.unstable_pauseExecution=function(){},d.unstable_requestPaint=function(){},d.unstable_runWithPriority=function(C,se){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var K=V;V=C;try{return se()}finally{V=K}},d.unstable_scheduleCallback=function(C,se,K){var k=d.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?k+K:k):K=k,C){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=K+X,C={id:I++,callback:se,priorityLevel:C,startTime:K,expirationTime:X,sortIndex:-1},K>k?(C.sortIndex=K,h(O,C),l(N)===null&&C===l(O)&&(R?(Q(Se),Se=-1):R=!0,ce(D,K-k))):(C.sortIndex=X,h(N,C),J||G||(J=!0,ke(A))),C},d.unstable_shouldYield=me,d.unstable_wrapCallback=function(C){var se=V;return function(){var K=V;V=se;try{return C.apply(this,arguments)}finally{V=K}}}}(cu)),cu}var _h;function hm(){return _h||(_h=1,lu.exports=dm()),lu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh;function fm(){if(wh)return vn;wh=1;var d=Su(),h=hm();function l(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var m=new Set,g={};function _(e,n){y(e,n),y(e+"Capture",n)}function y(e,n){for(g[e]=n,e=0;e<n.length;e++)m.add(n[e])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),N=Object.prototype.hasOwnProperty,O=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},b={};function V(e){return N.call(b,e)?!0:N.call(I,e)?!1:O.test(e)?b[e]=!0:(I[e]=!0,!1)}function G(e,n,s,o){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return o?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function J(e,n,s,o){if(n===null||typeof n>"u"||G(e,n,s,o))return!0;if(o)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function R(e,n,s,o,u,f,x){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=o,this.attributeNamespace=u,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=f,this.removeEmptyString=x}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];z[n]=new R(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){z[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){z[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){z[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){z[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Q,B);z[n]=new R(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Q,B);z[n]=new R(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Q,B);z[n]=new R(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){z[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),z.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){z[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,n,s,o){var u=z.hasOwnProperty(n)?z[n]:null;(u!==null?u.type!==0:o||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(J(n,s,u,o)&&(s=null),o||u===null?V(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):u.mustUseProperty?e[u.propertyName]=s===null?u.type===3?!1:"":s:(n=u.attributeName,o=u.attributeNamespace,s===null?e.removeAttribute(n):(u=u.type,s=u===3||u===4&&s===!0?"":""+s,o?e.setAttributeNS(o,n,s):e.setAttribute(n,s))))}var D=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),ee=Symbol.for("react.portal"),ue=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),rt=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),me=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),C=Symbol.iterator;function se(e){return e===null||typeof e!="object"?null:(e=C&&e[C]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,k;function X(e){if(k===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);k=n&&n[1]||""}return`
`+k+e}var xe=!1;function ye(e,n){if(!e||xe)return"";xe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(W){var o=W}Reflect.construct(e,[],n)}else{try{n.call()}catch(W){o=W}e.call(n.prototype)}else{try{throw Error()}catch(W){o=W}e()}}catch(W){if(W&&o&&typeof W.stack=="string"){for(var u=W.stack.split(`
`),f=o.stack.split(`
`),x=u.length-1,j=f.length-1;1<=x&&0<=j&&u[x]!==f[j];)j--;for(;1<=x&&0<=j;x--,j--)if(u[x]!==f[j]){if(x!==1||j!==1)do if(x--,j--,0>j||u[x]!==f[j]){var E=`
`+u[x].replace(" at new "," at ");return e.displayName&&E.includes("<anonymous>")&&(E=E.replace("<anonymous>",e.displayName)),E}while(1<=x&&0<=j);break}}}finally{xe=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?X(e):""}function pe(e){switch(e.tag){case 5:return X(e.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return e=ye(e.type,!1),e;case 11:return e=ye(e.type.render,!1),e;case 1:return e=ye(e.type,!0),e;default:return""}}function fe(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ue:return"Fragment";case ee:return"Portal";case rt:return"Profiler";case Se:return"StrictMode";case Ue:return"Suspense";case Ze:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case me:return(e.displayName||"Context")+".Consumer";case Y:return(e._context.displayName||"Context")+".Provider";case Ie:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case de:return n=e.displayName||null,n!==null?n:fe(e.type)||"Memo";case ke:n=e._payload,e=e._init;try{return fe(e(n))}catch{}}return null}function De(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fe(n);case 8:return n===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Te(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function We(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function it(e){var n=We(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,f=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(x){o=""+x,f.call(this,x)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(x){o=""+x},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Tt(e){e._valueTracker||(e._valueTracker=it(e))}function cn(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=We(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function kt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wn(e,n){var s=n.checked;return K({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function te(e,n){var s=n.defaultValue==null?"":n.defaultValue,o=n.checked!=null?n.checked:n.defaultChecked;s=Te(n.value!=null?n.value:s),e._wrapperState={initialChecked:o,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Oe(e,n){n=n.checked,n!=null&&$(e,"checked",n,!1)}function Ke(e,n){Oe(e,n);var s=Te(n.value),o=n.type;if(s!=null)o==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?xt(e,n.type,s):n.hasOwnProperty("defaultValue")&&xt(e,n.type,Te(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function un(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var o=n.type;if(!(o!=="submit"&&o!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function xt(e,n,s){(n!=="number"||kt(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var mt=Array.isArray;function T(e,n,s,o){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Te(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Be(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(l(91));return K({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pt(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(l(92));if(mt(s)){if(1<s.length)throw Error(l(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Te(s)}}function Xt(e,n){var s=Te(n.value),o=Te(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),o!=null&&(e.defaultValue=""+o)}function st(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function bt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ut(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?bt(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var At,hs=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,o,u){MSApp.execUnsafeLocalFunction(function(){return e(n,s,o,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(At=At||document.createElement("div"),At.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=At.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ar(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ca=["Webkit","ms","Moz","O"];Object.keys(or).forEach(function(e){ca.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),or[n]=or[e]})});function Pi(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||or.hasOwnProperty(e)&&or[e]?(""+n).trim():n+"px"}function Zr(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var o=s.indexOf("--")===0,u=Pi(s,n[s],o);s==="float"&&(s="cssFloat"),o?e.setProperty(s,u):e[s]=u}}var fs=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U(e,n){if(n){if(fs[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(l(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(l(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(l(61))}if(n.style!=null&&typeof n.style!="object")throw Error(l(62))}}function le(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var He=null;function $e(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Pe=null,je=null,Xe=null;function Nn(e){if(e=Tr(e)){if(typeof Pe!="function")throw Error(l(280));var n=e.stateNode;n&&(n=Fs(n),Pe(e.stateNode,e.type,n))}}function en(e){je?Xe?Xe.push(e):Xe=[e]:je=e}function lr(){if(je){var e=je,n=Xe;if(Xe=je=null,Nn(e),n)for(e=0;e<n.length;e++)Nn(n[e])}}function oo(e,n){return e(n)}function lo(){}var ua=!1;function ms(e,n,s){if(ua)return e(n,s);ua=!0;try{return oo(e,n,s)}finally{ua=!1,(je!==null||Xe!==null)&&(lo(),lr())}}function Ci(e,n){var s=e.stateNode;if(s===null)return null;var o=Fs(s);if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var da=!1;if(S)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){da=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{da=!1}function zl(e,n,s,o,u,f,x,j,E){var W=Array.prototype.slice.call(arguments,3);try{n.apply(s,W)}catch(ie){this.onError(ie)}}var Vt=!1,Ne=null,Ei=!1,ps=null,co={onError:function(e){Vt=!0,Ne=e}};function uo(e,n,s,o,u,f,x,j,E){Vt=!1,Ne=null,zl.apply(co,arguments)}function ha(e,n,s,o,u,f,x,j,E){if(uo.apply(this,arguments),Vt){if(Vt){var W=Ne;Vt=!1,Ne=null}else throw Error(l(198));Ei||(Ei=!0,ps=W)}}function cr(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function wr(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function fa(e){if(cr(e)!==e)throw Error(l(188))}function Al(e){var n=e.alternate;if(!n){if(n=cr(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,o=n;;){var u=s.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){s=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===s)return fa(u),e;if(f===o)return fa(u),n;f=f.sibling}throw Error(l(188))}if(s.return!==o.return)s=u,o=f;else{for(var x=!1,j=u.child;j;){if(j===s){x=!0,s=u,o=f;break}if(j===o){x=!0,o=u,s=f;break}j=j.sibling}if(!x){for(j=f.child;j;){if(j===s){x=!0,s=f,o=u;break}if(j===o){x=!0,o=f,s=u;break}j=j.sibling}if(!x)throw Error(l(189))}}if(s.alternate!==o)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function ho(e){return e=Al(e),e!==null?fo(e):null}function fo(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=fo(e);if(n!==null)return n;e=e.sibling}return null}var mo=h.unstable_scheduleCallback,ma=h.unstable_cancelCallback,Dl=h.unstable_shouldYield,gs=h.unstable_requestPaint,vt=h.unstable_now,Bl=h.unstable_getCurrentPriorityLevel,pa=h.unstable_ImmediatePriority,po=h.unstable_UserBlockingPriority,xs=h.unstable_NormalPriority,ga=h.unstable_LowPriority,$r=h.unstable_IdlePriority,Ii=null,bn=null;function Ti(e){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Ii,e,void 0,(e.current.flags&128)===128)}catch{}}var Fe=Math.clz32?Math.clz32:Vr,dt=Math.log,vs=Math.LN2;function Vr(e){return e>>>=0,e===0?32:31-(dt(e)/vs|0)|0}var Gn=64,Hr=4194304;function Ae(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lt(e,n){var s=e.pendingLanes;if(s===0)return 0;var o=0,u=e.suspendedLanes,f=e.pingedLanes,x=s&268435455;if(x!==0){var j=x&~u;j!==0?o=Ae(j):(f&=x,f!==0&&(o=Ae(f)))}else x=s&~u,x!==0?o=Ae(x):f!==0&&(o=Ae(f));if(o===0)return 0;if(n!==0&&n!==o&&(n&u)===0&&(u=o&-o,f=n&-n,u>=f||u===16&&(f&4194240)!==0))return n;if((o&4)!==0&&(o|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=o;0<n;)s=31-Fe(n),u=1<<s,o|=e[s],n&=~u;return o}function xa(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ys(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes;0<f;){var x=31-Fe(f),j=1<<x,E=u[x];E===-1?((j&s)===0||(j&o)!==0)&&(u[x]=xa(j,n)):E<=n&&(e.expiredLanes|=j),f&=~j}}function Ht(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function go(){var e=Gn;return Gn<<=1,(Gn&4194240)===0&&(Gn=64),e}function qr(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function jn(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Fe(n),e[n]=s}function jt(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<s;){var u=31-Fe(s),f=1<<u;n[u]=0,o[u]=-1,e[u]=-1,s&=~f}}function Qn(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Fe(s),u=1<<o;u&n|e[o]&n&&(e[o]|=n),s&=~u}}var Je=0;function Wr(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var _s,Nr,ws,Ns,Mi,Oi=!1,Gr=[],Sn=null,Kn=null,Rn=null,Ri=new Map,Me=new Map,Mt=[],at="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function va(e,n){switch(e){case"focusin":case"focusout":Sn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Rn=null;break;case"pointerover":case"pointerout":Ri.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Me.delete(n.pointerId)}}function br(e,n,s,o,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Tr(n),n!==null&&Nr(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function ya(e,n,s,o,u){switch(n){case"focusin":return Sn=br(Sn,e,n,s,o,u),!0;case"dragenter":return Kn=br(Kn,e,n,s,o,u),!0;case"mouseover":return Rn=br(Rn,e,n,s,o,u),!0;case"pointerover":var f=u.pointerId;return Ri.set(f,br(Ri.get(f)||null,e,n,s,o,u)),!0;case"gotpointercapture":return f=u.pointerId,Me.set(f,br(Me.get(f)||null,e,n,s,o,u)),!0}return!1}function bs(e){var n=Ir(e.target);if(n!==null){var s=cr(n);if(s!==null){if(n=s.tag,n===13){if(n=wr(s),n!==null){e.blockedOn=n,Mi(e.priority,function(){ws(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zn(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ks(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);He=o,s.target.dispatchEvent(o),He=null}else return n=Tr(s),n!==null&&Nr(n),e.blockedOn=s,!1;n.shift()}return!0}function js(e,n,s){zn(e)&&s.delete(n)}function zi(){Oi=!1,Sn!==null&&zn(Sn)&&(Sn=null),Kn!==null&&zn(Kn)&&(Kn=null),Rn!==null&&zn(Rn)&&(Rn=null),Ri.forEach(js),Me.forEach(js)}function yt(e,n){e.blockedOn===n&&(e.blockedOn=null,Oi||(Oi=!0,h.unstable_scheduleCallback(h.unstable_NormalPriority,zi)))}function kn(e){function n(u){return yt(u,e)}if(0<Gr.length){yt(Gr[0],e);for(var s=1;s<Gr.length;s++){var o=Gr[s];o.blockedOn===e&&(o.blockedOn=null)}}for(Sn!==null&&yt(Sn,e),Kn!==null&&yt(Kn,e),Rn!==null&&yt(Rn,e),Ri.forEach(n),Me.forEach(n),s=0;s<Mt.length;s++)o=Mt[s],o.blockedOn===e&&(o.blockedOn=null);for(;0<Mt.length&&(s=Mt[0],s.blockedOn===null);)bs(s),s.blockedOn===null&&Mt.shift()}var jr=D.ReactCurrentBatchConfig,Ai=!0;function Fl(e,n,s,o){var u=Je,f=jr.transition;jr.transition=null;try{Je=1,Di(e,n,s,o)}finally{Je=u,jr.transition=f}}function xo(e,n,s,o){var u=Je,f=jr.transition;jr.transition=null;try{Je=4,Di(e,n,s,o)}finally{Je=u,jr.transition=f}}function Di(e,n,s,o){if(Ai){var u=ks(e,n,s,o);if(u===null)t(e,n,o,Ss,s),va(e,o);else if(ya(u,e,n,s,o))o.stopPropagation();else if(va(e,o),n&4&&-1<at.indexOf(e)){for(;u!==null;){var f=Tr(u);if(f!==null&&_s(f),f=ks(e,n,s,o),f===null&&t(e,n,o,Ss,s),f===u)break;u=f}u!==null&&o.stopPropagation()}else t(e,n,o,null,s)}}var Ss=null;function ks(e,n,s,o){if(Ss=null,e=$e(o),e=Ir(e),e!==null)if(n=cr(e),n===null)e=null;else if(s=n.tag,s===13){if(e=wr(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return Ss=e,null}function Qe(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bl()){case pa:return 1;case po:return 4;case xs:case ga:return 16;case $r:return 536870912;default:return 16}default:return 16}}var ur=null,tn=null,dr=null;function _a(){if(dr)return dr;var e,n=tn,s=n.length,o,u="value"in ur?ur.value:ur.textContent,f=u.length;for(e=0;e<s&&n[e]===u[e];e++);var x=s-e;for(o=1;o<=x&&n[s-o]===u[f-o];o++);return dr=u.slice(e,1<o?1-o:void 0)}function Ps(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qr(){return!0}function vo(){return!1}function qt(e){function n(s,o,u,f,x){this._reactName=s,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var j in e)e.hasOwnProperty(j)&&(s=e[j],this[j]=s?s(f):f[j]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qr:vo,this.isPropagationStopped=vo,this}return K(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Qr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Qr)},persist:function(){},isPersistent:Qr}),n}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=qt(Kr),Sr=K({},Kr,{view:0,detail:0}),Ul=qt(Sr),dn,Na,Jr,Pn=K({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jr&&(Jr&&e.type==="mousemove"?(dn=e.screenX-Jr.screenX,Na=e.screenY-Jr.screenY):Na=dn=0,Jr=e),dn)},movementY:function(e){return"movementY"in e?e.movementY:Na}}),ba=qt(Pn),yo=K({},Pn,{dataTransfer:0}),ja=qt(yo),Zl=K({},Sr,{relatedTarget:0}),Cs=qt(Zl),_o=K({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),$l=qt(_o),Vl=K({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sa=qt(Vl),Hl=K({},Kr,{data:0}),ka=qt(Hl),wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ls={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ql(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=kr[e])?!!n[e]:!1}function Pr(){return ql}var hn=K({},Sr,{key:function(e){if(e.key){var n=wo[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ls[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(e){return e.type==="keypress"?Ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),No=qt(hn),bo=K({},Pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jo=qt(bo),Pa=K({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),Ca=qt(Pa),Wl=K({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gl=qt(Wl),So=K({},Pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ql=qt(So),Cn=[9,13,27,32],hr=S&&"CompositionEvent"in window,Bi=null;S&&"documentMode"in document&&(Bi=document.documentMode);var Jn=S&&"TextEvent"in window&&!Bi,ko=S&&(!hr||Bi&&8<Bi&&11>=Bi),Cr=" ",Po=!1;function Yr(e,n){switch(e){case"keyup":return Cn.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function La(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yn=!1;function Kl(e,n){switch(e){case"compositionend":return La(n);case"keypress":return n.which!==32?null:(Po=!0,Cr);case"textInput":return e=n.data,e===Cr&&Po?null:e;default:return null}}function fr(e,n){if(Yn)return e==="compositionend"||!hr&&Yr(e,n)?(e=_a(),dr=tn=ur=null,Yn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ko&&n.locale!=="ko"?null:n.data;default:return null}}var Es={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Co(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Es[e.type]:n==="textarea"}function Is(e,n,s,o){en(o),n=a(n,"onChange"),0<n.length&&(s=new wa("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Fi=null,nn=null;function Jl(e){Da(e,0)}function Xn(e){var n=Mr(e);if(cn(n))return e}function Yl(e,n){if(e==="change")return n}var An=!1;if(S){var Xr;if(S){var Ts="oninput"in document;if(!Ts){var Ms=document.createElement("div");Ms.setAttribute("oninput","return;"),Ts=typeof Ms.oninput=="function"}Xr=Ts}else Xr=!1;An=Xr&&(!document.documentMode||9<document.documentMode)}function Ui(){Fi&&(Fi.detachEvent("onpropertychange",Os),nn=Fi=null)}function Os(e){if(e.propertyName==="value"&&Xn(nn)){var n=[];Is(n,nn,e,$e(e)),ms(Jl,n)}}function Rs(e,n,s){e==="focusin"?(Ui(),Fi=n,nn=s,Fi.attachEvent("onpropertychange",Os)):e==="focusout"&&Ui()}function ei(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xn(nn)}function zs(e,n){if(e==="click")return Xn(n)}function Ea(e,n){if(e==="input"||e==="change")return Xn(n)}function Lo(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Ln=typeof Object.is=="function"?Object.is:Lo;function mr(e,n){if(Ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var u=s[o];if(!N.call(n,u)||!Ln(e[u],n[u]))return!1}return!0}function Eo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ia(e,n){var s=Eo(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Eo(s)}}function Io(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Io(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ta(){for(var e=window,n=kt();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=kt(e.document)}return n}function Ma(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Dn(e){var n=Ta(),s=e.focusedElem,o=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&Io(s.ownerDocument.documentElement,s)){if(o!==null&&Ma(s)){if(n=o.start,e=o.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=s.textContent.length,f=Math.min(o.start,u);o=o.end===void 0?f:Math.min(o.end,u),!e.extend&&f>o&&(u=o,o=f,f=u),u=Ia(s,f);var x=Ia(s,o);u&&x&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==x.node||e.focusOffset!==x.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),f>o?(e.addRange(n),e.extend(x.node,x.offset)):(n.setEnd(x.node,x.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var As=S&&"documentMode"in document&&11>=document.documentMode,ti=null,ni=null,Zi=null,Ds=!1;function To(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ds||ti==null||ti!==kt(o)||(o=ti,"selectionStart"in o&&Ma(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zi&&mr(Zi,o)||(Zi=o,o=a(ni,"onSelect"),0<o.length&&(n=new wa("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ti)))}function pr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ri={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionend:pr("Transition","TransitionEnd")},gr={},Oa={};S&&(Oa=document.createElement("div").style,"AnimationEvent"in window||(delete ri.animationend.animation,delete ri.animationiteration.animation,delete ri.animationstart.animation),"TransitionEvent"in window||delete ri.transitionend.transition);function $i(e){if(gr[e])return gr[e];if(!ri[e])return e;var n=ri[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Oa)return gr[e]=n[s];return e}var Mo=$i("animationend"),Bn=$i("animationiteration"),Ra=$i("animationstart"),za=$i("transitionend"),ii=new Map,Oo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,n){ii.set(e,n),_(n,[e])}for(var Lr=0;Lr<Oo.length;Lr++){var Bs=Oo[Lr],Ro=Bs.toLowerCase(),Xl=Bs[0].toUpperCase()+Bs.slice(1);En(Ro,"on"+Xl)}En(Mo,"onAnimationEnd"),En(Bn,"onAnimationIteration"),En(Ra,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(za,"onTransitionEnd"),y("onMouseEnter",["mouseout","mouseover"]),y("onMouseLeave",["mouseout","mouseover"]),y("onPointerEnter",["pointerout","pointerover"]),y("onPointerLeave",["pointerout","pointerover"]),_("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_("onBeforeInput",["compositionend","keypress","textInput","paste"]),_("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zo=new Set("cancel close invalid load scroll toggle".split(" ").concat(si));function Aa(e,n,s){var o=e.type||"unknown-event";e.currentTarget=s,ha(o,n,void 0,e),e.currentTarget=null}function Da(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],u=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var x=o.length-1;0<=x;x--){var j=o[x],E=j.instance,W=j.currentTarget;if(j=j.listener,E!==f&&u.isPropagationStopped())break e;Aa(u,j,W),f=E}else for(x=0;x<o.length;x++){if(j=o[x],E=j.instance,W=j.currentTarget,j=j.listener,E!==f&&u.isPropagationStopped())break e;Aa(u,j,W),f=E}}}if(Ei)throw e=ps,Ei=!1,ps=null,e}function ot(e,n){var s=n[ci];s===void 0&&(s=n[ci]=new Set);var o=e+"__bubble";s.has(o)||(Ao(n,e,2,!1),s.add(o))}function Ba(e,n,s){var o=0;n&&(o|=4),Ao(s,e,o,n)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function ai(e){if(!e[Vi]){e[Vi]=!0,m.forEach(function(s){s!=="selectionchange"&&(zo.has(s)||Ba(s,!1,e),Ba(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Vi]||(n[Vi]=!0,Ba("selectionchange",!1,n))}}function Ao(e,n,s,o){switch(Qe(n)){case 1:var u=Fl;break;case 4:u=xo;break;default:u=Di}s=u.bind(null,n,s,e),u=void 0,!da||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function t(e,n,s,o,u){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var x=o.tag;if(x===3||x===4){var j=o.stateNode.containerInfo;if(j===u||j.nodeType===8&&j.parentNode===u)break;if(x===4)for(x=o.return;x!==null;){var E=x.tag;if((E===3||E===4)&&(E=x.stateNode.containerInfo,E===u||E.nodeType===8&&E.parentNode===u))return;x=x.return}for(;j!==null;){if(x=Ir(j),x===null)return;if(E=x.tag,E===5||E===6){o=f=x;continue e}j=j.parentNode}}o=o.return}ms(function(){var W=f,ie=$e(s),ae=[];e:{var re=ii.get(e);if(re!==void 0){var ge=wa,_e=e;switch(e){case"keypress":if(Ps(s)===0)break e;case"keydown":case"keyup":ge=No;break;case"focusin":_e="focus",ge=Cs;break;case"focusout":_e="blur",ge=Cs;break;case"beforeblur":case"afterblur":ge=Cs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=ba;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=ja;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Ca;break;case Mo:case Bn:case Ra:ge=$l;break;case za:ge=Gl;break;case"scroll":ge=Ul;break;case"wheel":ge=Ql;break;case"copy":case"cut":case"paste":ge=Sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=jo}var we=(n&4)!==0,Pt=!we&&e==="scroll",Z=we?re!==null?re+"Capture":null:re;we=[];for(var M=W,H;M!==null;){H=M;var oe=H.stateNode;if(H.tag===5&&oe!==null&&(H=oe,Z!==null&&(oe=Ci(M,Z),oe!=null&&we.push(i(M,oe,H)))),Pt)break;M=M.return}0<we.length&&(re=new ge(re,_e,null,s,ie),ae.push({event:re,listeners:we}))}}if((n&7)===0){e:{if(re=e==="mouseover"||e==="pointerover",ge=e==="mouseout"||e==="pointerout",re&&s!==He&&(_e=s.relatedTarget||s.fromElement)&&(Ir(_e)||_e[nt]))break e;if((ge||re)&&(re=ie.window===ie?ie:(re=ie.ownerDocument)?re.defaultView||re.parentWindow:window,ge?(_e=s.relatedTarget||s.toElement,ge=W,_e=_e?Ir(_e):null,_e!==null&&(Pt=cr(_e),_e!==Pt||_e.tag!==5&&_e.tag!==6)&&(_e=null)):(ge=null,_e=W),ge!==_e)){if(we=ba,oe="onMouseLeave",Z="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(we=jo,oe="onPointerLeave",Z="onPointerEnter",M="pointer"),Pt=ge==null?re:Mr(ge),H=_e==null?re:Mr(_e),re=new we(oe,M+"leave",ge,s,ie),re.target=Pt,re.relatedTarget=H,oe=null,Ir(ie)===W&&(we=new we(Z,M+"enter",_e,s,ie),we.target=H,we.relatedTarget=Pt,oe=we),Pt=oe,ge&&_e)t:{for(we=ge,Z=_e,M=0,H=we;H;H=c(H))M++;for(H=0,oe=Z;oe;oe=c(oe))H++;for(;0<M-H;)we=c(we),M--;for(;0<H-M;)Z=c(Z),H--;for(;M--;){if(we===Z||Z!==null&&we===Z.alternate)break t;we=c(we),Z=c(Z)}we=null}else we=null;ge!==null&&p(ae,re,ge,we,!1),_e!==null&&Pt!==null&&p(ae,Pt,_e,we,!0)}}e:{if(re=W?Mr(W):window,ge=re.nodeName&&re.nodeName.toLowerCase(),ge==="select"||ge==="input"&&re.type==="file")var be=Yl;else if(Co(re))if(An)be=Ea;else{be=ei;var Le=Rs}else(ge=re.nodeName)&&ge.toLowerCase()==="input"&&(re.type==="checkbox"||re.type==="radio")&&(be=zs);if(be&&(be=be(e,W))){Is(ae,be,s,ie);break e}Le&&Le(e,re,W),e==="focusout"&&(Le=re._wrapperState)&&Le.controlled&&re.type==="number"&&xt(re,"number",re.value)}switch(Le=W?Mr(W):window,e){case"focusin":(Co(Le)||Le.contentEditable==="true")&&(ti=Le,ni=W,Zi=null);break;case"focusout":Zi=ni=ti=null;break;case"mousedown":Ds=!0;break;case"contextmenu":case"mouseup":case"dragend":Ds=!1,To(ae,s,ie);break;case"selectionchange":if(As)break;case"keydown":case"keyup":To(ae,s,ie)}var Ee;if(hr)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else Yn?Yr(e,s)&&(Re="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Re="onCompositionStart");Re&&(ko&&s.locale!=="ko"&&(Yn||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&Yn&&(Ee=_a()):(ur=ie,tn="value"in ur?ur.value:ur.textContent,Yn=!0)),Le=a(W,Re),0<Le.length&&(Re=new ka(Re,e,null,s,ie),ae.push({event:Re,listeners:Le}),Ee?Re.data=Ee:(Ee=La(s),Ee!==null&&(Re.data=Ee)))),(Ee=Jn?Kl(e,s):fr(e,s))&&(W=a(W,"onBeforeInput"),0<W.length&&(ie=new ka("onBeforeInput","beforeinput",null,s,ie),ae.push({event:ie,listeners:W}),ie.data=Ee))}Da(ae,n)})}function i(e,n,s){return{instance:e,listener:n,currentTarget:s}}function a(e,n){for(var s=n+"Capture",o=[];e!==null;){var u=e,f=u.stateNode;u.tag===5&&f!==null&&(u=f,f=Ci(e,s),f!=null&&o.unshift(i(e,f,u)),f=Ci(e,n),f!=null&&o.push(i(e,f,u))),e=e.return}return o}function c(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function p(e,n,s,o,u){for(var f=n._reactName,x=[];s!==null&&s!==o;){var j=s,E=j.alternate,W=j.stateNode;if(E!==null&&E===o)break;j.tag===5&&W!==null&&(j=W,u?(E=Ci(s,f),E!=null&&x.unshift(i(s,E,j))):u||(E=Ci(s,f),E!=null&&x.push(i(s,E,j)))),s=s.return}x.length!==0&&e.push({event:n,listeners:x})}var v=/\r\n?/g,P=/\u0000|\uFFFD/g;function F(e){return(typeof e=="string"?e:""+e).replace(v,`
`).replace(P,"")}function q(e,n,s){if(n=F(n),F(e)!==n&&s)throw Error(l(425))}function ne(){}var he=null,Ce=null;function Ve(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ot=typeof setTimeout=="function"?setTimeout:void 0,Lt=typeof clearTimeout=="function"?clearTimeout:void 0,rn=typeof Promise=="function"?Promise:void 0,Wt=typeof queueMicrotask=="function"?queueMicrotask:typeof rn<"u"?function(e){return rn.resolve(null).then(e).catch(oi)}:Ot;function oi(e){setTimeout(function(){throw e})}function Fa(e,n){var s=n,o=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(o===0){e.removeChild(u),kn(n);return}o--}else s!=="$"&&s!=="$?"&&s!=="$!"||o++;s=u}while(s);kn(n)}function xr(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Do(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var Er=Math.random().toString(36).slice(2),Fn="__reactFiber$"+Er,li="__reactProps$"+Er,nt="__reactContainer$"+Er,ci="__reactEvents$"+Er,ec="__reactListeners$"+Er,tc="__reactHandles$"+Er;function Ir(e){var n=e[Fn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[nt]||s[Fn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Do(e);e!==null;){if(s=e[Fn])return s;e=Do(e)}return n}e=s,s=e.parentNode}return null}function Tr(e){return e=e[Fn]||e[nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(l(33))}function Fs(e){return e[li]||null}var nc=[],Us=-1;function ui(e){return{current:e}}function ht(e){0>Us||(e.current=nc[Us],nc[Us]=null,Us--)}function ct(e,n){Us++,nc[Us]=e.current,e.current=n}var di={},Gt=ui(di),fn=ui(!1),Hi=di;function Zs(e,n){var s=e.type.contextTypes;if(!s)return di;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===n)return o.__reactInternalMemoizedMaskedChildContext;var u={},f;for(f in s)u[f]=n[f];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function mn(e){return e=e.childContextTypes,e!=null}function Bo(){ht(fn),ht(Gt)}function Au(e,n,s){if(Gt.current!==di)throw Error(l(168));ct(Gt,n),ct(fn,s)}function Du(e,n,s){var o=e.stateNode;if(n=n.childContextTypes,typeof o.getChildContext!="function")return s;o=o.getChildContext();for(var u in o)if(!(u in n))throw Error(l(108,De(e)||"Unknown",u));return K({},s,o)}function Fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,Hi=Gt.current,ct(Gt,e),ct(fn,fn.current),!0}function Bu(e,n,s){var o=e.stateNode;if(!o)throw Error(l(169));s?(e=Du(e,n,Hi),o.__reactInternalMemoizedMergedChildContext=e,ht(fn),ht(Gt),ct(Gt,e)):ht(fn),ct(fn,s)}var Or=null,Uo=!1,rc=!1;function Fu(e){Or===null?Or=[e]:Or.push(e)}function Sf(e){Uo=!0,Fu(e)}function hi(){if(!rc&&Or!==null){rc=!0;var e=0,n=Je;try{var s=Or;for(Je=1;e<s.length;e++){var o=s[e];do o=o(!0);while(o!==null)}Or=null,Uo=!1}catch(u){throw Or!==null&&(Or=Or.slice(e+1)),mo(pa,hi),u}finally{Je=n,rc=!1}}return null}var $s=[],Vs=0,Zo=null,$o=0,Un=[],Zn=0,qi=null,Rr=1,zr="";function Wi(e,n){$s[Vs++]=$o,$s[Vs++]=Zo,Zo=e,$o=n}function Uu(e,n,s){Un[Zn++]=Rr,Un[Zn++]=zr,Un[Zn++]=qi,qi=e;var o=Rr;e=zr;var u=32-Fe(o)-1;o&=~(1<<u),s+=1;var f=32-Fe(n)+u;if(30<f){var x=u-u%5;f=(o&(1<<x)-1).toString(32),o>>=x,u-=x,Rr=1<<32-Fe(n)+u|s<<u|o,zr=f+e}else Rr=1<<f|s<<u|o,zr=e}function ic(e){e.return!==null&&(Wi(e,1),Uu(e,1,0))}function sc(e){for(;e===Zo;)Zo=$s[--Vs],$s[Vs]=null,$o=$s[--Vs],$s[Vs]=null;for(;e===qi;)qi=Un[--Zn],Un[Zn]=null,zr=Un[--Zn],Un[Zn]=null,Rr=Un[--Zn],Un[Zn]=null}var In=null,Tn=null,gt=!1,er=null;function Zu(e,n){var s=qn(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function $u(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,In=e,Tn=xr(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,In=e,Tn=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=qi!==null?{id:Rr,overflow:zr}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=qn(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,In=e,Tn=null,!0):!1;default:return!1}}function ac(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oc(e){if(gt){var n=Tn;if(n){var s=n;if(!$u(e,n)){if(ac(e))throw Error(l(418));n=xr(s.nextSibling);var o=In;n&&$u(e,n)?Zu(o,s):(e.flags=e.flags&-4097|2,gt=!1,In=e)}}else{if(ac(e))throw Error(l(418));e.flags=e.flags&-4097|2,gt=!1,In=e}}}function Vu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;In=e}function Vo(e){if(e!==In)return!1;if(!gt)return Vu(e),gt=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ve(e.type,e.memoizedProps)),n&&(n=Tn)){if(ac(e))throw Hu(),Error(l(418));for(;n;)Zu(e,n),n=xr(n.nextSibling)}if(Vu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){Tn=xr(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}Tn=null}}else Tn=In?xr(e.stateNode.nextSibling):null;return!0}function Hu(){for(var e=Tn;e;)e=xr(e.nextSibling)}function Hs(){Tn=In=null,gt=!1}function lc(e){er===null?er=[e]:er.push(e)}var kf=D.ReactCurrentBatchConfig;function Ua(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(l(309));var o=s.stateNode}if(!o)throw Error(l(147,e));var u=o,f=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===f?n.ref:(n=function(x){var j=u.refs;x===null?delete j[f]:j[f]=x},n._stringRef=f,n)}if(typeof e!="string")throw Error(l(284));if(!s._owner)throw Error(l(290,e))}return e}function Ho(e,n){throw e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function qu(e){var n=e._init;return n(e._payload)}function Wu(e){function n(Z,M){if(e){var H=Z.deletions;H===null?(Z.deletions=[M],Z.flags|=16):H.push(M)}}function s(Z,M){if(!e)return null;for(;M!==null;)n(Z,M),M=M.sibling;return null}function o(Z,M){for(Z=new Map;M!==null;)M.key!==null?Z.set(M.key,M):Z.set(M.index,M),M=M.sibling;return Z}function u(Z,M){return Z=_i(Z,M),Z.index=0,Z.sibling=null,Z}function f(Z,M,H){return Z.index=H,e?(H=Z.alternate,H!==null?(H=H.index,H<M?(Z.flags|=2,M):H):(Z.flags|=2,M)):(Z.flags|=1048576,M)}function x(Z){return e&&Z.alternate===null&&(Z.flags|=2),Z}function j(Z,M,H,oe){return M===null||M.tag!==6?(M=Xc(H,Z.mode,oe),M.return=Z,M):(M=u(M,H),M.return=Z,M)}function E(Z,M,H,oe){var be=H.type;return be===ue?ie(Z,M,H.props.children,oe,H.key):M!==null&&(M.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ke&&qu(be)===M.type)?(oe=u(M,H.props),oe.ref=Ua(Z,M,H),oe.return=Z,oe):(oe=pl(H.type,H.key,H.props,null,Z.mode,oe),oe.ref=Ua(Z,M,H),oe.return=Z,oe)}function W(Z,M,H,oe){return M===null||M.tag!==4||M.stateNode.containerInfo!==H.containerInfo||M.stateNode.implementation!==H.implementation?(M=eu(H,Z.mode,oe),M.return=Z,M):(M=u(M,H.children||[]),M.return=Z,M)}function ie(Z,M,H,oe,be){return M===null||M.tag!==7?(M=ts(H,Z.mode,oe,be),M.return=Z,M):(M=u(M,H),M.return=Z,M)}function ae(Z,M,H){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Xc(""+M,Z.mode,H),M.return=Z,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return H=pl(M.type,M.key,M.props,null,Z.mode,H),H.ref=Ua(Z,null,M),H.return=Z,H;case ee:return M=eu(M,Z.mode,H),M.return=Z,M;case ke:var oe=M._init;return ae(Z,oe(M._payload),H)}if(mt(M)||se(M))return M=ts(M,Z.mode,H,null),M.return=Z,M;Ho(Z,M)}return null}function re(Z,M,H,oe){var be=M!==null?M.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return be!==null?null:j(Z,M,""+H,oe);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===be?E(Z,M,H,oe):null;case ee:return H.key===be?W(Z,M,H,oe):null;case ke:return be=H._init,re(Z,M,be(H._payload),oe)}if(mt(H)||se(H))return be!==null?null:ie(Z,M,H,oe,null);Ho(Z,H)}return null}function ge(Z,M,H,oe,be){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return Z=Z.get(H)||null,j(M,Z,""+oe,be);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case A:return Z=Z.get(oe.key===null?H:oe.key)||null,E(M,Z,oe,be);case ee:return Z=Z.get(oe.key===null?H:oe.key)||null,W(M,Z,oe,be);case ke:var Le=oe._init;return ge(Z,M,H,Le(oe._payload),be)}if(mt(oe)||se(oe))return Z=Z.get(H)||null,ie(M,Z,oe,be,null);Ho(M,oe)}return null}function _e(Z,M,H,oe){for(var be=null,Le=null,Ee=M,Re=M=0,Ft=null;Ee!==null&&Re<H.length;Re++){Ee.index>Re?(Ft=Ee,Ee=null):Ft=Ee.sibling;var et=re(Z,Ee,H[Re],oe);if(et===null){Ee===null&&(Ee=Ft);break}e&&Ee&&et.alternate===null&&n(Z,Ee),M=f(et,M,Re),Le===null?be=et:Le.sibling=et,Le=et,Ee=Ft}if(Re===H.length)return s(Z,Ee),gt&&Wi(Z,Re),be;if(Ee===null){for(;Re<H.length;Re++)Ee=ae(Z,H[Re],oe),Ee!==null&&(M=f(Ee,M,Re),Le===null?be=Ee:Le.sibling=Ee,Le=Ee);return gt&&Wi(Z,Re),be}for(Ee=o(Z,Ee);Re<H.length;Re++)Ft=ge(Ee,Z,Re,H[Re],oe),Ft!==null&&(e&&Ft.alternate!==null&&Ee.delete(Ft.key===null?Re:Ft.key),M=f(Ft,M,Re),Le===null?be=Ft:Le.sibling=Ft,Le=Ft);return e&&Ee.forEach(function(wi){return n(Z,wi)}),gt&&Wi(Z,Re),be}function we(Z,M,H,oe){var be=se(H);if(typeof be!="function")throw Error(l(150));if(H=be.call(H),H==null)throw Error(l(151));for(var Le=be=null,Ee=M,Re=M=0,Ft=null,et=H.next();Ee!==null&&!et.done;Re++,et=H.next()){Ee.index>Re?(Ft=Ee,Ee=null):Ft=Ee.sibling;var wi=re(Z,Ee,et.value,oe);if(wi===null){Ee===null&&(Ee=Ft);break}e&&Ee&&wi.alternate===null&&n(Z,Ee),M=f(wi,M,Re),Le===null?be=wi:Le.sibling=wi,Le=wi,Ee=Ft}if(et.done)return s(Z,Ee),gt&&Wi(Z,Re),be;if(Ee===null){for(;!et.done;Re++,et=H.next())et=ae(Z,et.value,oe),et!==null&&(M=f(et,M,Re),Le===null?be=et:Le.sibling=et,Le=et);return gt&&Wi(Z,Re),be}for(Ee=o(Z,Ee);!et.done;Re++,et=H.next())et=ge(Ee,Z,Re,et.value,oe),et!==null&&(e&&et.alternate!==null&&Ee.delete(et.key===null?Re:et.key),M=f(et,M,Re),Le===null?be=et:Le.sibling=et,Le=et);return e&&Ee.forEach(function(sm){return n(Z,sm)}),gt&&Wi(Z,Re),be}function Pt(Z,M,H,oe){if(typeof H=="object"&&H!==null&&H.type===ue&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:e:{for(var be=H.key,Le=M;Le!==null;){if(Le.key===be){if(be=H.type,be===ue){if(Le.tag===7){s(Z,Le.sibling),M=u(Le,H.props.children),M.return=Z,Z=M;break e}}else if(Le.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===ke&&qu(be)===Le.type){s(Z,Le.sibling),M=u(Le,H.props),M.ref=Ua(Z,Le,H),M.return=Z,Z=M;break e}s(Z,Le);break}else n(Z,Le);Le=Le.sibling}H.type===ue?(M=ts(H.props.children,Z.mode,oe,H.key),M.return=Z,Z=M):(oe=pl(H.type,H.key,H.props,null,Z.mode,oe),oe.ref=Ua(Z,M,H),oe.return=Z,Z=oe)}return x(Z);case ee:e:{for(Le=H.key;M!==null;){if(M.key===Le)if(M.tag===4&&M.stateNode.containerInfo===H.containerInfo&&M.stateNode.implementation===H.implementation){s(Z,M.sibling),M=u(M,H.children||[]),M.return=Z,Z=M;break e}else{s(Z,M);break}else n(Z,M);M=M.sibling}M=eu(H,Z.mode,oe),M.return=Z,Z=M}return x(Z);case ke:return Le=H._init,Pt(Z,M,Le(H._payload),oe)}if(mt(H))return _e(Z,M,H,oe);if(se(H))return we(Z,M,H,oe);Ho(Z,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,M!==null&&M.tag===6?(s(Z,M.sibling),M=u(M,H),M.return=Z,Z=M):(s(Z,M),M=Xc(H,Z.mode,oe),M.return=Z,Z=M),x(Z)):s(Z,M)}return Pt}var qs=Wu(!0),Gu=Wu(!1),qo=ui(null),Wo=null,Ws=null,cc=null;function uc(){cc=Ws=Wo=null}function dc(e){var n=qo.current;ht(qo),e._currentValue=n}function hc(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Gs(e,n){Wo=e,cc=Ws=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(pn=!0),e.firstContext=null)}function $n(e){var n=e._currentValue;if(cc!==e)if(e={context:e,memoizedValue:n,next:null},Ws===null){if(Wo===null)throw Error(l(308));Ws=e,Wo.dependencies={lanes:0,firstContext:e}}else Ws=Ws.next=e;return n}var Gi=null;function fc(e){Gi===null?Gi=[e]:Gi.push(e)}function Qu(e,n,s,o){var u=n.interleaved;return u===null?(s.next=s,fc(n)):(s.next=u.next,u.next=s),n.interleaved=s,Ar(e,o)}function Ar(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var fi=!1;function mc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ku(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Dr(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function mi(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ye&2)!==0){var u=o.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),o.pending=n,Ar(e,s)}return u=o.interleaved,u===null?(n.next=n,fc(o)):(n.next=u.next,u.next=n),o.interleaved=n,Ar(e,s)}function Go(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Qn(e,s)}}function Ju(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var u=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var x={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};f===null?u=f=x:f=f.next=x,s=s.next}while(s!==null);f===null?u=f=n:f=f.next=n}else u=f=n;s={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,effects:o.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function Qo(e,n,s,o){var u=e.updateQueue;fi=!1;var f=u.firstBaseUpdate,x=u.lastBaseUpdate,j=u.shared.pending;if(j!==null){u.shared.pending=null;var E=j,W=E.next;E.next=null,x===null?f=W:x.next=W,x=E;var ie=e.alternate;ie!==null&&(ie=ie.updateQueue,j=ie.lastBaseUpdate,j!==x&&(j===null?ie.firstBaseUpdate=W:j.next=W,ie.lastBaseUpdate=E))}if(f!==null){var ae=u.baseState;x=0,ie=W=E=null,j=f;do{var re=j.lane,ge=j.eventTime;if((o&re)===re){ie!==null&&(ie=ie.next={eventTime:ge,lane:0,tag:j.tag,payload:j.payload,callback:j.callback,next:null});e:{var _e=e,we=j;switch(re=n,ge=s,we.tag){case 1:if(_e=we.payload,typeof _e=="function"){ae=_e.call(ge,ae,re);break e}ae=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=we.payload,re=typeof _e=="function"?_e.call(ge,ae,re):_e,re==null)break e;ae=K({},ae,re);break e;case 2:fi=!0}}j.callback!==null&&j.lane!==0&&(e.flags|=64,re=u.effects,re===null?u.effects=[j]:re.push(j))}else ge={eventTime:ge,lane:re,tag:j.tag,payload:j.payload,callback:j.callback,next:null},ie===null?(W=ie=ge,E=ae):ie=ie.next=ge,x|=re;if(j=j.next,j===null){if(j=u.shared.pending,j===null)break;re=j,j=re.next,re.next=null,u.lastBaseUpdate=re,u.shared.pending=null}}while(!0);if(ie===null&&(E=ae),u.baseState=E,u.firstBaseUpdate=W,u.lastBaseUpdate=ie,n=u.shared.interleaved,n!==null){u=n;do x|=u.lane,u=u.next;while(u!==n)}else f===null&&(u.shared.lanes=0);Ji|=x,e.lanes=x,e.memoizedState=ae}}function Yu(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var o=e[n],u=o.callback;if(u!==null){if(o.callback=null,o=s,typeof u!="function")throw Error(l(191,u));u.call(o)}}}var Za={},vr=ui(Za),$a=ui(Za),Va=ui(Za);function Qi(e){if(e===Za)throw Error(l(174));return e}function pc(e,n){switch(ct(Va,n),ct($a,e),ct(vr,Za),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Ut(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Ut(n,e)}ht(vr),ct(vr,n)}function Qs(){ht(vr),ht($a),ht(Va)}function Xu(e){Qi(Va.current);var n=Qi(vr.current),s=Ut(n,e.type);n!==s&&(ct($a,e),ct(vr,s))}function gc(e){$a.current===e&&(ht(vr),ht($a))}var _t=ui(0);function Ko(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var xc=[];function vc(){for(var e=0;e<xc.length;e++)xc[e]._workInProgressVersionPrimary=null;xc.length=0}var Jo=D.ReactCurrentDispatcher,yc=D.ReactCurrentBatchConfig,Ki=0,wt=null,Rt=null,Dt=null,Yo=!1,Ha=!1,qa=0,Pf=0;function Qt(){throw Error(l(321))}function _c(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Ln(e[s],n[s]))return!1;return!0}function wc(e,n,s,o,u,f){if(Ki=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Jo.current=e===null||e.memoizedState===null?If:Tf,e=s(o,u),Ha){f=0;do{if(Ha=!1,qa=0,25<=f)throw Error(l(301));f+=1,Dt=Rt=null,n.updateQueue=null,Jo.current=Mf,e=s(o,u)}while(Ha)}if(Jo.current=tl,n=Rt!==null&&Rt.next!==null,Ki=0,Dt=Rt=wt=null,Yo=!1,n)throw Error(l(300));return e}function Nc(){var e=qa!==0;return qa=0,e}function yr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?wt.memoizedState=Dt=e:Dt=Dt.next=e,Dt}function Vn(){if(Rt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var n=Dt===null?wt.memoizedState:Dt.next;if(n!==null)Dt=n,Rt=e;else{if(e===null)throw Error(l(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},Dt===null?wt.memoizedState=Dt=e:Dt=Dt.next=e}return Dt}function Wa(e,n){return typeof n=="function"?n(e):n}function bc(e){var n=Vn(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var o=Rt,u=o.baseQueue,f=s.pending;if(f!==null){if(u!==null){var x=u.next;u.next=f.next,f.next=x}o.baseQueue=u=f,s.pending=null}if(u!==null){f=u.next,o=o.baseState;var j=x=null,E=null,W=f;do{var ie=W.lane;if((Ki&ie)===ie)E!==null&&(E=E.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),o=W.hasEagerState?W.eagerState:e(o,W.action);else{var ae={lane:ie,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};E===null?(j=E=ae,x=o):E=E.next=ae,wt.lanes|=ie,Ji|=ie}W=W.next}while(W!==null&&W!==f);E===null?x=o:E.next=j,Ln(o,n.memoizedState)||(pn=!0),n.memoizedState=o,n.baseState=x,n.baseQueue=E,s.lastRenderedState=o}if(e=s.interleaved,e!==null){u=e;do f=u.lane,wt.lanes|=f,Ji|=f,u=u.next;while(u!==e)}else u===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function jc(e){var n=Vn(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var o=s.dispatch,u=s.pending,f=n.memoizedState;if(u!==null){s.pending=null;var x=u=u.next;do f=e(f,x.action),x=x.next;while(x!==u);Ln(f,n.memoizedState)||(pn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ed(){}function td(e,n){var s=wt,o=Vn(),u=n(),f=!Ln(o.memoizedState,u);if(f&&(o.memoizedState=u,pn=!0),o=o.queue,Sc(id.bind(null,s,o,e),[e]),o.getSnapshot!==n||f||Dt!==null&&Dt.memoizedState.tag&1){if(s.flags|=2048,Ga(9,rd.bind(null,s,o,u,n),void 0,null),Bt===null)throw Error(l(349));(Ki&30)!==0||nd(s,n,u)}return u}function nd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n={lastEffect:null,stores:null},wt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function rd(e,n,s,o){n.value=s,n.getSnapshot=o,sd(n)&&ad(e)}function id(e,n,s){return s(function(){sd(n)&&ad(e)})}function sd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Ln(e,s)}catch{return!0}}function ad(e){var n=Ar(e,1);n!==null&&ir(n,e,1,-1)}function od(e){var n=yr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:e},n.queue=e,e=e.dispatch=Ef.bind(null,wt,e),[n.memoizedState,e]}function Ga(e,n,s,o){return e={tag:e,create:n,destroy:s,deps:o,next:null},n=wt.updateQueue,n===null?(n={lastEffect:null,stores:null},wt.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e)),e}function ld(){return Vn().memoizedState}function Xo(e,n,s,o){var u=yr();wt.flags|=e,u.memoizedState=Ga(1|n,s,void 0,o===void 0?null:o)}function el(e,n,s,o){var u=Vn();o=o===void 0?null:o;var f=void 0;if(Rt!==null){var x=Rt.memoizedState;if(f=x.destroy,o!==null&&_c(o,x.deps)){u.memoizedState=Ga(n,s,f,o);return}}wt.flags|=e,u.memoizedState=Ga(1|n,s,f,o)}function cd(e,n){return Xo(8390656,8,e,n)}function Sc(e,n){return el(2048,8,e,n)}function ud(e,n){return el(4,2,e,n)}function dd(e,n){return el(4,4,e,n)}function hd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function fd(e,n,s){return s=s!=null?s.concat([e]):null,el(4,4,hd.bind(null,n,e),s)}function kc(){}function md(e,n){var s=Vn();n=n===void 0?null:n;var o=s.memoizedState;return o!==null&&n!==null&&_c(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function pd(e,n){var s=Vn();n=n===void 0?null:n;var o=s.memoizedState;return o!==null&&n!==null&&_c(n,o[1])?o[0]:(e=e(),s.memoizedState=[e,n],e)}function gd(e,n,s){return(Ki&21)===0?(e.baseState&&(e.baseState=!1,pn=!0),e.memoizedState=s):(Ln(s,n)||(s=go(),wt.lanes|=s,Ji|=s,e.baseState=!0),n)}function Cf(e,n){var s=Je;Je=s!==0&&4>s?s:4,e(!0);var o=yc.transition;yc.transition={};try{e(!1),n()}finally{Je=s,yc.transition=o}}function xd(){return Vn().memoizedState}function Lf(e,n,s){var o=vi(e);if(s={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null},vd(e))yd(n,s);else if(s=Qu(e,n,s,o),s!==null){var u=an();ir(s,e,o,u),_d(s,n,o)}}function Ef(e,n,s){var o=vi(e),u={lane:o,action:s,hasEagerState:!1,eagerState:null,next:null};if(vd(e))yd(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var x=n.lastRenderedState,j=f(x,s);if(u.hasEagerState=!0,u.eagerState=j,Ln(j,x)){var E=n.interleaved;E===null?(u.next=u,fc(n)):(u.next=E.next,E.next=u),n.interleaved=u;return}}catch{}finally{}s=Qu(e,n,u,o),s!==null&&(u=an(),ir(s,e,o,u),_d(s,n,o))}}function vd(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function yd(e,n){Ha=Yo=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function _d(e,n,s){if((s&4194240)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Qn(e,s)}}var tl={readContext:$n,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},If={readContext:$n,useCallback:function(e,n){return yr().memoizedState=[e,n===void 0?null:n],e},useContext:$n,useEffect:cd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Xo(4194308,4,hd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Xo(4194308,4,e,n)},useInsertionEffect:function(e,n){return Xo(4,2,e,n)},useMemo:function(e,n){var s=yr();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var o=yr();return n=s!==void 0?s(n):n,o.memoizedState=o.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},o.queue=e,e=e.dispatch=Lf.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=yr();return e={current:e},n.memoizedState=e},useState:od,useDebugValue:kc,useDeferredValue:function(e){return yr().memoizedState=e},useTransition:function(){var e=od(!1),n=e[0];return e=Cf.bind(null,e[1]),yr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var o=wt,u=yr();if(gt){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),Bt===null)throw Error(l(349));(Ki&30)!==0||nd(o,n,s)}u.memoizedState=s;var f={value:s,getSnapshot:n};return u.queue=f,cd(id.bind(null,o,f,e),[e]),o.flags|=2048,Ga(9,rd.bind(null,o,f,s,n),void 0,null),s},useId:function(){var e=yr(),n=Bt.identifierPrefix;if(gt){var s=zr,o=Rr;s=(o&~(1<<32-Fe(o)-1)).toString(32)+s,n=":"+n+"R"+s,s=qa++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Pf++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Tf={readContext:$n,useCallback:md,useContext:$n,useEffect:Sc,useImperativeHandle:fd,useInsertionEffect:ud,useLayoutEffect:dd,useMemo:pd,useReducer:bc,useRef:ld,useState:function(){return bc(Wa)},useDebugValue:kc,useDeferredValue:function(e){var n=Vn();return gd(n,Rt.memoizedState,e)},useTransition:function(){var e=bc(Wa)[0],n=Vn().memoizedState;return[e,n]},useMutableSource:ed,useSyncExternalStore:td,useId:xd,unstable_isNewReconciler:!1},Mf={readContext:$n,useCallback:md,useContext:$n,useEffect:Sc,useImperativeHandle:fd,useInsertionEffect:ud,useLayoutEffect:dd,useMemo:pd,useReducer:jc,useRef:ld,useState:function(){return jc(Wa)},useDebugValue:kc,useDeferredValue:function(e){var n=Vn();return Rt===null?n.memoizedState=e:gd(n,Rt.memoizedState,e)},useTransition:function(){var e=jc(Wa)[0],n=Vn().memoizedState;return[e,n]},useMutableSource:ed,useSyncExternalStore:td,useId:xd,unstable_isNewReconciler:!1};function tr(e,n){if(e&&e.defaultProps){n=K({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Pc(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:K({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var nl={isMounted:function(e){return(e=e._reactInternals)?cr(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var o=an(),u=vi(e),f=Dr(o,u);f.payload=n,s!=null&&(f.callback=s),n=mi(e,f,u),n!==null&&(ir(n,e,u,o),Go(n,e,u))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=an(),u=vi(e),f=Dr(o,u);f.tag=1,f.payload=n,s!=null&&(f.callback=s),n=mi(e,f,u),n!==null&&(ir(n,e,u,o),Go(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=an(),o=vi(e),u=Dr(s,o);u.tag=2,n!=null&&(u.callback=n),n=mi(e,u,o),n!==null&&(ir(n,e,o,s),Go(n,e,o))}};function wd(e,n,s,o,u,f,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,x):n.prototype&&n.prototype.isPureReactComponent?!mr(s,o)||!mr(u,f):!0}function Nd(e,n,s){var o=!1,u=di,f=n.contextType;return typeof f=="object"&&f!==null?f=$n(f):(u=mn(n)?Hi:Gt.current,o=n.contextTypes,f=(o=o!=null)?Zs(e,u):di),n=new n(s,f),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=nl,e.stateNode=n,n._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=f),n}function bd(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&nl.enqueueReplaceState(n,n.state,null)}function Cc(e,n,s,o){var u=e.stateNode;u.props=s,u.state=e.memoizedState,u.refs={},mc(e);var f=n.contextType;typeof f=="object"&&f!==null?u.context=$n(f):(f=mn(n)?Hi:Gt.current,u.context=Zs(e,f)),u.state=e.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(Pc(e,n,f,s),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&nl.enqueueReplaceState(u,u.state,null),Qo(e,s,u,o),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Ks(e,n){try{var s="",o=n;do s+=pe(o),o=o.return;while(o);var u=s}catch(f){u=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:n,stack:u,digest:null}}function Lc(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function Ec(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Of=typeof WeakMap=="function"?WeakMap:Map;function jd(e,n,s){s=Dr(-1,s),s.tag=3,s.payload={element:null};var o=n.value;return s.callback=function(){cl||(cl=!0,Hc=o),Ec(e,n)},s}function Sd(e,n,s){s=Dr(-1,s),s.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var u=n.value;s.payload=function(){return o(u)},s.callback=function(){Ec(e,n)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(s.callback=function(){Ec(e,n),typeof o!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var x=n.stack;this.componentDidCatch(n.value,{componentStack:x!==null?x:""})}),s}function kd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Of;var u=new Set;o.set(n,u)}else u=o.get(n),u===void 0&&(u=new Set,o.set(n,u));u.has(s)||(u.add(s),e=Gf.bind(null,e,n,s),n.then(e,e))}function Pd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function Cd(e,n,s,o,u){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Dr(-1,1),n.tag=2,mi(s,n,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=u,e)}var Rf=D.ReactCurrentOwner,pn=!1;function sn(e,n,s,o){n.child=e===null?Gu(n,null,s,o):qs(n,e.child,s,o)}function Ld(e,n,s,o,u){s=s.render;var f=n.ref;return Gs(n,u),o=wc(e,n,s,o,f,u),s=Nc(),e!==null&&!pn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Br(e,n,u)):(gt&&s&&ic(n),n.flags|=1,sn(e,n,o,u),n.child)}function Ed(e,n,s,o,u){if(e===null){var f=s.type;return typeof f=="function"&&!Yc(f)&&f.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=f,Id(e,n,f,o,u)):(e=pl(s.type,null,o,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,(e.lanes&u)===0){var x=f.memoizedProps;if(s=s.compare,s=s!==null?s:mr,s(x,o)&&e.ref===n.ref)return Br(e,n,u)}return n.flags|=1,e=_i(f,o),e.ref=n.ref,e.return=n,n.child=e}function Id(e,n,s,o,u){if(e!==null){var f=e.memoizedProps;if(mr(f,o)&&e.ref===n.ref)if(pn=!1,n.pendingProps=o=f,(e.lanes&u)!==0)(e.flags&131072)!==0&&(pn=!0);else return n.lanes=e.lanes,Br(e,n,u)}return Ic(e,n,s,o,u)}function Td(e,n,s){var o=n.pendingProps,u=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(Ys,Mn),Mn|=s;else{if((s&1073741824)===0)return e=f!==null?f.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,ct(Ys,Mn),Mn|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=f!==null?f.baseLanes:s,ct(Ys,Mn),Mn|=o}else f!==null?(o=f.baseLanes|s,n.memoizedState=null):o=s,ct(Ys,Mn),Mn|=o;return sn(e,n,u,s),n.child}function Md(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function Ic(e,n,s,o,u){var f=mn(s)?Hi:Gt.current;return f=Zs(n,f),Gs(n,u),s=wc(e,n,s,o,f,u),o=Nc(),e!==null&&!pn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,Br(e,n,u)):(gt&&o&&ic(n),n.flags|=1,sn(e,n,s,u),n.child)}function Od(e,n,s,o,u){if(mn(s)){var f=!0;Fo(n)}else f=!1;if(Gs(n,u),n.stateNode===null)il(e,n),Nd(n,s,o),Cc(n,s,o,u),o=!0;else if(e===null){var x=n.stateNode,j=n.memoizedProps;x.props=j;var E=x.context,W=s.contextType;typeof W=="object"&&W!==null?W=$n(W):(W=mn(s)?Hi:Gt.current,W=Zs(n,W));var ie=s.getDerivedStateFromProps,ae=typeof ie=="function"||typeof x.getSnapshotBeforeUpdate=="function";ae||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==o||E!==W)&&bd(n,x,o,W),fi=!1;var re=n.memoizedState;x.state=re,Qo(n,o,x,u),E=n.memoizedState,j!==o||re!==E||fn.current||fi?(typeof ie=="function"&&(Pc(n,s,ie,o),E=n.memoizedState),(j=fi||wd(n,s,j,o,re,E,W))?(ae||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(n.flags|=4194308)):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=E),x.props=o,x.state=E,x.context=W,o=j):(typeof x.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{x=n.stateNode,Ku(e,n),j=n.memoizedProps,W=n.type===n.elementType?j:tr(n.type,j),x.props=W,ae=n.pendingProps,re=x.context,E=s.contextType,typeof E=="object"&&E!==null?E=$n(E):(E=mn(s)?Hi:Gt.current,E=Zs(n,E));var ge=s.getDerivedStateFromProps;(ie=typeof ge=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(j!==ae||re!==E)&&bd(n,x,o,E),fi=!1,re=n.memoizedState,x.state=re,Qo(n,o,x,u);var _e=n.memoizedState;j!==ae||re!==_e||fn.current||fi?(typeof ge=="function"&&(Pc(n,s,ge,o),_e=n.memoizedState),(W=fi||wd(n,s,W,o,re,_e,E)||!1)?(ie||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(o,_e,E),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(o,_e,E)),typeof x.componentDidUpdate=="function"&&(n.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof x.componentDidUpdate!="function"||j===e.memoizedProps&&re===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&re===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=_e),x.props=o,x.state=_e,x.context=E,o=W):(typeof x.componentDidUpdate!="function"||j===e.memoizedProps&&re===e.memoizedState||(n.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||j===e.memoizedProps&&re===e.memoizedState||(n.flags|=1024),o=!1)}return Tc(e,n,s,o,f,u)}function Tc(e,n,s,o,u,f){Md(e,n);var x=(n.flags&128)!==0;if(!o&&!x)return u&&Bu(n,s,!1),Br(e,n,f);o=n.stateNode,Rf.current=n;var j=x&&typeof s.getDerivedStateFromError!="function"?null:o.render();return n.flags|=1,e!==null&&x?(n.child=qs(n,e.child,null,f),n.child=qs(n,null,j,f)):sn(e,n,j,f),n.memoizedState=o.state,u&&Bu(n,s,!0),n.child}function Rd(e){var n=e.stateNode;n.pendingContext?Au(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Au(e,n.context,!1),pc(e,n.containerInfo)}function zd(e,n,s,o,u){return Hs(),lc(u),n.flags|=256,sn(e,n,s,o),n.child}var Mc={dehydrated:null,treeContext:null,retryLane:0};function Oc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ad(e,n,s){var o=n.pendingProps,u=_t.current,f=!1,x=(n.flags&128)!==0,j;if((j=x)||(j=e!==null&&e.memoizedState===null?!1:(u&2)!==0),j?(f=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),ct(_t,u&1),e===null)return oc(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(x=o.children,e=o.fallback,f?(o=n.mode,f=n.child,x={mode:"hidden",children:x},(o&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=x):f=gl(x,o,0,null),e=ts(e,o,s,null),f.return=n,e.return=n,f.sibling=e,n.child=f,n.child.memoizedState=Oc(s),n.memoizedState=Mc,e):Rc(n,x));if(u=e.memoizedState,u!==null&&(j=u.dehydrated,j!==null))return zf(e,n,x,o,j,u,s);if(f){f=o.fallback,x=n.mode,u=e.child,j=u.sibling;var E={mode:"hidden",children:o.children};return(x&1)===0&&n.child!==u?(o=n.child,o.childLanes=0,o.pendingProps=E,n.deletions=null):(o=_i(u,E),o.subtreeFlags=u.subtreeFlags&14680064),j!==null?f=_i(j,f):(f=ts(f,x,s,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,x=e.child.memoizedState,x=x===null?Oc(s):{baseLanes:x.baseLanes|s,cachePool:null,transitions:x.transitions},f.memoizedState=x,f.childLanes=e.childLanes&~s,n.memoizedState=Mc,o}return f=e.child,e=f.sibling,o=_i(f,{mode:"visible",children:o.children}),(n.mode&1)===0&&(o.lanes=s),o.return=n,o.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=o,n.memoizedState=null,o}function Rc(e,n){return n=gl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function rl(e,n,s,o){return o!==null&&lc(o),qs(n,e.child,null,s),e=Rc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function zf(e,n,s,o,u,f,x){if(s)return n.flags&256?(n.flags&=-257,o=Lc(Error(l(422))),rl(e,n,x,o)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(f=o.fallback,u=n.mode,o=gl({mode:"visible",children:o.children},u,0,null),f=ts(f,u,x,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,(n.mode&1)!==0&&qs(n,e.child,null,x),n.child.memoizedState=Oc(x),n.memoizedState=Mc,f);if((n.mode&1)===0)return rl(e,n,x,null);if(u.data==="$!"){if(o=u.nextSibling&&u.nextSibling.dataset,o)var j=o.dgst;return o=j,f=Error(l(419)),o=Lc(f,o,void 0),rl(e,n,x,o)}if(j=(x&e.childLanes)!==0,pn||j){if(o=Bt,o!==null){switch(x&-x){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=(u&(o.suspendedLanes|x))!==0?0:u,u!==0&&u!==f.retryLane&&(f.retryLane=u,Ar(e,u),ir(o,e,u,-1))}return Jc(),o=Lc(Error(l(421))),rl(e,n,x,o)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=Qf.bind(null,e),u._reactRetry=n,null):(e=f.treeContext,Tn=xr(u.nextSibling),In=n,gt=!0,er=null,e!==null&&(Un[Zn++]=Rr,Un[Zn++]=zr,Un[Zn++]=qi,Rr=e.id,zr=e.overflow,qi=n),n=Rc(n,o.children),n.flags|=4096,n)}function Dd(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),hc(e.return,n,s)}function zc(e,n,s,o,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=s,f.tailMode=u)}function Bd(e,n,s){var o=n.pendingProps,u=o.revealOrder,f=o.tail;if(sn(e,n,o.children,s),o=_t.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dd(e,s,n);else if(e.tag===19)Dd(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(ct(_t,o),(n.mode&1)===0)n.memoizedState=null;else switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&Ko(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),zc(n,!1,u,s,f);break;case"backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Ko(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}zc(n,!0,s,null,f);break;case"together":zc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function il(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Br(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ji|=n.lanes,(s&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=_i(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=_i(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Af(e,n,s){switch(n.tag){case 3:Rd(n),Hs();break;case 5:Xu(n);break;case 1:mn(n.type)&&Fo(n);break;case 4:pc(n,n.stateNode.containerInfo);break;case 10:var o=n.type._context,u=n.memoizedProps.value;ct(qo,o._currentValue),o._currentValue=u;break;case 13:if(o=n.memoizedState,o!==null)return o.dehydrated!==null?(ct(_t,_t.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?Ad(e,n,s):(ct(_t,_t.current&1),e=Br(e,n,s),e!==null?e.sibling:null);ct(_t,_t.current&1);break;case 19:if(o=(s&n.childLanes)!==0,(e.flags&128)!==0){if(o)return Bd(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),ct(_t,_t.current),o)break;return null;case 22:case 23:return n.lanes=0,Td(e,n,s)}return Br(e,n,s)}var Fd,Ac,Ud,Zd;Fd=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},Ac=function(){},Ud=function(e,n,s,o){var u=e.memoizedProps;if(u!==o){e=n.stateNode,Qi(vr.current);var f=null;switch(s){case"input":u=Wn(e,u),o=Wn(e,o),f=[];break;case"select":u=K({},u,{value:void 0}),o=K({},o,{value:void 0}),f=[];break;case"textarea":u=Be(e,u),o=Be(e,o),f=[];break;default:typeof u.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=ne)}U(s,o);var x;s=null;for(W in u)if(!o.hasOwnProperty(W)&&u.hasOwnProperty(W)&&u[W]!=null)if(W==="style"){var j=u[W];for(x in j)j.hasOwnProperty(x)&&(s||(s={}),s[x]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(g.hasOwnProperty(W)?f||(f=[]):(f=f||[]).push(W,null));for(W in o){var E=o[W];if(j=u?.[W],o.hasOwnProperty(W)&&E!==j&&(E!=null||j!=null))if(W==="style")if(j){for(x in j)!j.hasOwnProperty(x)||E&&E.hasOwnProperty(x)||(s||(s={}),s[x]="");for(x in E)E.hasOwnProperty(x)&&j[x]!==E[x]&&(s||(s={}),s[x]=E[x])}else s||(f||(f=[]),f.push(W,s)),s=E;else W==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,j=j?j.__html:void 0,E!=null&&j!==E&&(f=f||[]).push(W,E)):W==="children"?typeof E!="string"&&typeof E!="number"||(f=f||[]).push(W,""+E):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(g.hasOwnProperty(W)?(E!=null&&W==="onScroll"&&ot("scroll",e),f||j===E||(f=[])):(f=f||[]).push(W,E))}s&&(f=f||[]).push("style",s);var W=f;(n.updateQueue=W)&&(n.flags|=4)}},Zd=function(e,n,s,o){s!==o&&(n.flags|=4)};function Qa(e,n){if(!gt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Kt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,o|=u.subtreeFlags&14680064,o|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function Df(e,n,s){var o=n.pendingProps;switch(sc(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(n),null;case 1:return mn(n.type)&&Bo(),Kt(n),null;case 3:return o=n.stateNode,Qs(),ht(fn),ht(Gt),vc(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Vo(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,er!==null&&(Gc(er),er=null))),Ac(e,n),Kt(n),null;case 5:gc(n);var u=Qi(Va.current);if(s=n.type,e!==null&&n.stateNode!=null)Ud(e,n,s,o,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!o){if(n.stateNode===null)throw Error(l(166));return Kt(n),null}if(e=Qi(vr.current),Vo(n)){o=n.stateNode,s=n.type;var f=n.memoizedProps;switch(o[Fn]=n,o[li]=f,e=(n.mode&1)!==0,s){case"dialog":ot("cancel",o),ot("close",o);break;case"iframe":case"object":case"embed":ot("load",o);break;case"video":case"audio":for(u=0;u<si.length;u++)ot(si[u],o);break;case"source":ot("error",o);break;case"img":case"image":case"link":ot("error",o),ot("load",o);break;case"details":ot("toggle",o);break;case"input":te(o,f),ot("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!f.multiple},ot("invalid",o);break;case"textarea":pt(o,f),ot("invalid",o)}U(s,f),u=null;for(var x in f)if(f.hasOwnProperty(x)){var j=f[x];x==="children"?typeof j=="string"?o.textContent!==j&&(f.suppressHydrationWarning!==!0&&q(o.textContent,j,e),u=["children",j]):typeof j=="number"&&o.textContent!==""+j&&(f.suppressHydrationWarning!==!0&&q(o.textContent,j,e),u=["children",""+j]):g.hasOwnProperty(x)&&j!=null&&x==="onScroll"&&ot("scroll",o)}switch(s){case"input":Tt(o),un(o,f,!0);break;case"textarea":Tt(o),st(o);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(o.onclick=ne)}o=u,n.updateQueue=o,o!==null&&(n.flags|=4)}else{x=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bt(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=x.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=x.createElement(s,{is:o.is}):(e=x.createElement(s),s==="select"&&(x=e,o.multiple?x.multiple=!0:o.size&&(x.size=o.size))):e=x.createElementNS(e,s),e[Fn]=n,e[li]=o,Fd(e,n,!1,!1),n.stateNode=e;e:{switch(x=le(s,o),s){case"dialog":ot("cancel",e),ot("close",e),u=o;break;case"iframe":case"object":case"embed":ot("load",e),u=o;break;case"video":case"audio":for(u=0;u<si.length;u++)ot(si[u],e);u=o;break;case"source":ot("error",e),u=o;break;case"img":case"image":case"link":ot("error",e),ot("load",e),u=o;break;case"details":ot("toggle",e),u=o;break;case"input":te(e,o),u=Wn(e,o),ot("invalid",e);break;case"option":u=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},u=K({},o,{value:void 0}),ot("invalid",e);break;case"textarea":pt(e,o),u=Be(e,o),ot("invalid",e);break;default:u=o}U(s,u),j=u;for(f in j)if(j.hasOwnProperty(f)){var E=j[f];f==="style"?Zr(e,E):f==="dangerouslySetInnerHTML"?(E=E?E.__html:void 0,E!=null&&hs(e,E)):f==="children"?typeof E=="string"?(s!=="textarea"||E!=="")&&ar(e,E):typeof E=="number"&&ar(e,""+E):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(g.hasOwnProperty(f)?E!=null&&f==="onScroll"&&ot("scroll",e):E!=null&&$(e,f,E,x))}switch(s){case"input":Tt(e),un(e,o,!1);break;case"textarea":Tt(e),st(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Te(o.value));break;case"select":e.multiple=!!o.multiple,f=o.value,f!=null?T(e,!!o.multiple,f,!1):o.defaultValue!=null&&T(e,!!o.multiple,o.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=ne)}switch(s){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Kt(n),null;case 6:if(e&&n.stateNode!=null)Zd(e,n,e.memoizedProps,o);else{if(typeof o!="string"&&n.stateNode===null)throw Error(l(166));if(s=Qi(Va.current),Qi(vr.current),Vo(n)){if(o=n.stateNode,s=n.memoizedProps,o[Fn]=n,(f=o.nodeValue!==s)&&(e=In,e!==null))switch(e.tag){case 3:q(o.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&q(o.nodeValue,s,(e.mode&1)!==0)}f&&(n.flags|=4)}else o=(s.nodeType===9?s:s.ownerDocument).createTextNode(o),o[Fn]=n,n.stateNode=o}return Kt(n),null;case 13:if(ht(_t),o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(gt&&Tn!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Hu(),Hs(),n.flags|=98560,f=!1;else if(f=Vo(n),o!==null&&o.dehydrated!==null){if(e===null){if(!f)throw Error(l(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[Fn]=n}else Hs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Kt(n),f=!1}else er!==null&&(Gc(er),er=null),f=!0;if(!f)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(_t.current&1)!==0?zt===0&&(zt=3):Jc())),n.updateQueue!==null&&(n.flags|=4),Kt(n),null);case 4:return Qs(),Ac(e,n),e===null&&ai(n.stateNode.containerInfo),Kt(n),null;case 10:return dc(n.type._context),Kt(n),null;case 17:return mn(n.type)&&Bo(),Kt(n),null;case 19:if(ht(_t),f=n.memoizedState,f===null)return Kt(n),null;if(o=(n.flags&128)!==0,x=f.rendering,x===null)if(o)Qa(f,!1);else{if(zt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(x=Ko(e),x!==null){for(n.flags|=128,Qa(f,!1),o=x.updateQueue,o!==null&&(n.updateQueue=o,n.flags|=4),n.subtreeFlags=0,o=s,s=n.child;s!==null;)f=s,e=o,f.flags&=14680066,x=f.alternate,x===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=x.childLanes,f.lanes=x.lanes,f.child=x.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=x.memoizedProps,f.memoizedState=x.memoizedState,f.updateQueue=x.updateQueue,f.type=x.type,e=x.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return ct(_t,_t.current&1|2),n.child}e=e.sibling}f.tail!==null&&vt()>Xs&&(n.flags|=128,o=!0,Qa(f,!1),n.lanes=4194304)}else{if(!o)if(e=Ko(x),e!==null){if(n.flags|=128,o=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),Qa(f,!0),f.tail===null&&f.tailMode==="hidden"&&!x.alternate&&!gt)return Kt(n),null}else 2*vt()-f.renderingStartTime>Xs&&s!==1073741824&&(n.flags|=128,o=!0,Qa(f,!1),n.lanes=4194304);f.isBackwards?(x.sibling=n.child,n.child=x):(s=f.last,s!==null?s.sibling=x:n.child=x,f.last=x)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=vt(),n.sibling=null,s=_t.current,ct(_t,o?s&1|2:s&1),n):(Kt(n),null);case 22:case 23:return Kc(),o=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(n.flags|=8192),o&&(n.mode&1)!==0?(Mn&1073741824)!==0&&(Kt(n),n.subtreeFlags&6&&(n.flags|=8192)):Kt(n),null;case 24:return null;case 25:return null}throw Error(l(156,n.tag))}function Bf(e,n){switch(sc(n),n.tag){case 1:return mn(n.type)&&Bo(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qs(),ht(fn),ht(Gt),vc(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return gc(n),null;case 13:if(ht(_t),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));Hs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ht(_t),null;case 4:return Qs(),null;case 10:return dc(n.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var sl=!1,Jt=!1,Ff=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Js(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(o){St(e,n,o)}else s.current=null}function Dc(e,n,s){try{s()}catch(o){St(e,n,o)}}var $d=!1;function Uf(e,n){if(he=Ai,e=Ta(),Ma(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var x=0,j=-1,E=-1,W=0,ie=0,ae=e,re=null;t:for(;;){for(var ge;ae!==s||u!==0&&ae.nodeType!==3||(j=x+u),ae!==f||o!==0&&ae.nodeType!==3||(E=x+o),ae.nodeType===3&&(x+=ae.nodeValue.length),(ge=ae.firstChild)!==null;)re=ae,ae=ge;for(;;){if(ae===e)break t;if(re===s&&++W===u&&(j=x),re===f&&++ie===o&&(E=x),(ge=ae.nextSibling)!==null)break;ae=re,re=ae.parentNode}ae=ge}s=j===-1||E===-1?null:{start:j,end:E}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ce={focusedElem:e,selectionRange:s},Ai=!1,ve=n;ve!==null;)if(n=ve,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,ve=e;else for(;ve!==null;){n=ve;try{var _e=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(_e!==null){var we=_e.memoizedProps,Pt=_e.memoizedState,Z=n.stateNode,M=Z.getSnapshotBeforeUpdate(n.elementType===n.type?we:tr(n.type,we),Pt);Z.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var H=n.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(oe){St(n,n.return,oe)}if(e=n.sibling,e!==null){e.return=n.return,ve=e;break}ve=n.return}return _e=$d,$d=!1,_e}function Ka(e,n,s){var o=n.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&e)===e){var f=u.destroy;u.destroy=void 0,f!==void 0&&Dc(n,s,f)}u=u.next}while(u!==o)}}function al(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.create;s.destroy=o()}s=s.next}while(s!==n)}}function Bc(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Vd(e){var n=e.alternate;n!==null&&(e.alternate=null,Vd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Fn],delete n[li],delete n[ci],delete n[ec],delete n[tc])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hd(e){return e.tag===5||e.tag===3||e.tag===4}function qd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ne));else if(o!==4&&(e=e.child,e!==null))for(Fc(e,n,s),e=e.sibling;e!==null;)Fc(e,n,s),e=e.sibling}function Uc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Uc(e,n,s),e=e.sibling;e!==null;)Uc(e,n,s),e=e.sibling}var Zt=null,nr=!1;function pi(e,n,s){for(s=s.child;s!==null;)Wd(e,n,s),s=s.sibling}function Wd(e,n,s){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Ii,s)}catch{}switch(s.tag){case 5:Jt||Js(s,n);case 6:var o=Zt,u=nr;Zt=null,pi(e,n,s),Zt=o,nr=u,Zt!==null&&(nr?(e=Zt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Zt.removeChild(s.stateNode));break;case 18:Zt!==null&&(nr?(e=Zt,s=s.stateNode,e.nodeType===8?Fa(e.parentNode,s):e.nodeType===1&&Fa(e,s),kn(e)):Fa(Zt,s.stateNode));break;case 4:o=Zt,u=nr,Zt=s.stateNode.containerInfo,nr=!0,pi(e,n,s),Zt=o,nr=u;break;case 0:case 11:case 14:case 15:if(!Jt&&(o=s.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){u=o=o.next;do{var f=u,x=f.destroy;f=f.tag,x!==void 0&&((f&2)!==0||(f&4)!==0)&&Dc(s,n,x),u=u.next}while(u!==o)}pi(e,n,s);break;case 1:if(!Jt&&(Js(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=s.memoizedProps,o.state=s.memoizedState,o.componentWillUnmount()}catch(j){St(s,n,j)}pi(e,n,s);break;case 21:pi(e,n,s);break;case 22:s.mode&1?(Jt=(o=Jt)||s.memoizedState!==null,pi(e,n,s),Jt=o):pi(e,n,s);break;default:pi(e,n,s)}}function Gd(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new Ff),n.forEach(function(o){var u=Kf.bind(null,e,o);s.has(o)||(s.add(o),o.then(u,u))})}}function rr(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];try{var f=e,x=n,j=x;e:for(;j!==null;){switch(j.tag){case 5:Zt=j.stateNode,nr=!1;break e;case 3:Zt=j.stateNode.containerInfo,nr=!0;break e;case 4:Zt=j.stateNode.containerInfo,nr=!0;break e}j=j.return}if(Zt===null)throw Error(l(160));Wd(f,x,u),Zt=null,nr=!1;var E=u.alternate;E!==null&&(E.return=null),u.return=null}catch(W){St(u,n,W)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Qd(n,e),n=n.sibling}function Qd(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rr(n,e),_r(e),o&4){try{Ka(3,e,e.return),al(3,e)}catch(we){St(e,e.return,we)}try{Ka(5,e,e.return)}catch(we){St(e,e.return,we)}}break;case 1:rr(n,e),_r(e),o&512&&s!==null&&Js(s,s.return);break;case 5:if(rr(n,e),_r(e),o&512&&s!==null&&Js(s,s.return),e.flags&32){var u=e.stateNode;try{ar(u,"")}catch(we){St(e,e.return,we)}}if(o&4&&(u=e.stateNode,u!=null)){var f=e.memoizedProps,x=s!==null?s.memoizedProps:f,j=e.type,E=e.updateQueue;if(e.updateQueue=null,E!==null)try{j==="input"&&f.type==="radio"&&f.name!=null&&Oe(u,f),le(j,x);var W=le(j,f);for(x=0;x<E.length;x+=2){var ie=E[x],ae=E[x+1];ie==="style"?Zr(u,ae):ie==="dangerouslySetInnerHTML"?hs(u,ae):ie==="children"?ar(u,ae):$(u,ie,ae,W)}switch(j){case"input":Ke(u,f);break;case"textarea":Xt(u,f);break;case"select":var re=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!f.multiple;var ge=f.value;ge!=null?T(u,!!f.multiple,ge,!1):re!==!!f.multiple&&(f.defaultValue!=null?T(u,!!f.multiple,f.defaultValue,!0):T(u,!!f.multiple,f.multiple?[]:"",!1))}u[li]=f}catch(we){St(e,e.return,we)}}break;case 6:if(rr(n,e),_r(e),o&4){if(e.stateNode===null)throw Error(l(162));u=e.stateNode,f=e.memoizedProps;try{u.nodeValue=f}catch(we){St(e,e.return,we)}}break;case 3:if(rr(n,e),_r(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{kn(n.containerInfo)}catch(we){St(e,e.return,we)}break;case 4:rr(n,e),_r(e);break;case 13:rr(n,e),_r(e),u=e.child,u.flags&8192&&(f=u.memoizedState!==null,u.stateNode.isHidden=f,!f||u.alternate!==null&&u.alternate.memoizedState!==null||(Vc=vt())),o&4&&Gd(e);break;case 22:if(ie=s!==null&&s.memoizedState!==null,e.mode&1?(Jt=(W=Jt)||ie,rr(n,e),Jt=W):rr(n,e),_r(e),o&8192){if(W=e.memoizedState!==null,(e.stateNode.isHidden=W)&&!ie&&(e.mode&1)!==0)for(ve=e,ie=e.child;ie!==null;){for(ae=ve=ie;ve!==null;){switch(re=ve,ge=re.child,re.tag){case 0:case 11:case 14:case 15:Ka(4,re,re.return);break;case 1:Js(re,re.return);var _e=re.stateNode;if(typeof _e.componentWillUnmount=="function"){o=re,s=re.return;try{n=o,_e.props=n.memoizedProps,_e.state=n.memoizedState,_e.componentWillUnmount()}catch(we){St(o,s,we)}}break;case 5:Js(re,re.return);break;case 22:if(re.memoizedState!==null){Yd(ae);continue}}ge!==null?(ge.return=re,ve=ge):Yd(ae)}ie=ie.sibling}e:for(ie=null,ae=e;;){if(ae.tag===5){if(ie===null){ie=ae;try{u=ae.stateNode,W?(f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(j=ae.stateNode,E=ae.memoizedProps.style,x=E!=null&&E.hasOwnProperty("display")?E.display:null,j.style.display=Pi("display",x))}catch(we){St(e,e.return,we)}}}else if(ae.tag===6){if(ie===null)try{ae.stateNode.nodeValue=W?"":ae.memoizedProps}catch(we){St(e,e.return,we)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===e)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===e)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===e)break e;ie===ae&&(ie=null),ae=ae.return}ie===ae&&(ie=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:rr(n,e),_r(e),o&4&&Gd(e);break;case 21:break;default:rr(n,e),_r(e)}}function _r(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Hd(s)){var o=s;break e}s=s.return}throw Error(l(160))}switch(o.tag){case 5:var u=o.stateNode;o.flags&32&&(ar(u,""),o.flags&=-33);var f=qd(e);Uc(e,f,u);break;case 3:case 4:var x=o.stateNode.containerInfo,j=qd(e);Fc(e,j,x);break;default:throw Error(l(161))}}catch(E){St(e,e.return,E)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Zf(e,n,s){ve=e,Kd(e)}function Kd(e,n,s){for(var o=(e.mode&1)!==0;ve!==null;){var u=ve,f=u.child;if(u.tag===22&&o){var x=u.memoizedState!==null||sl;if(!x){var j=u.alternate,E=j!==null&&j.memoizedState!==null||Jt;j=sl;var W=Jt;if(sl=x,(Jt=E)&&!W)for(ve=u;ve!==null;)x=ve,E=x.child,x.tag===22&&x.memoizedState!==null?Xd(u):E!==null?(E.return=x,ve=E):Xd(u);for(;f!==null;)ve=f,Kd(f),f=f.sibling;ve=u,sl=j,Jt=W}Jd(e)}else(u.subtreeFlags&8772)!==0&&f!==null?(f.return=u,ve=f):Jd(e)}}function Jd(e){for(;ve!==null;){var n=ve;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:Jt||al(5,n);break;case 1:var o=n.stateNode;if(n.flags&4&&!Jt)if(s===null)o.componentDidMount();else{var u=n.elementType===n.type?s.memoizedProps:tr(n.type,s.memoizedProps);o.componentDidUpdate(u,s.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var f=n.updateQueue;f!==null&&Yu(n,f,o);break;case 3:var x=n.updateQueue;if(x!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Yu(n,x,s)}break;case 5:var j=n.stateNode;if(s===null&&n.flags&4){s=j;var E=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":E.autoFocus&&s.focus();break;case"img":E.src&&(s.src=E.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var W=n.alternate;if(W!==null){var ie=W.memoizedState;if(ie!==null){var ae=ie.dehydrated;ae!==null&&kn(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}Jt||n.flags&512&&Bc(n)}catch(re){St(n,n.return,re)}}if(n===e){ve=null;break}if(s=n.sibling,s!==null){s.return=n.return,ve=s;break}ve=n.return}}function Yd(e){for(;ve!==null;){var n=ve;if(n===e){ve=null;break}var s=n.sibling;if(s!==null){s.return=n.return,ve=s;break}ve=n.return}}function Xd(e){for(;ve!==null;){var n=ve;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{al(4,n)}catch(E){St(n,s,E)}break;case 1:var o=n.stateNode;if(typeof o.componentDidMount=="function"){var u=n.return;try{o.componentDidMount()}catch(E){St(n,u,E)}}var f=n.return;try{Bc(n)}catch(E){St(n,f,E)}break;case 5:var x=n.return;try{Bc(n)}catch(E){St(n,x,E)}}}catch(E){St(n,n.return,E)}if(n===e){ve=null;break}var j=n.sibling;if(j!==null){j.return=n.return,ve=j;break}ve=n.return}}var $f=Math.ceil,ol=D.ReactCurrentDispatcher,Zc=D.ReactCurrentOwner,Hn=D.ReactCurrentBatchConfig,Ye=0,Bt=null,Et=null,$t=0,Mn=0,Ys=ui(0),zt=0,Ja=null,Ji=0,ll=0,$c=0,Ya=null,gn=null,Vc=0,Xs=1/0,Fr=null,cl=!1,Hc=null,gi=null,ul=!1,xi=null,dl=0,Xa=0,qc=null,hl=-1,fl=0;function an(){return(Ye&6)!==0?vt():hl!==-1?hl:hl=vt()}function vi(e){return(e.mode&1)===0?1:(Ye&2)!==0&&$t!==0?$t&-$t:kf.transition!==null?(fl===0&&(fl=go()),fl):(e=Je,e!==0||(e=window.event,e=e===void 0?16:Qe(e.type)),e)}function ir(e,n,s,o){if(50<Xa)throw Xa=0,qc=null,Error(l(185));jn(e,s,o),((Ye&2)===0||e!==Bt)&&(e===Bt&&((Ye&2)===0&&(ll|=s),zt===4&&yi(e,$t)),xn(e,o),s===1&&Ye===0&&(n.mode&1)===0&&(Xs=vt()+500,Uo&&hi()))}function xn(e,n){var s=e.callbackNode;ys(e,n);var o=lt(e,e===Bt?$t:0);if(o===0)s!==null&&ma(s),e.callbackNode=null,e.callbackPriority=0;else if(n=o&-o,e.callbackPriority!==n){if(s!=null&&ma(s),n===1)e.tag===0?Sf(th.bind(null,e)):Fu(th.bind(null,e)),Wt(function(){(Ye&6)===0&&hi()}),s=null;else{switch(Wr(o)){case 1:s=pa;break;case 4:s=po;break;case 16:s=xs;break;case 536870912:s=$r;break;default:s=xs}s=ch(s,eh.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function eh(e,n){if(hl=-1,fl=0,(Ye&6)!==0)throw Error(l(327));var s=e.callbackNode;if(ea()&&e.callbackNode!==s)return null;var o=lt(e,e===Bt?$t:0);if(o===0)return null;if((o&30)!==0||(o&e.expiredLanes)!==0||n)n=ml(e,o);else{n=o;var u=Ye;Ye|=2;var f=rh();(Bt!==e||$t!==n)&&(Fr=null,Xs=vt()+500,Xi(e,n));do try{qf();break}catch(j){nh(e,j)}while(!0);uc(),ol.current=f,Ye=u,Et!==null?n=0:(Bt=null,$t=0,n=zt)}if(n!==0){if(n===2&&(u=Ht(e),u!==0&&(o=u,n=Wc(e,u))),n===1)throw s=Ja,Xi(e,0),yi(e,o),xn(e,vt()),s;if(n===6)yi(e,o);else{if(u=e.current.alternate,(o&30)===0&&!Vf(u)&&(n=ml(e,o),n===2&&(f=Ht(e),f!==0&&(o=f,n=Wc(e,f))),n===1))throw s=Ja,Xi(e,0),yi(e,o),xn(e,vt()),s;switch(e.finishedWork=u,e.finishedLanes=o,n){case 0:case 1:throw Error(l(345));case 2:es(e,gn,Fr);break;case 3:if(yi(e,o),(o&130023424)===o&&(n=Vc+500-vt(),10<n)){if(lt(e,0)!==0)break;if(u=e.suspendedLanes,(u&o)!==o){an(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Ot(es.bind(null,e,gn,Fr),n);break}es(e,gn,Fr);break;case 4:if(yi(e,o),(o&4194240)===o)break;for(n=e.eventTimes,u=-1;0<o;){var x=31-Fe(o);f=1<<x,x=n[x],x>u&&(u=x),o&=~f}if(o=u,o=vt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*$f(o/1960))-o,10<o){e.timeoutHandle=Ot(es.bind(null,e,gn,Fr),o);break}es(e,gn,Fr);break;case 5:es(e,gn,Fr);break;default:throw Error(l(329))}}}return xn(e,vt()),e.callbackNode===s?eh.bind(null,e):null}function Wc(e,n){var s=Ya;return e.current.memoizedState.isDehydrated&&(Xi(e,n).flags|=256),e=ml(e,n),e!==2&&(n=gn,gn=s,n!==null&&Gc(n)),e}function Gc(e){gn===null?gn=e:gn.push.apply(gn,e)}function Vf(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var o=0;o<s.length;o++){var u=s[o],f=u.getSnapshot;u=u.value;try{if(!Ln(f(),u))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function yi(e,n){for(n&=~$c,n&=~ll,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Fe(n),o=1<<s;e[s]=-1,n&=~o}}function th(e){if((Ye&6)!==0)throw Error(l(327));ea();var n=lt(e,0);if((n&1)===0)return xn(e,vt()),null;var s=ml(e,n);if(e.tag!==0&&s===2){var o=Ht(e);o!==0&&(n=o,s=Wc(e,o))}if(s===1)throw s=Ja,Xi(e,0),yi(e,n),xn(e,vt()),s;if(s===6)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,es(e,gn,Fr),xn(e,vt()),null}function Qc(e,n){var s=Ye;Ye|=1;try{return e(n)}finally{Ye=s,Ye===0&&(Xs=vt()+500,Uo&&hi())}}function Yi(e){xi!==null&&xi.tag===0&&(Ye&6)===0&&ea();var n=Ye;Ye|=1;var s=Hn.transition,o=Je;try{if(Hn.transition=null,Je=1,e)return e()}finally{Je=o,Hn.transition=s,Ye=n,(Ye&6)===0&&hi()}}function Kc(){Mn=Ys.current,ht(Ys)}function Xi(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Lt(s)),Et!==null)for(s=Et.return;s!==null;){var o=s;switch(sc(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Bo();break;case 3:Qs(),ht(fn),ht(Gt),vc();break;case 5:gc(o);break;case 4:Qs();break;case 13:ht(_t);break;case 19:ht(_t);break;case 10:dc(o.type._context);break;case 22:case 23:Kc()}s=s.return}if(Bt=e,Et=e=_i(e.current,null),$t=Mn=n,zt=0,Ja=null,$c=ll=Ji=0,gn=Ya=null,Gi!==null){for(n=0;n<Gi.length;n++)if(s=Gi[n],o=s.interleaved,o!==null){s.interleaved=null;var u=o.next,f=s.pending;if(f!==null){var x=f.next;f.next=u,o.next=x}s.pending=o}Gi=null}return e}function nh(e,n){do{var s=Et;try{if(uc(),Jo.current=tl,Yo){for(var o=wt.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Yo=!1}if(Ki=0,Dt=Rt=wt=null,Ha=!1,qa=0,Zc.current=null,s===null||s.return===null){zt=1,Ja=n,Et=null;break}e:{var f=e,x=s.return,j=s,E=n;if(n=$t,j.flags|=32768,E!==null&&typeof E=="object"&&typeof E.then=="function"){var W=E,ie=j,ae=ie.tag;if((ie.mode&1)===0&&(ae===0||ae===11||ae===15)){var re=ie.alternate;re?(ie.updateQueue=re.updateQueue,ie.memoizedState=re.memoizedState,ie.lanes=re.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var ge=Pd(x);if(ge!==null){ge.flags&=-257,Cd(ge,x,j,f,n),ge.mode&1&&kd(f,W,n),n=ge,E=W;var _e=n.updateQueue;if(_e===null){var we=new Set;we.add(E),n.updateQueue=we}else _e.add(E);break e}else{if((n&1)===0){kd(f,W,n),Jc();break e}E=Error(l(426))}}else if(gt&&j.mode&1){var Pt=Pd(x);if(Pt!==null){(Pt.flags&65536)===0&&(Pt.flags|=256),Cd(Pt,x,j,f,n),lc(Ks(E,j));break e}}f=E=Ks(E,j),zt!==4&&(zt=2),Ya===null?Ya=[f]:Ya.push(f),f=x;do{switch(f.tag){case 3:f.flags|=65536,n&=-n,f.lanes|=n;var Z=jd(f,E,n);Ju(f,Z);break e;case 1:j=E;var M=f.type,H=f.stateNode;if((f.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(gi===null||!gi.has(H)))){f.flags|=65536,n&=-n,f.lanes|=n;var oe=Sd(f,j,n);Ju(f,oe);break e}}f=f.return}while(f!==null)}sh(s)}catch(be){n=be,Et===s&&s!==null&&(Et=s=s.return);continue}break}while(!0)}function rh(){var e=ol.current;return ol.current=tl,e===null?tl:e}function Jc(){(zt===0||zt===3||zt===2)&&(zt=4),Bt===null||(Ji&268435455)===0&&(ll&268435455)===0||yi(Bt,$t)}function ml(e,n){var s=Ye;Ye|=2;var o=rh();(Bt!==e||$t!==n)&&(Fr=null,Xi(e,n));do try{Hf();break}catch(u){nh(e,u)}while(!0);if(uc(),Ye=s,ol.current=o,Et!==null)throw Error(l(261));return Bt=null,$t=0,zt}function Hf(){for(;Et!==null;)ih(Et)}function qf(){for(;Et!==null&&!Dl();)ih(Et)}function ih(e){var n=lh(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,n===null?sh(e):Et=n,Zc.current=null}function sh(e){var n=e;do{var s=n.alternate;if(e=n.return,(n.flags&32768)===0){if(s=Df(s,n,Mn),s!==null){Et=s;return}}else{if(s=Bf(s,n),s!==null){s.flags&=32767,Et=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{zt=6,Et=null;return}}if(n=n.sibling,n!==null){Et=n;return}Et=n=e}while(n!==null);zt===0&&(zt=5)}function es(e,n,s){var o=Je,u=Hn.transition;try{Hn.transition=null,Je=1,Wf(e,n,s,o)}finally{Hn.transition=u,Je=o}return null}function Wf(e,n,s,o){do ea();while(xi!==null);if((Ye&6)!==0)throw Error(l(327));s=e.finishedWork;var u=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var f=s.lanes|s.childLanes;if(jt(e,f),e===Bt&&(Et=Bt=null,$t=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||ul||(ul=!0,ch(xs,function(){return ea(),null})),f=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||f){f=Hn.transition,Hn.transition=null;var x=Je;Je=1;var j=Ye;Ye|=4,Zc.current=null,Uf(e,s),Qd(s,e),Dn(Ce),Ai=!!he,Ce=he=null,e.current=s,Zf(s),gs(),Ye=j,Je=x,Hn.transition=f}else e.current=s;if(ul&&(ul=!1,xi=e,dl=u),f=e.pendingLanes,f===0&&(gi=null),Ti(s.stateNode),xn(e,vt()),n!==null)for(o=e.onRecoverableError,s=0;s<n.length;s++)u=n[s],o(u.value,{componentStack:u.stack,digest:u.digest});if(cl)throw cl=!1,e=Hc,Hc=null,e;return(dl&1)!==0&&e.tag!==0&&ea(),f=e.pendingLanes,(f&1)!==0?e===qc?Xa++:(Xa=0,qc=e):Xa=0,hi(),null}function ea(){if(xi!==null){var e=Wr(dl),n=Hn.transition,s=Je;try{if(Hn.transition=null,Je=16>e?16:e,xi===null)var o=!1;else{if(e=xi,xi=null,dl=0,(Ye&6)!==0)throw Error(l(331));var u=Ye;for(Ye|=4,ve=e.current;ve!==null;){var f=ve,x=f.child;if((ve.flags&16)!==0){var j=f.deletions;if(j!==null){for(var E=0;E<j.length;E++){var W=j[E];for(ve=W;ve!==null;){var ie=ve;switch(ie.tag){case 0:case 11:case 15:Ka(8,ie,f)}var ae=ie.child;if(ae!==null)ae.return=ie,ve=ae;else for(;ve!==null;){ie=ve;var re=ie.sibling,ge=ie.return;if(Vd(ie),ie===W){ve=null;break}if(re!==null){re.return=ge,ve=re;break}ve=ge}}}var _e=f.alternate;if(_e!==null){var we=_e.child;if(we!==null){_e.child=null;do{var Pt=we.sibling;we.sibling=null,we=Pt}while(we!==null)}}ve=f}}if((f.subtreeFlags&2064)!==0&&x!==null)x.return=f,ve=x;else e:for(;ve!==null;){if(f=ve,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:Ka(9,f,f.return)}var Z=f.sibling;if(Z!==null){Z.return=f.return,ve=Z;break e}ve=f.return}}var M=e.current;for(ve=M;ve!==null;){x=ve;var H=x.child;if((x.subtreeFlags&2064)!==0&&H!==null)H.return=x,ve=H;else e:for(x=M;ve!==null;){if(j=ve,(j.flags&2048)!==0)try{switch(j.tag){case 0:case 11:case 15:al(9,j)}}catch(be){St(j,j.return,be)}if(j===x){ve=null;break e}var oe=j.sibling;if(oe!==null){oe.return=j.return,ve=oe;break e}ve=j.return}}if(Ye=u,hi(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Ii,e)}catch{}o=!0}return o}finally{Je=s,Hn.transition=n}}return!1}function ah(e,n,s){n=Ks(s,n),n=jd(e,n,1),e=mi(e,n,1),n=an(),e!==null&&(jn(e,1,n),xn(e,n))}function St(e,n,s){if(e.tag===3)ah(e,e,s);else for(;n!==null;){if(n.tag===3){ah(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(gi===null||!gi.has(o))){e=Ks(s,e),e=Sd(n,e,1),n=mi(n,e,1),e=an(),n!==null&&(jn(n,1,e),xn(n,e));break}}n=n.return}}function Gf(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),n=an(),e.pingedLanes|=e.suspendedLanes&s,Bt===e&&($t&s)===s&&(zt===4||zt===3&&($t&130023424)===$t&&500>vt()-Vc?Xi(e,0):$c|=s),xn(e,n)}function oh(e,n){n===0&&((e.mode&1)===0?n=1:(n=Hr,Hr<<=1,(Hr&130023424)===0&&(Hr=4194304)));var s=an();e=Ar(e,n),e!==null&&(jn(e,n,s),xn(e,s))}function Qf(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),oh(e,s)}function Kf(e,n){var s=0;switch(e.tag){case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(l(314))}o!==null&&o.delete(n),oh(e,s)}var lh;lh=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||fn.current)pn=!0;else{if((e.lanes&s)===0&&(n.flags&128)===0)return pn=!1,Af(e,n,s);pn=(e.flags&131072)!==0}else pn=!1,gt&&(n.flags&1048576)!==0&&Uu(n,$o,n.index);switch(n.lanes=0,n.tag){case 2:var o=n.type;il(e,n),e=n.pendingProps;var u=Zs(n,Gt.current);Gs(n,s),u=wc(null,n,o,e,u,s);var f=Nc();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,mn(o)?(f=!0,Fo(n)):f=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,mc(n),u.updater=nl,n.stateNode=u,u._reactInternals=n,Cc(n,o,e,s),n=Tc(null,n,o,!0,f,s)):(n.tag=0,gt&&f&&ic(n),sn(null,n,u,s),n=n.child),n;case 16:o=n.elementType;e:{switch(il(e,n),e=n.pendingProps,u=o._init,o=u(o._payload),n.type=o,u=n.tag=Yf(o),e=tr(o,e),u){case 0:n=Ic(null,n,o,e,s);break e;case 1:n=Od(null,n,o,e,s);break e;case 11:n=Ld(null,n,o,e,s);break e;case 14:n=Ed(null,n,o,tr(o.type,e),s);break e}throw Error(l(306,o,""))}return n;case 0:return o=n.type,u=n.pendingProps,u=n.elementType===o?u:tr(o,u),Ic(e,n,o,u,s);case 1:return o=n.type,u=n.pendingProps,u=n.elementType===o?u:tr(o,u),Od(e,n,o,u,s);case 3:e:{if(Rd(n),e===null)throw Error(l(387));o=n.pendingProps,f=n.memoizedState,u=f.element,Ku(e,n),Qo(n,o,null,s);var x=n.memoizedState;if(o=x.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:x.cache,pendingSuspenseBoundaries:x.pendingSuspenseBoundaries,transitions:x.transitions},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){u=Ks(Error(l(423)),n),n=zd(e,n,o,s,u);break e}else if(o!==u){u=Ks(Error(l(424)),n),n=zd(e,n,o,s,u);break e}else for(Tn=xr(n.stateNode.containerInfo.firstChild),In=n,gt=!0,er=null,s=Gu(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Hs(),o===u){n=Br(e,n,s);break e}sn(e,n,o,s)}n=n.child}return n;case 5:return Xu(n),e===null&&oc(n),o=n.type,u=n.pendingProps,f=e!==null?e.memoizedProps:null,x=u.children,Ve(o,u)?x=null:f!==null&&Ve(o,f)&&(n.flags|=32),Md(e,n),sn(e,n,x,s),n.child;case 6:return e===null&&oc(n),null;case 13:return Ad(e,n,s);case 4:return pc(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=qs(n,null,o,s):sn(e,n,o,s),n.child;case 11:return o=n.type,u=n.pendingProps,u=n.elementType===o?u:tr(o,u),Ld(e,n,o,u,s);case 7:return sn(e,n,n.pendingProps,s),n.child;case 8:return sn(e,n,n.pendingProps.children,s),n.child;case 12:return sn(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(o=n.type._context,u=n.pendingProps,f=n.memoizedProps,x=u.value,ct(qo,o._currentValue),o._currentValue=x,f!==null)if(Ln(f.value,x)){if(f.children===u.children&&!fn.current){n=Br(e,n,s);break e}}else for(f=n.child,f!==null&&(f.return=n);f!==null;){var j=f.dependencies;if(j!==null){x=f.child;for(var E=j.firstContext;E!==null;){if(E.context===o){if(f.tag===1){E=Dr(-1,s&-s),E.tag=2;var W=f.updateQueue;if(W!==null){W=W.shared;var ie=W.pending;ie===null?E.next=E:(E.next=ie.next,ie.next=E),W.pending=E}}f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),hc(f.return,s,n),j.lanes|=s;break}E=E.next}}else if(f.tag===10)x=f.type===n.type?null:f.child;else if(f.tag===18){if(x=f.return,x===null)throw Error(l(341));x.lanes|=s,j=x.alternate,j!==null&&(j.lanes|=s),hc(x,s,n),x=f.sibling}else x=f.child;if(x!==null)x.return=f;else for(x=f;x!==null;){if(x===n){x=null;break}if(f=x.sibling,f!==null){f.return=x.return,x=f;break}x=x.return}f=x}sn(e,n,u.children,s),n=n.child}return n;case 9:return u=n.type,o=n.pendingProps.children,Gs(n,s),u=$n(u),o=o(u),n.flags|=1,sn(e,n,o,s),n.child;case 14:return o=n.type,u=tr(o,n.pendingProps),u=tr(o.type,u),Ed(e,n,o,u,s);case 15:return Id(e,n,n.type,n.pendingProps,s);case 17:return o=n.type,u=n.pendingProps,u=n.elementType===o?u:tr(o,u),il(e,n),n.tag=1,mn(o)?(e=!0,Fo(n)):e=!1,Gs(n,s),Nd(n,o,u),Cc(n,o,u,s),Tc(null,n,o,!0,e,s);case 19:return Bd(e,n,s);case 22:return Td(e,n,s)}throw Error(l(156,n.tag))};function ch(e,n){return mo(e,n)}function Jf(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,n,s,o){return new Jf(e,n,s,o)}function Yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yf(e){if(typeof e=="function")return Yc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ie)return 11;if(e===de)return 14}return 2}function _i(e,n){var s=e.alternate;return s===null?(s=qn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function pl(e,n,s,o,u,f){var x=2;if(o=e,typeof e=="function")Yc(e)&&(x=1);else if(typeof e=="string")x=5;else e:switch(e){case ue:return ts(s.children,u,f,n);case Se:x=8,u|=8;break;case rt:return e=qn(12,s,n,u|2),e.elementType=rt,e.lanes=f,e;case Ue:return e=qn(13,s,n,u),e.elementType=Ue,e.lanes=f,e;case Ze:return e=qn(19,s,n,u),e.elementType=Ze,e.lanes=f,e;case ce:return gl(s,u,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:x=10;break e;case me:x=9;break e;case Ie:x=11;break e;case de:x=14;break e;case ke:x=16,o=null;break e}throw Error(l(130,e==null?e:typeof e,""))}return n=qn(x,s,n,u),n.elementType=e,n.type=o,n.lanes=f,n}function ts(e,n,s,o){return e=qn(7,e,o,n),e.lanes=s,e}function gl(e,n,s,o){return e=qn(22,e,o,n),e.elementType=ce,e.lanes=s,e.stateNode={isHidden:!1},e}function Xc(e,n,s){return e=qn(6,e,null,n),e.lanes=s,e}function eu(e,n,s){return n=qn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Xf(e,n,s,o,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qr(0),this.expirationTimes=qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qr(0),this.identifierPrefix=o,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function tu(e,n,s,o,u,f,x,j,E){return e=new Xf(e,n,s,j,E),n===1?(n=1,f===!0&&(n|=8)):n=0,f=qn(3,null,null,n),e.current=f,f.stateNode=e,f.memoizedState={element:o,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},mc(f),e}function em(e,n,s){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ee,key:o==null?null:""+o,children:e,containerInfo:n,implementation:s}}function uh(e){if(!e)return di;e=e._reactInternals;e:{if(cr(e)!==e||e.tag!==1)throw Error(l(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(mn(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(l(171))}if(e.tag===1){var s=e.type;if(mn(s))return Du(e,s,n)}return n}function dh(e,n,s,o,u,f,x,j,E){return e=tu(s,o,!0,e,u,f,x,j,E),e.context=uh(null),s=e.current,o=an(),u=vi(s),f=Dr(o,u),f.callback=n??null,mi(s,f,u),e.current.lanes=u,jn(e,u,o),xn(e,o),e}function xl(e,n,s,o){var u=n.current,f=an(),x=vi(u);return s=uh(s),n.context===null?n.context=s:n.pendingContext=s,n=Dr(f,x),n.payload={element:e},o=o===void 0?null:o,o!==null&&(n.callback=o),e=mi(u,n,x),e!==null&&(ir(e,u,x,f),Go(e,u,x)),x}function vl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function nu(e,n){hh(e,n),(e=e.alternate)&&hh(e,n)}function tm(){return null}var fh=typeof reportError=="function"?reportError:function(e){console.error(e)};function ru(e){this._internalRoot=e}yl.prototype.render=ru.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));xl(e,n,null,null)},yl.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Yi(function(){xl(null,e,null,null)}),n[nt]=null}};function yl(e){this._internalRoot=e}yl.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ns();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Mt.length&&n!==0&&n<Mt[s].priority;s++);Mt.splice(s,0,e),s===0&&bs(e)}};function iu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mh(){}function nm(e,n,s,o,u){if(u){if(typeof o=="function"){var f=o;o=function(){var W=vl(x);f.call(W)}}var x=dh(n,o,e,0,null,!1,!1,"",mh);return e._reactRootContainer=x,e[nt]=x.current,ai(e.nodeType===8?e.parentNode:e),Yi(),x}for(;u=e.lastChild;)e.removeChild(u);if(typeof o=="function"){var j=o;o=function(){var W=vl(E);j.call(W)}}var E=tu(e,0,!1,null,null,!1,!1,"",mh);return e._reactRootContainer=E,e[nt]=E.current,ai(e.nodeType===8?e.parentNode:e),Yi(function(){xl(n,E,s,o)}),E}function wl(e,n,s,o,u){var f=s._reactRootContainer;if(f){var x=f;if(typeof u=="function"){var j=u;u=function(){var E=vl(x);j.call(E)}}xl(n,x,e,u)}else x=nm(s,n,e,u,o);return vl(x)}_s=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Ae(n.pendingLanes);s!==0&&(Qn(n,s|1),xn(n,vt()),(Ye&6)===0&&(Xs=vt()+500,hi()))}break;case 13:Yi(function(){var o=Ar(e,1);if(o!==null){var u=an();ir(o,e,1,u)}}),nu(e,1)}},Nr=function(e){if(e.tag===13){var n=Ar(e,134217728);if(n!==null){var s=an();ir(n,e,134217728,s)}nu(e,134217728)}},ws=function(e){if(e.tag===13){var n=vi(e),s=Ar(e,n);if(s!==null){var o=an();ir(s,e,n,o)}nu(e,n)}},Ns=function(){return Je},Mi=function(e,n){var s=Je;try{return Je=e,n()}finally{Je=s}},Pe=function(e,n,s){switch(n){case"input":if(Ke(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var u=Fs(o);if(!u)throw Error(l(90));cn(o),Ke(o,u)}}}break;case"textarea":Xt(e,s);break;case"select":n=s.value,n!=null&&T(e,!!s.multiple,n,!1)}},oo=Qc,lo=Yi;var rm={usingClientEntryPoint:!1,Events:[Tr,Mr,Fs,en,lr,Qc]},eo={findFiberByHostInstance:Ir,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},im={bundleType:eo.bundleType,version:eo.version,rendererPackageName:eo.rendererPackageName,rendererConfig:eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ho(e),e===null?null:e.stateNode},findFiberByHostInstance:eo.findFiberByHostInstance||tm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{Ii=Nl.inject(im),bn=Nl}catch{}}return vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rm,vn.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iu(n))throw Error(l(200));return em(e,n,null,s)},vn.createRoot=function(e,n){if(!iu(e))throw Error(l(299));var s=!1,o="",u=fh;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=tu(e,1,!1,null,null,s,!1,o,u),e[nt]=n.current,ai(e.nodeType===8?e.parentNode:e),new ru(n)},vn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=ho(n),e=e===null?null:e.stateNode,e},vn.flushSync=function(e){return Yi(e)},vn.hydrate=function(e,n,s){if(!_l(n))throw Error(l(200));return wl(null,e,n,!0,s)},vn.hydrateRoot=function(e,n,s){if(!iu(e))throw Error(l(405));var o=s!=null&&s.hydratedSources||null,u=!1,f="",x=fh;if(s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(x=s.onRecoverableError)),n=dh(n,null,e,1,s??null,u,!1,f,x),e[nt]=n.current,ai(e),o)for(e=0;e<o.length;e++)s=o[e],u=s._getVersion,u=u(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,u]:n.mutableSourceEagerHydrationData.push(s,u);return new yl(n)},vn.render=function(e,n,s){if(!_l(n))throw Error(l(200));return wl(null,e,n,!1,s)},vn.unmountComponentAtNode=function(e){if(!_l(e))throw Error(l(40));return e._reactRootContainer?(Yi(function(){wl(null,null,e,!1,function(){e._reactRootContainer=null,e[nt]=null})}),!0):!1},vn.unstable_batchedUpdates=Qc,vn.unstable_renderSubtreeIntoContainer=function(e,n,s,o){if(!_l(s))throw Error(l(200));if(e==null||e._reactInternals===void 0)throw Error(l(38));return wl(e,n,s,!1,o)},vn.version="18.3.1-next-f1338f8080-20240426",vn}var Nh;function Zh(){if(Nh)return ou.exports;Nh=1;function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(h){console.error(h)}}return d(),ou.exports=fm(),ou.exports}var bh;function mm(){if(bh)return bl;bh=1;var d=Zh();return bl.createRoot=d.createRoot,bl.hydrateRoot=d.hydrateRoot,bl}var pm=mm();const gm=ju(pm);var xm=Zh();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function io(){return io=Object.assign?Object.assign.bind():function(d){for(var h=1;h<arguments.length;h++){var l=arguments[h];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(d[m]=l[m])}return d},io.apply(this,arguments)}var bi;(function(d){d.Pop="POP",d.Push="PUSH",d.Replace="REPLACE"})(bi||(bi={}));const jh="popstate";function vm(d){d===void 0&&(d={});function h(m,g){let{pathname:_,search:y,hash:S}=m.location;return du("",{pathname:_,search:y,hash:S},g.state&&g.state.usr||null,g.state&&g.state.key||"default")}function l(m,g){return typeof g=="string"?g:Sl(g)}return _m(h,l,null,d)}function It(d,h){if(d===!1||d===null||typeof d>"u")throw new Error(h)}function $h(d,h){if(!d){typeof console<"u"&&console.warn(h);try{throw new Error(h)}catch{}}}function ym(){return Math.random().toString(36).substr(2,8)}function Sh(d,h){return{usr:d.state,key:d.key,idx:h}}function du(d,h,l,m){return l===void 0&&(l=null),io({pathname:typeof d=="string"?d:d.pathname,search:"",hash:""},typeof h=="string"?oa(h):h,{state:l,key:h&&h.key||m||ym()})}function Sl(d){let{pathname:h="/",search:l="",hash:m=""}=d;return l&&l!=="?"&&(h+=l.charAt(0)==="?"?l:"?"+l),m&&m!=="#"&&(h+=m.charAt(0)==="#"?m:"#"+m),h}function oa(d){let h={};if(d){let l=d.indexOf("#");l>=0&&(h.hash=d.substr(l),d=d.substr(0,l));let m=d.indexOf("?");m>=0&&(h.search=d.substr(m),d=d.substr(0,m)),d&&(h.pathname=d)}return h}function _m(d,h,l,m){m===void 0&&(m={});let{window:g=document.defaultView,v5Compat:_=!1}=m,y=g.history,S=bi.Pop,N=null,O=I();O==null&&(O=0,y.replaceState(io({},y.state,{idx:O}),""));function I(){return(y.state||{idx:null}).idx}function b(){S=bi.Pop;let z=I(),Q=z==null?null:z-O;O=z,N&&N({action:S,location:R.location,delta:Q})}function V(z,Q){S=bi.Push;let B=du(R.location,z,Q);O=I()+1;let $=Sh(B,O),D=R.createHref(B);try{y.pushState($,"",D)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;g.location.assign(D)}_&&N&&N({action:S,location:R.location,delta:1})}function G(z,Q){S=bi.Replace;let B=du(R.location,z,Q);O=I();let $=Sh(B,O),D=R.createHref(B);y.replaceState($,"",D),_&&N&&N({action:S,location:R.location,delta:0})}function J(z){let Q=g.location.origin!=="null"?g.location.origin:g.location.href,B=typeof z=="string"?z:Sl(z);return B=B.replace(/ $/,"%20"),It(Q,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,Q)}let R={get action(){return S},get location(){return d(g,y)},listen(z){if(N)throw new Error("A history only accepts one active listener");return g.addEventListener(jh,b),N=z,()=>{g.removeEventListener(jh,b),N=null}},createHref(z){return h(g,z)},createURL:J,encodeLocation(z){let Q=J(z);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:V,replace:G,go(z){return y.go(z)}};return R}var kh;(function(d){d.data="data",d.deferred="deferred",d.redirect="redirect",d.error="error"})(kh||(kh={}));function wm(d,h,l){return l===void 0&&(l="/"),Nm(d,h,l)}function Nm(d,h,l,m){let g=typeof h=="string"?oa(h):h,_=ku(g.pathname||"/",l);if(_==null)return null;let y=Vh(d);bm(y);let S=null;for(let N=0;S==null&&N<y.length;++N){let O=Rm(_);S=Tm(y[N],O)}return S}function Vh(d,h,l,m){h===void 0&&(h=[]),l===void 0&&(l=[]),m===void 0&&(m="");let g=(_,y,S)=>{let N={relativePath:S===void 0?_.path||"":S,caseSensitive:_.caseSensitive===!0,childrenIndex:y,route:_};N.relativePath.startsWith("/")&&(It(N.relativePath.startsWith(m),'Absolute route path "'+N.relativePath+'" nested under path '+('"'+m+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),N.relativePath=N.relativePath.slice(m.length));let O=ji([m,N.relativePath]),I=l.concat(N);_.children&&_.children.length>0&&(It(_.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+O+'".')),Vh(_.children,h,I,O)),!(_.path==null&&!_.index)&&h.push({path:O,score:Em(O,_.index),routesMeta:I})};return d.forEach((_,y)=>{var S;if(_.path===""||!((S=_.path)!=null&&S.includes("?")))g(_,y);else for(let N of Hh(_.path))g(_,y,N)}),h}function Hh(d){let h=d.split("/");if(h.length===0)return[];let[l,...m]=h,g=l.endsWith("?"),_=l.replace(/\?$/,"");if(m.length===0)return g?[_,""]:[_];let y=Hh(m.join("/")),S=[];return S.push(...y.map(N=>N===""?_:[_,N].join("/"))),g&&S.push(...y),S.map(N=>d.startsWith("/")&&N===""?"/":N)}function bm(d){d.sort((h,l)=>h.score!==l.score?l.score-h.score:Im(h.routesMeta.map(m=>m.childrenIndex),l.routesMeta.map(m=>m.childrenIndex)))}const jm=/^:[\w-]+$/,Sm=3,km=2,Pm=1,Cm=10,Lm=-2,Ph=d=>d==="*";function Em(d,h){let l=d.split("/"),m=l.length;return l.some(Ph)&&(m+=Lm),h&&(m+=km),l.filter(g=>!Ph(g)).reduce((g,_)=>g+(jm.test(_)?Sm:_===""?Pm:Cm),m)}function Im(d,h){return d.length===h.length&&d.slice(0,-1).every((m,g)=>m===h[g])?d[d.length-1]-h[h.length-1]:0}function Tm(d,h,l){let{routesMeta:m}=d,g={},_="/",y=[];for(let S=0;S<m.length;++S){let N=m[S],O=S===m.length-1,I=_==="/"?h:h.slice(_.length)||"/",b=Mm({path:N.relativePath,caseSensitive:N.caseSensitive,end:O},I),V=N.route;if(!b)return null;Object.assign(g,b.params),y.push({params:g,pathname:ji([_,b.pathname]),pathnameBase:Bm(ji([_,b.pathnameBase])),route:V}),b.pathnameBase!=="/"&&(_=ji([_,b.pathnameBase]))}return y}function Mm(d,h){typeof d=="string"&&(d={path:d,caseSensitive:!1,end:!0});let[l,m]=Om(d.path,d.caseSensitive,d.end),g=h.match(l);if(!g)return null;let _=g[0],y=_.replace(/(.)\/+$/,"$1"),S=g.slice(1);return{params:m.reduce((O,I,b)=>{let{paramName:V,isOptional:G}=I;if(V==="*"){let R=S[b]||"";y=_.slice(0,_.length-R.length).replace(/(.)\/+$/,"$1")}const J=S[b];return G&&!J?O[V]=void 0:O[V]=(J||"").replace(/%2F/g,"/"),O},{}),pathname:_,pathnameBase:y,pattern:d}}function Om(d,h,l){h===void 0&&(h=!1),l===void 0&&(l=!0),$h(d==="*"||!d.endsWith("*")||d.endsWith("/*"),'Route path "'+d+'" will be treated as if it were '+('"'+d.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+d.replace(/\*$/,"/*")+'".'));let m=[],g="^"+d.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(y,S,N)=>(m.push({paramName:S,isOptional:N!=null}),N?"/?([^\\/]+)?":"/([^\\/]+)"));return d.endsWith("*")?(m.push({paramName:"*"}),g+=d==="*"||d==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?g+="\\/*$":d!==""&&d!=="/"&&(g+="(?:(?=\\/|$))"),[new RegExp(g,h?void 0:"i"),m]}function Rm(d){try{return d.split("/").map(h=>decodeURIComponent(h).replace(/\//g,"%2F")).join("/")}catch(h){return $h(!1,'The URL path "'+d+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+h+").")),d}}function ku(d,h){if(h==="/")return d;if(!d.toLowerCase().startsWith(h.toLowerCase()))return null;let l=h.endsWith("/")?h.length-1:h.length,m=d.charAt(l);return m&&m!=="/"?null:d.slice(l)||"/"}function zm(d,h){h===void 0&&(h="/");let{pathname:l,search:m="",hash:g=""}=typeof d=="string"?oa(d):d;return{pathname:l?l.startsWith("/")?l:Am(l,h):h,search:Fm(m),hash:Um(g)}}function Am(d,h){let l=h.replace(/\/+$/,"").split("/");return d.split("/").forEach(g=>{g===".."?l.length>1&&l.pop():g!=="."&&l.push(g)}),l.length>1?l.join("/"):"/"}function uu(d,h,l,m){return"Cannot include a '"+d+"' character in a manually specified "+("`to."+h+"` field ["+JSON.stringify(m)+"].  Please separate it out to the ")+("`to."+l+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dm(d){return d.filter((h,l)=>l===0||h.route.path&&h.route.path.length>0)}function qh(d,h){let l=Dm(d);return h?l.map((m,g)=>g===l.length-1?m.pathname:m.pathnameBase):l.map(m=>m.pathnameBase)}function Wh(d,h,l,m){m===void 0&&(m=!1);let g;typeof d=="string"?g=oa(d):(g=io({},d),It(!g.pathname||!g.pathname.includes("?"),uu("?","pathname","search",g)),It(!g.pathname||!g.pathname.includes("#"),uu("#","pathname","hash",g)),It(!g.search||!g.search.includes("#"),uu("#","search","hash",g)));let _=d===""||g.pathname==="",y=_?"/":g.pathname,S;if(y==null)S=l;else{let b=h.length-1;if(!m&&y.startsWith("..")){let V=y.split("/");for(;V[0]==="..";)V.shift(),b-=1;g.pathname=V.join("/")}S=b>=0?h[b]:"/"}let N=zm(g,S),O=y&&y!=="/"&&y.endsWith("/"),I=(_||y===".")&&l.endsWith("/");return!N.pathname.endsWith("/")&&(O||I)&&(N.pathname+="/"),N}const ji=d=>d.join("/").replace(/\/\/+/g,"/"),Bm=d=>d.replace(/\/+$/,"").replace(/^\/*/,"/"),Fm=d=>!d||d==="?"?"":d.startsWith("?")?d:"?"+d,Um=d=>!d||d==="#"?"":d.startsWith("#")?d:"#"+d;function Zm(d){return d!=null&&typeof d.status=="number"&&typeof d.statusText=="string"&&typeof d.internal=="boolean"&&"data"in d}const Gh=["post","put","patch","delete"];new Set(Gh);const $m=["get",...Gh];new Set($m);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function so(){return so=Object.assign?Object.assign.bind():function(d){for(var h=1;h<arguments.length;h++){var l=arguments[h];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(d[m]=l[m])}return d},so.apply(this,arguments)}const Pu=w.createContext(null),Vm=w.createContext(null),ls=w.createContext(null),Ll=w.createContext(null),cs=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Qh=w.createContext(null);function Hm(d,h){let{relative:l}=h===void 0?{}:h;ao()||It(!1);let{basename:m,navigator:g}=w.useContext(ls),{hash:_,pathname:y,search:S}=Jh(d,{relative:l}),N=y;return m!=="/"&&(N=y==="/"?m:ji([m,y])),g.createHref({pathname:N,search:S,hash:_})}function ao(){return w.useContext(Ll)!=null}function us(){return ao()||It(!1),w.useContext(Ll).location}function Kh(d){w.useContext(ls).static||w.useLayoutEffect(d)}function Ur(){let{isDataRoute:d}=w.useContext(cs);return d?ip():qm()}function qm(){ao()||It(!1);let d=w.useContext(Pu),{basename:h,future:l,navigator:m}=w.useContext(ls),{matches:g}=w.useContext(cs),{pathname:_}=us(),y=JSON.stringify(qh(g,l.v7_relativeSplatPath)),S=w.useRef(!1);return Kh(()=>{S.current=!0}),w.useCallback(function(O,I){if(I===void 0&&(I={}),!S.current)return;if(typeof O=="number"){m.go(O);return}let b=Wh(O,JSON.parse(y),_,I.relative==="path");d==null&&h!=="/"&&(b.pathname=b.pathname==="/"?h:ji([h,b.pathname])),(I.replace?m.replace:m.push)(b,I.state,I)},[h,m,y,_,d])}function Jh(d,h){let{relative:l}=h===void 0?{}:h,{future:m}=w.useContext(ls),{matches:g}=w.useContext(cs),{pathname:_}=us(),y=JSON.stringify(qh(g,m.v7_relativeSplatPath));return w.useMemo(()=>Wh(d,JSON.parse(y),_,l==="path"),[d,y,_,l])}function Wm(d,h){return Gm(d,h)}function Gm(d,h,l,m){ao()||It(!1);let{navigator:g}=w.useContext(ls),{matches:_}=w.useContext(cs),y=_[_.length-1],S=y?y.params:{};y&&y.pathname;let N=y?y.pathnameBase:"/";y&&y.route;let O=us(),I;if(h){var b;let z=typeof h=="string"?oa(h):h;N==="/"||(b=z.pathname)!=null&&b.startsWith(N)||It(!1),I=z}else I=O;let V=I.pathname||"/",G=V;if(N!=="/"){let z=N.replace(/^\//,"").split("/");G="/"+V.replace(/^\//,"").split("/").slice(z.length).join("/")}let J=wm(d,{pathname:G}),R=Xm(J&&J.map(z=>Object.assign({},z,{params:Object.assign({},S,z.params),pathname:ji([N,g.encodeLocation?g.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?N:ji([N,g.encodeLocation?g.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),_,l,m);return h&&R?w.createElement(Ll.Provider,{value:{location:so({pathname:"/",search:"",hash:"",state:null,key:"default"},I),navigationType:bi.Pop}},R):R}function Qm(){let d=rp(),h=Zm(d)?d.status+" "+d.statusText:d instanceof Error?d.message:JSON.stringify(d),l=d instanceof Error?d.stack:null,g={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},h),l?w.createElement("pre",{style:g},l):null,null)}const Km=w.createElement(Qm,null);class Jm extends w.Component{constructor(h){super(h),this.state={location:h.location,revalidation:h.revalidation,error:h.error}}static getDerivedStateFromError(h){return{error:h}}static getDerivedStateFromProps(h,l){return l.location!==h.location||l.revalidation!=="idle"&&h.revalidation==="idle"?{error:h.error,location:h.location,revalidation:h.revalidation}:{error:h.error!==void 0?h.error:l.error,location:l.location,revalidation:h.revalidation||l.revalidation}}componentDidCatch(h,l){console.error("React Router caught the following error during render",h,l)}render(){return this.state.error!==void 0?w.createElement(cs.Provider,{value:this.props.routeContext},w.createElement(Qh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ym(d){let{routeContext:h,match:l,children:m}=d,g=w.useContext(Pu);return g&&g.static&&g.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(g.staticContext._deepestRenderedBoundaryId=l.route.id),w.createElement(cs.Provider,{value:h},m)}function Xm(d,h,l,m){var g;if(h===void 0&&(h=[]),l===void 0&&(l=null),m===void 0&&(m=null),d==null){var _;if(!l)return null;if(l.errors)d=l.matches;else if((_=m)!=null&&_.v7_partialHydration&&h.length===0&&!l.initialized&&l.matches.length>0)d=l.matches;else return null}let y=d,S=(g=l)==null?void 0:g.errors;if(S!=null){let I=y.findIndex(b=>b.route.id&&S?.[b.route.id]!==void 0);I>=0||It(!1),y=y.slice(0,Math.min(y.length,I+1))}let N=!1,O=-1;if(l&&m&&m.v7_partialHydration)for(let I=0;I<y.length;I++){let b=y[I];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(O=I),b.route.id){let{loaderData:V,errors:G}=l,J=b.route.loader&&V[b.route.id]===void 0&&(!G||G[b.route.id]===void 0);if(b.route.lazy||J){N=!0,O>=0?y=y.slice(0,O+1):y=[y[0]];break}}}return y.reduceRight((I,b,V)=>{let G,J=!1,R=null,z=null;l&&(G=S&&b.route.id?S[b.route.id]:void 0,R=b.route.errorElement||Km,N&&(O<0&&V===0?(sp("route-fallback"),J=!0,z=null):O===V&&(J=!0,z=b.route.hydrateFallbackElement||null)));let Q=h.concat(y.slice(0,V+1)),B=()=>{let $;return G?$=R:J?$=z:b.route.Component?$=w.createElement(b.route.Component,null):b.route.element?$=b.route.element:$=I,w.createElement(Ym,{match:b,routeContext:{outlet:I,matches:Q,isDataRoute:l!=null},children:$})};return l&&(b.route.ErrorBoundary||b.route.errorElement||V===0)?w.createElement(Jm,{location:l.location,revalidation:l.revalidation,component:R,error:G,children:B(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):B()},null)}var Yh=function(d){return d.UseBlocker="useBlocker",d.UseRevalidator="useRevalidator",d.UseNavigateStable="useNavigate",d}(Yh||{}),Xh=function(d){return d.UseBlocker="useBlocker",d.UseLoaderData="useLoaderData",d.UseActionData="useActionData",d.UseRouteError="useRouteError",d.UseNavigation="useNavigation",d.UseRouteLoaderData="useRouteLoaderData",d.UseMatches="useMatches",d.UseRevalidator="useRevalidator",d.UseNavigateStable="useNavigate",d.UseRouteId="useRouteId",d}(Xh||{});function ep(d){let h=w.useContext(Pu);return h||It(!1),h}function tp(d){let h=w.useContext(Vm);return h||It(!1),h}function np(d){let h=w.useContext(cs);return h||It(!1),h}function ef(d){let h=np(),l=h.matches[h.matches.length-1];return l.route.id||It(!1),l.route.id}function rp(){var d;let h=w.useContext(Qh),l=tp(),m=ef();return h!==void 0?h:(d=l.errors)==null?void 0:d[m]}function ip(){let{router:d}=ep(Yh.UseNavigateStable),h=ef(Xh.UseNavigateStable),l=w.useRef(!1);return Kh(()=>{l.current=!0}),w.useCallback(function(g,_){_===void 0&&(_={}),l.current&&(typeof g=="number"?d.navigate(g):d.navigate(g,so({fromRouteId:h},_)))},[d,h])}const Ch={};function sp(d,h,l){Ch[d]||(Ch[d]=!0)}function ap(d,h){d?.v7_startTransition,d?.v7_relativeSplatPath}function Yt(d){It(!1)}function op(d){let{basename:h="/",children:l=null,location:m,navigationType:g=bi.Pop,navigator:_,static:y=!1,future:S}=d;ao()&&It(!1);let N=h.replace(/^\/*/,"/"),O=w.useMemo(()=>({basename:N,navigator:_,static:y,future:so({v7_relativeSplatPath:!1},S)}),[N,S,_,y]);typeof m=="string"&&(m=oa(m));let{pathname:I="/",search:b="",hash:V="",state:G=null,key:J="default"}=m,R=w.useMemo(()=>{let z=ku(I,N);return z==null?null:{location:{pathname:z,search:b,hash:V,state:G,key:J},navigationType:g}},[N,I,b,V,G,J,g]);return R==null?null:w.createElement(ls.Provider,{value:O},w.createElement(Ll.Provider,{children:l,value:R}))}function lp(d){let{children:h,location:l}=d;return Wm(hu(h),l)}new Promise(()=>{});function hu(d,h){h===void 0&&(h=[]);let l=[];return w.Children.forEach(d,(m,g)=>{if(!w.isValidElement(m))return;let _=[...h,g];if(m.type===w.Fragment){l.push.apply(l,hu(m.props.children,_));return}m.type!==Yt&&It(!1),!m.props.index||!m.props.children||It(!1);let y={id:m.props.id||_.join("-"),caseSensitive:m.props.caseSensitive,element:m.props.element,Component:m.props.Component,index:m.props.index,path:m.props.path,loader:m.props.loader,action:m.props.action,errorElement:m.props.errorElement,ErrorBoundary:m.props.ErrorBoundary,hasErrorBoundary:m.props.ErrorBoundary!=null||m.props.errorElement!=null,shouldRevalidate:m.props.shouldRevalidate,handle:m.props.handle,lazy:m.props.lazy};m.props.children&&(y.children=hu(m.props.children,_)),l.push(y)}),l}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(d){for(var h=1;h<arguments.length;h++){var l=arguments[h];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(d[m]=l[m])}return d},fu.apply(this,arguments)}function cp(d,h){if(d==null)return{};var l={},m=Object.keys(d),g,_;for(_=0;_<m.length;_++)g=m[_],!(h.indexOf(g)>=0)&&(l[g]=d[g]);return l}function up(d){return!!(d.metaKey||d.altKey||d.ctrlKey||d.shiftKey)}function dp(d,h){return d.button===0&&(!h||h==="_self")&&!up(d)}function mu(d){return d===void 0&&(d=""),new URLSearchParams(typeof d=="string"||Array.isArray(d)||d instanceof URLSearchParams?d:Object.keys(d).reduce((h,l)=>{let m=d[l];return h.concat(Array.isArray(m)?m.map(g=>[l,g]):[[l,m]])},[]))}function hp(d,h){let l=mu(d);return h&&h.forEach((m,g)=>{l.has(g)||h.getAll(g).forEach(_=>{l.append(g,_)})}),l}const fp=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mp="6";try{window.__reactRouterVersion=mp}catch{}const pp="startTransition",Lh=um[pp];function gp(d){let{basename:h,children:l,future:m,window:g}=d,_=w.useRef();_.current==null&&(_.current=vm({window:g,v5Compat:!0}));let y=_.current,[S,N]=w.useState({action:y.action,location:y.location}),{v7_startTransition:O}=m||{},I=w.useCallback(b=>{O&&Lh?Lh(()=>N(b)):N(b)},[N,O]);return w.useLayoutEffect(()=>y.listen(I),[y,I]),w.useEffect(()=>ap(m),[m]),w.createElement(op,{basename:h,children:l,location:S.location,navigationType:S.action,navigator:y,future:m})}const xp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tt=w.forwardRef(function(h,l){let{onClick:m,relative:g,reloadDocument:_,replace:y,state:S,target:N,to:O,preventScrollReset:I,viewTransition:b}=h,V=cp(h,fp),{basename:G}=w.useContext(ls),J,R=!1;if(typeof O=="string"&&vp.test(O)&&(J=O,xp))try{let $=new URL(window.location.href),D=O.startsWith("//")?new URL($.protocol+O):new URL(O),A=ku(D.pathname,G);D.origin===$.origin&&A!=null?O=A+D.search+D.hash:R=!0}catch{}let z=Hm(O,{relative:g}),Q=yp(O,{replace:y,state:S,target:N,preventScrollReset:I,relative:g,viewTransition:b});function B($){m&&m($),$.defaultPrevented||Q($)}return w.createElement("a",fu({},V,{href:J||z,onClick:R||_?m:B,ref:l,target:N}))});var Eh;(function(d){d.UseScrollRestoration="useScrollRestoration",d.UseSubmit="useSubmit",d.UseSubmitFetcher="useSubmitFetcher",d.UseFetcher="useFetcher",d.useViewTransitionState="useViewTransitionState"})(Eh||(Eh={}));var Ih;(function(d){d.UseFetcher="useFetcher",d.UseFetchers="useFetchers",d.UseScrollRestoration="useScrollRestoration"})(Ih||(Ih={}));function yp(d,h){let{target:l,replace:m,state:g,preventScrollReset:_,relative:y,viewTransition:S}=h===void 0?{}:h,N=Ur(),O=us(),I=Jh(d,{relative:y});return w.useCallback(b=>{if(dp(b,l)){b.preventDefault();let V=m!==void 0?m:Sl(O)===Sl(I);N(d,{replace:V,state:g,preventScrollReset:_,relative:y,viewTransition:S})}},[O,N,I,m,g,l,d,_,y,S])}function _p(d){let h=w.useRef(mu(d)),l=w.useRef(!1),m=us(),g=w.useMemo(()=>hp(m.search,l.current?null:h.current),[m.search]),_=Ur(),y=w.useCallback((S,N)=>{const O=mu(typeof S=="function"?S(g):S);l.current=!0,_("?"+O,N)},[_,g]);return[g,y]}const Cu=[{id:"supplier_1",name:"Sakshi Organic Farms",email:"sakshi07@gmail.com",password:"sakshi123",phone:"+91 98765 43210",businessName:"Sakshi Fresh Vegetables",location:"Sector 17, Chandigarh",coordinates:[30.7889,76.8195],specialization:"Organic Vegetables",fssaiLicense:"FSSAI-12345678901",established:"2019",rating:4.8,totalOrders:1250,products:[]},{id:"supplier_2",name:"Ravi Kumar Dairy",email:"ravi.kumar@gmail.com",password:"ravi123",phone:"+91 98765 43211",businessName:"Kumar Dairy Products",location:"Sector 22, Chandigarh",coordinates:[30.7989,76.8295],specialization:"Dairy Products",fssaiLicense:"FSSAI-12345678902",established:"2017",rating:4.6,totalOrders:980,products:[]},{id:"supplier_3",name:"Priya Singh Fruits",email:"priya.singh@gmail.com",password:"priya123",phone:"+91 98765 43212",businessName:"Singh Fresh Fruits",location:"Sector 35, Chandigarh",coordinates:[30.8249,76.8555],specialization:"Fresh Fruits",fssaiLicense:"FSSAI-12345678903",established:"2020",rating:4.7,totalOrders:750,products:[]},{id:"supplier_4",name:"Amit Patel Grains",email:"amit.patel@gmail.com",password:"amit123",phone:"+91 98765 43213",businessName:"Patel Grain Store",location:"Industrial Area, Chandigarh",coordinates:[30.7509,76.7815],specialization:"Grains & Pulses",fssaiLicense:"FSSAI-12345678904",established:"2015",rating:4.5,totalOrders:1500,products:[]},{id:"supplier_5",name:"Sunita Sharma Spices",email:"sunita.sharma@gmail.com",password:"sunita123",phone:"+91 98765 43214",businessName:"Sharma Spice House",location:"Sector 43, Chandigarh",coordinates:[30.8409,76.8715],specialization:"Spices & Herbs",fssaiLicense:"FSSAI-12345678905",established:"2018",rating:4.9,totalOrders:650,products:[]},{id:"supplier_6",name:"Deepak Joshi Poultry",email:"deepak.joshi@gmail.com",password:"deepak123",phone:"+91 98765 43215",businessName:"Joshi Poultry Farm",location:"Mohali, Punjab",coordinates:[30.7789,76.8095],specialization:"Poultry & Eggs",fssaiLicense:"FSSAI-12345678906",established:"2016",rating:4.4,totalOrders:890,products:[]},{id:"supplier_7",name:"Meena Gupta Bakery",email:"meena.gupta@gmail.com",password:"meena123",phone:"+91 98765 43216",businessName:"Gupta Fresh Bakery",location:"Sector 26, Chandigarh",coordinates:[30.8069,76.8375],specialization:"Bakery Items",fssaiLicense:"FSSAI-12345678907",established:"2021",rating:4.3,totalOrders:420,products:[]}],Th=()=>{try{const{productDatabase:d}=require("./userDatabase"),h=d.getAllProducts();console.log("Dynamic products from productDatabase:",h);const l=[];Cu.forEach(g=>{g.products.forEach(_=>{l.push({..._,supplierId:g.id,supplierName:g.businessName,supplierLocation:g.location,supplierRating:g.rating,supplierPhone:g.phone,fssaiVerified:!0,organic:g.specialization.toLowerCase().includes("organic"),deliveryTime:"2-4 hours",minimumOrder:100})})});const m=[...h,...l];return console.log("All products combined:",m),m}catch(d){return console.error("Error in getAllSupplierProducts:",d),[]}},wp=d=>Cu.find(h=>h.email===d),jl=(d,h,l)=>{const m=[];if(l===0)return m;let g=[];try{const{productDatabase:R}=require("./userDatabase");g=R.getAllProducts()}catch(R){console.warn("Could not load real products:",R)}const _=R=>R<7?0:R===7?1:R===8?2:R===9?3:R===10?5:R<=12?8:R<=15?12:R<=18?16:R<=20?20:R<=22?24:(R<=25,30),y=R=>({Tomatoes:"",Onions:"",Potatoes:"",Carrots:"",Spinach:"",Kale:"",Lettuce:"",Cabbage:"",Apples:"",Bananas:"",Oranges:"",Grapes:"",Milk:"",Yogurt:"",Cheese:"",Butter:"",Rice:"",Wheat:"",Pulses:"",Flour:"",Chicken:"",Fish:"",Eggs:"",Meat:"",Honey:"",Jams:"",Pickles:"",Sauces:"",Ginger:"",Garlic:"",Coriander:"",Mint:"",Nuts:"","Dry Fruits":"",Seeds:"",Oils:"",Bread:"",Cakes:"",Cookies:"",Pastries:""})[R]||"",S=["Fresh Farms","Green Valley","Organic Harvest","Farm Direct","Local Produce Co.","Nature Fresh","Eco Farms","Pure Greens","Healthy Harvest","Garden Fresh","Farm to Table","Green Earth","Organic Plus","Fresh Choice","Natural Farms","Veggie Paradise","Harvest Hub","Fresh Market","Organic Oasis","Green Grocer","Farm Fresh","Village Veggies","Organic Corner","Fresh & Pure","Green Market","Harvest Time","Organic World","Fresh Daily","Green Paradise","Farm Market","Veggie Valley","Organic Express","Fresh Hub","Green Corner","Harvest Fresh","Organic Market","Fresh Paradise","Green Harvest","Farm Oasis","Veggie Hub"],N=[["Tomatoes","Onions","Potatoes","Carrots"],["Spinach","Kale","Lettuce","Cabbage"],["Apples","Bananas","Oranges","Grapes"],["Milk","Yogurt","Cheese","Butter"],["Rice","Wheat","Pulses","Flour"],["Chicken","Fish","Eggs","Meat"],["Honey","Jams","Pickles","Sauces"],["Ginger","Garlic","Coriander","Mint"],["Nuts","Dry Fruits","Seeds","Oils"],["Bread","Cakes","Cookies","Pastries"]],O={};g.forEach(R=>{O[R.supplierId]||(O[R.supplierId]=[]),O[R.supplierId].push({name:R.name,price:`${R.price}/${R.unit||"kg"}`,image:R.image||y(R.name)})}),Cu.forEach(R=>{const z=ro(d,h,R.coordinates[0],R.coordinates[1]);if(z<=l){const Q=O[R.id]||[];m.push({id:R.id,name:R.businessName,coordinates:R.coordinates,distance:z,rating:R.rating,price:Q.length>0?Q[0].price:"50/kg",products:Q.length>0?Q:[{name:"Fresh Produce",price:"50/kg",image:y("Fresh Produce")}],organic:R.specialization.toLowerCase().includes("organic"),fssaiVerified:!0,trustScore:Math.floor(R.rating*20),location:R.location,address:`${R.businessName}, ${R.location}`,lastActive:"Just now",deliveryTime:"2-4 hours",minimumOrder:"200",paymentMethods:["Cash","UPI","Card"],specialOffers:["Direct from supplier"],supplierType:"Verified Supplier"})}});const I=[{name:"Sector 1, Chandigarh",lat:30.7569,lng:76.7875},{name:"Sector 2, Chandigarh",lat:30.7589,lng:76.7895},{name:"Sector 3, Chandigarh",lat:30.7609,lng:76.7915},{name:"Sector 4, Chandigarh",lat:30.7629,lng:76.7935},{name:"Sector 5, Chandigarh",lat:30.7649,lng:76.7955},{name:"Sector 6, Chandigarh",lat:30.7669,lng:76.7975},{name:"Sector 7, Chandigarh",lat:30.7689,lng:76.7995},{name:"Sector 8, Chandigarh",lat:30.7709,lng:76.8015},{name:"Sector 9, Chandigarh",lat:30.7729,lng:76.8035},{name:"Sector 10, Chandigarh",lat:30.7749,lng:76.8055},{name:"Sector 11, Chandigarh",lat:30.7769,lng:76.8075},{name:"Sector 12, Chandigarh",lat:30.7789,lng:76.8095},{name:"Sector 13, Chandigarh",lat:30.7809,lng:76.8115},{name:"Sector 14, Chandigarh",lat:30.7829,lng:76.8135},{name:"Sector 15, Chandigarh",lat:30.7849,lng:76.8155},{name:"Sector 16, Chandigarh",lat:30.7869,lng:76.8175},{name:"Sector 17, Chandigarh",lat:30.7889,lng:76.8195},{name:"Sector 18, Chandigarh",lat:30.7909,lng:76.8215},{name:"Sector 19, Chandigarh",lat:30.7929,lng:76.8235},{name:"Sector 20, Chandigarh",lat:30.7949,lng:76.8255},{name:"Sector 21, Chandigarh",lat:30.7969,lng:76.8275},{name:"Sector 22, Chandigarh",lat:30.7989,lng:76.8295},{name:"Sector 23, Chandigarh",lat:30.8009,lng:76.8315},{name:"Sector 24, Chandigarh",lat:30.8029,lng:76.8335},{name:"Sector 25, Chandigarh",lat:30.8049,lng:76.8355},{name:"Sector 26, Chandigarh",lat:30.8069,lng:76.8375},{name:"Sector 27, Chandigarh",lat:30.8089,lng:76.8395},{name:"Sector 28, Chandigarh",lat:30.8109,lng:76.8415},{name:"Sector 29, Chandigarh",lat:30.8129,lng:76.8435},{name:"Sector 30, Chandigarh",lat:30.8149,lng:76.8455},{name:"Sector 31, Chandigarh",lat:30.8169,lng:76.8475},{name:"Sector 32, Chandigarh",lat:30.8189,lng:76.8495},{name:"Sector 33, Chandigarh",lat:30.8209,lng:76.8515},{name:"Sector 34, Chandigarh",lat:30.8229,lng:76.8535},{name:"Sector 35, Chandigarh",lat:30.8249,lng:76.8555},{name:"Sector 36, Chandigarh",lat:30.8269,lng:76.8575},{name:"Sector 37, Chandigarh",lat:30.8289,lng:76.8595},{name:"Sector 38, Chandigarh",lat:30.8309,lng:76.8615},{name:"Sector 39, Chandigarh",lat:30.8329,lng:76.8635},{name:"Sector 40, Chandigarh",lat:30.8349,lng:76.8655},{name:"Sector 41, Chandigarh",lat:30.8369,lng:76.8675},{name:"Sector 42, Chandigarh",lat:30.8389,lng:76.8695},{name:"Sector 43, Chandigarh",lat:30.8409,lng:76.8715},{name:"Sector 44, Chandigarh",lat:30.8429,lng:76.8735},{name:"Sector 45, Chandigarh",lat:30.8449,lng:76.8755},{name:"Sector 46, Chandigarh",lat:30.8469,lng:76.8775},{name:"Sector 47, Chandigarh",lat:30.8489,lng:76.8795},{name:"Industrial Area, Chandigarh",lat:30.7509,lng:76.7815},{name:"Industrial Area Phase 1, Chandigarh",lat:30.7529,lng:76.7835},{name:"Industrial Area Phase 2, Chandigarh",lat:30.7549,lng:76.7855},{name:"Manimajra, Chandigarh",lat:30.7569,lng:76.7875},{name:"Burail, Chandigarh",lat:30.7589,lng:76.7895},{name:"Maloya, Chandigarh",lat:30.7609,lng:76.7915},{name:"Dhanas, Chandigarh",lat:30.7629,lng:76.7935},{name:"Kajheri, Chandigarh",lat:30.7649,lng:76.7955},{name:"Palsora, Chandigarh",lat:30.7669,lng:76.7975},{name:"Hallomajra, Chandigarh",lat:30.7689,lng:76.7995},{name:"Raipur Khurd, Chandigarh",lat:30.7709,lng:76.8015},{name:"Raipur Kalan, Chandigarh",lat:30.7729,lng:76.8035},{name:"Kaimbwala, Chandigarh",lat:30.7749,lng:76.8055},{name:"Kharar, Punjab",lat:30.7769,lng:76.8075},{name:"Mohali, Punjab",lat:30.7789,lng:76.8095},{name:"Panchkula, Haryana",lat:30.7809,lng:76.8115},{name:"Zirakpur, Punjab",lat:30.7829,lng:76.8135},{name:"Dera Bassi, Punjab",lat:30.7849,lng:76.8155},{name:"Banur, Punjab",lat:30.7869,lng:76.8175},{name:"Kurali, Punjab",lat:30.7889,lng:76.8195},{name:"Morinda, Punjab",lat:30.7909,lng:76.8215},{name:"Pinjore, Haryana",lat:30.7929,lng:76.8235},{name:"Barwala, Haryana",lat:30.7949,lng:76.8255}],b=[];for(let R=0;R<50;R++){const z=I[R%I.length],Q=Math.random()*2*Math.PI,B=7+R/50*18,$=B/111*Math.cos(Q),D=B/(111*Math.cos(d*Math.PI/180))*Math.sin(Q),A=d+$+(Math.random()-.5)*.01,ee=h+D+(Math.random()-.5)*.01,ue=ro(d,h,A,ee);{const rt=N[R%N.length].map(K=>({name:K,price:`${Math.floor(Math.random()*50+20)}/kg`,image:y(K)})),Y=Math.floor(Math.random()*100+20),me=["kg","dozen","pack","bundle","piece"][Math.floor(Math.random()*5)],Ie=(Math.random()*2+3).toFixed(1),Ue=Math.floor(Math.random()*30+65),Ze=["Just now","5 minutes ago","15 minutes ago","30 minutes ago","1 hour ago","2 hours ago","3 hours ago","4 hours ago","6 hours ago","8 hours ago","12 hours ago","1 day ago"],de=Ze[Math.floor(Math.random()*Ze.length)],ke=z.name,ce=["Main Road","Station Road","Market Street","Gandhi Road","Nehru Marg","Church Street","Temple Road","School Lane","Hospital Road","Park Street","Railway Road","Bus Stand Road","Police Station Road","Post Office Road","Bank Street","College Road","University Road","Airport Road","Harbor Road"],C=ce[Math.floor(Math.random()*ce.length)],se=Math.floor(Math.random()*999+1);b.push({id:`demo_${R+1}`,name:`${S[R]} (Demo Supplier)`,coordinates:[A,ee],distance:ue,rating:Ie,price:`${Y}/${me}`,products:rt,organic:Math.random()>.4,fssaiVerified:Math.random()>.2,trustScore:Ue,location:ke,address:`${se}, ${C}, ${ke} - ${Math.floor(ue*1e3)}m from your location`,lastActive:de,deliveryTime:`${Math.floor(Math.random()*3+1)}-${Math.floor(Math.random()*2+4)} hours`,minimumOrder:`${Math.floor(Math.random()*200+100)}`,paymentMethods:["Cash","UPI","Card"][Math.floor(Math.random()*3)],specialOffers:Math.random()>.6?["10% off on first order","Free delivery above 500"][Math.floor(Math.random()*2)]:[],supplierType:["Individual Farmer","Cooperative","Wholesaler","Retailer"][Math.floor(Math.random()*4)]})}}const V=b.filter(R=>R.distance<=l).sort((R,z)=>R.distance-z.distance),G=_(l),J=V.slice(0,G);return m.push(...J),m},ro=(d,h,l,m)=>{const _=(l-d)*Math.PI/180,y=(m-h)*Math.PI/180,S=Math.sin(_/2)*Math.sin(_/2)+Math.cos(d*Math.PI/180)*Math.cos(l*Math.PI/180)*Math.sin(y/2)*Math.sin(y/2);return 6371*(2*Math.atan2(Math.sqrt(S),Math.sqrt(1-S)))},Np=(d,h)=>"default",bp="modulepreload",jp=function(d){return"/"+d},Mh={},Ni=function(h,l,m){let g=Promise.resolve();if(l&&l.length>0){let N=function(O){return Promise.all(O.map(I=>Promise.resolve(I).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const y=document.querySelector("meta[property=csp-nonce]"),S=y?.nonce||y?.getAttribute("nonce");g=N(l.map(O=>{if(O=jp(O),O in Mh)return;Mh[O]=!0;const I=O.endsWith(".css"),b=I?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${O}"]${b}`))return;const V=document.createElement("link");if(V.rel=I?"stylesheet":bp,I||(V.as="script"),V.crossOrigin="",V.href=O,S&&V.setAttribute("nonce",S),document.head.appendChild(V),I)return new Promise((G,J)=>{V.addEventListener("load",G),V.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${O}`)))})}))}function _(y){const S=new Event("vite:preloadError",{cancelable:!0});if(S.payload=y,window.dispatchEvent(S),!S.defaultPrevented)throw y}return g.then(y=>{for(const S of y||[])S.status==="rejected"&&_(S.reason);return h().catch(_)})};class Sp{constructor(){this.listeners=new Map,this.setupStorageListener()}setupStorageListener(){window.addEventListener("storage",h=>{if(h.key&&h.key.startsWith("vendorMitra_sync_")){const l=h.key.replace("vendorMitra_sync_",""),m=h.newValue?JSON.parse(h.newValue):null;this.listeners.has(l)&&this.listeners.get(l).forEach(g=>g(m))}})}subscribe(h,l){return this.listeners.has(h)||this.listeners.set(h,new Set),this.listeners.get(h).add(l),()=>{this.listeners.has(h)&&this.listeners.get(h).delete(l)}}emit(h,l){const m=`vendorMitra_sync_${h}`,g=JSON.stringify({...l,timestamp:Date.now(),id:Math.random().toString(36).substr(2,9)});localStorage.setItem(m,g),setTimeout(()=>{localStorage.removeItem(m)},1e3)}emitProductUpdate(h,l){this.emit("product_update",{action:h,product:l,supplierId:l.supplierId})}emitBargainUpdate(h,l){this.emit("bargain_update",{action:h,bargain:l,supplierId:l.supplierId,vendorId:l.vendorId})}emitFlashSaleUpdate(h,l){this.emit("flash_sale_update",{action:h,flashSale:l,supplierId:l.supplierId})}emitReviewUpdate(h,l){this.emit("review_update",{action:h,review:l,supplierId:l.supplierId,vendorId:l.vendorId})}emitDeliveryUpdate(h,l){this.emit("delivery_update",{action:h,delivery:l,supplierId:l.supplierId,vendorId:l.customerId})}emitStockUpdate(h,l){this.emit("stock_update",{action:h,...l})}emitOrderUpdate(h,l){this.emit("order_update",{action:h,...l})}}const sr=new Sp,ft={subscribe:(d,h)=>sr.subscribe(d,h),emit:(d,h)=>sr.emit(d,h),emitStockUpdate:d=>{sr.emit("stock_update",d)},subscribeToStockUpdates:d=>sr.subscribe("stock_update",d),emitProductUpdate:d=>{sr.emit("product_update",d)},subscribeToProductUpdates:d=>sr.subscribe("product_update",d),emitBargainUpdate:d=>{sr.emit("bargain_update",d)},subscribeToBargainUpdates:d=>sr.subscribe("bargain_update",d),decreaseStock:async(d,h,l={})=>{try{const{productDatabase:m}=await Ni(async()=>{const{productDatabase:I}=await Promise.resolve().then(()=>rs);return{productDatabase:I}},void 0),g=m.getProductById(d);if(!g)return{success:!1,error:"Product not found",data:null};const _=parseInt(g.stock||g.quantity||0),y=parseInt(h||0);if(y<=0)return{success:!1,error:"Invalid quantity to decrease",data:null};if(_<y)return{success:!1,error:`Insufficient stock. Available: ${_}, Requested: ${y}`,data:{availableStock:_}};const S=Math.max(0,_-y),N={...g,stock:S,quantity:S,updatedAt:new Date().toISOString()};return m.updateProduct(d,N)?(sr.emitStockUpdate("purchase",{productId:d,previousStock:_,newStock:S,quantityPurchased:y,product:N,vendorId:l.vendorId,orderId:l.orderId,timestamp:Date.now()}),{success:!0,data:{product:N,stock:S,newStock:S,previousStock:_,quantityPurchased:y}}):{success:!1,error:"Failed to update product stock",data:null}}catch(m){return console.error("Error decreasing stock:",m),{success:!1,error:m.message||"Unknown error occurred",data:null}}},increaseStock:async(d,h,l={})=>{try{const{productDatabase:m}=await Ni(async()=>{const{productDatabase:I}=await Promise.resolve().then(()=>rs);return{productDatabase:I}},void 0),g=m.getProductById(d);if(!g)return{success:!1,error:"Product not found",data:null};const _=parseInt(g.stock||g.quantity||0),y=parseInt(h||0);if(y<=0)return{success:!1,error:"Invalid quantity to increase",data:null};const S=_+y,N={...g,stock:S,quantity:S,updatedAt:new Date().toISOString()};return m.updateProduct(d,N)?(sr.emitStockUpdate("restock",{productId:d,previousStock:_,newStock:S,quantityAdded:y,product:N,supplierId:l.supplierId,timestamp:Date.now()}),{success:!0,data:{product:N,stock:S,newStock:S,previousStock:_,quantityAdded:y}}):{success:!1,error:"Failed to update product stock",data:null}}catch(m){return console.error("Error increasing stock:",m),{success:!1,error:m.message||"Unknown error occurred",data:null}}},setStock:async(d,h,l={})=>{try{const{productDatabase:m}=await Ni(async()=>{const{productDatabase:O}=await Promise.resolve().then(()=>rs);return{productDatabase:O}},void 0),g=m.getProductById(d);if(!g)return{success:!1,error:"Product not found",data:null};const _=parseInt(g.stock||g.quantity||0),y=Math.max(0,parseInt(h||0)),S={...g,stock:y,quantity:y,updatedAt:new Date().toISOString()};return m.updateProduct(d,S)?(sr.emitStockUpdate("update",{productId:d,previousStock:_,newStock:y,stockChange:y-_,product:S,supplierId:l.supplierId,timestamp:Date.now()}),{success:!0,data:{product:S,stock:y,newStock:y,previousStock:_,stockChange:y-_}}):{success:!1,error:"Failed to update product stock",data:null}}catch(m){return console.error("Error setting stock:",m),{success:!1,error:m.message||"Unknown error occurred",data:null}}},getStock:async d=>{try{const{productDatabase:h}=await Ni(async()=>{const{productDatabase:g}=await Promise.resolve().then(()=>rs);return{productDatabase:g}},void 0),l=h.getProductById(d);if(!l)return{success:!1,error:"Product not found",data:null};const m=parseInt(l.stock||l.quantity||0);return{success:!0,data:{productId:d,stock:m,product:l}}}catch(h){return console.error("Error getting stock:",h),{success:!1,error:h.message||"Unknown error occurred",data:null}}},checkStockAvailability:async(d,h)=>{try{const{productDatabase:l}=await Ni(async()=>{const{productDatabase:S}=await Promise.resolve().then(()=>rs);return{productDatabase:S}},void 0),m=l.getProductById(d);if(!m)return{success:!1,error:"Product not found",data:null};const g=parseInt(m.stock||m.quantity||0),_=parseInt(h||0),y=g>=_;return{success:!0,data:{productId:d,currentStock:g,requestedQuantity:_,isAvailable:y,shortfall:y?0:_-g,product:m}}}catch(l){return console.error("Error checking stock availability:",l),{success:!1,error:l.message||"Unknown error occurred",data:null}}}},ia=[{id:1,name:"Manya",email:"manya@gmail.com",phone:"1234567890",password:"manya123",userType:"vendor",type:"vendor",trustScore:85,fssaiVerified:!0,location:"Mumbai"},{id:2,name:"Sakshi",email:"sakshi07@gmail.com",phone:"0987654321",password:"sakshi123",userType:"supplier",type:"supplier",trustScore:92,fssaiVerified:!0,location:"Navi Mumbai"}];ia.push({id:3,name:"Ravi Kumar",email:"ravi.kumar@gmail.com",phone:"9876543210",password:"ravi123",userType:"supplier",type:"supplier",trustScore:80,fssaiVerified:!0,location:"Delhi"},{id:4,name:"Priya Singh",email:"priya.singh@gmail.com",phone:"9123456780",password:"priya123",userType:"supplier",type:"supplier",trustScore:88,fssaiVerified:!0,location:"Bangalore"},{id:5,name:"Amit Patel",email:"amit.patel@gmail.com",phone:"9988776655",password:"amit123",userType:"supplier",type:"supplier",trustScore:75,fssaiVerified:!1,location:"Ahmedabad"});ia.push({id:6,name:"Sunita Sharma",email:"sunita.sharma@gmail.com",phone:"9001112233",password:"sunita123",userType:"supplier",type:"supplier",trustScore:90,fssaiVerified:!0,location:"Pune"},{id:7,name:"Deepak Joshi",email:"deepak.joshi@gmail.com",phone:"9002223344",password:"deepak123",userType:"supplier",type:"supplier",trustScore:82,fssaiVerified:!1,location:"Chennai"},{id:8,name:"Meena Gupta",email:"meena.gupta@gmail.com",phone:"9003334455",password:"meena123",userType:"supplier",type:"supplier",trustScore:87,fssaiVerified:!0,location:"Hyderabad"});const Nt={reviews:[],addReview:d=>{const h={id:Date.now(),...d,date:new Date().toISOString().split("T")[0],status:"published"};return Nt.reviews.push(h),localStorage.setItem("vendorMitraReviews",JSON.stringify(Nt.reviews)),ft.emitReviewUpdate("add",h),h},updateReview:(d,h)=>{const l=Nt.reviews.findIndex(m=>m.id===d);return l!==-1?(Nt.reviews[l]={...Nt.reviews[l],...h},localStorage.setItem("vendorMitraReviews",JSON.stringify(Nt.reviews)),ft.emitReviewUpdate("update",Nt.reviews[l]),Nt.reviews[l]):null},deleteReview:d=>{const h=Nt.reviews.findIndex(l=>l.id===d);return h!==-1?(Nt.reviews.splice(h,1),localStorage.setItem("vendorMitraReviews",JSON.stringify(Nt.reviews)),!0):!1},getReviewsBySupplier:d=>Nt.reviews.filter(h=>Number(h.supplierId)===Number(d)),getReviewsByProduct:d=>Nt.reviews.filter(h=>h.productId===d),getAllReviews:()=>Nt.reviews,initialize:()=>{const d=localStorage.getItem("vendorMitraReviews");d&&(Nt.reviews=JSON.parse(d))}},qe={flashSales:[],addFlashSale:d=>{const h={id:Date.now(),...d,sold:0,remainingStock:d.total||d.totalQuantity||0,status:"active",endTime:d.endTime||new Date(Date.now()+72e5).toISOString(),createdAt:new Date().toISOString().split("T")[0]};return qe.flashSales.push(h),localStorage.setItem("vendorMitraFlashSales",JSON.stringify(qe.flashSales)),ft.emitFlashSaleUpdate("create",h),h},updateFlashSale:(d,h)=>{const l=qe.flashSales.findIndex(m=>m.id===d);return l!==-1?(qe.flashSales[l]={...qe.flashSales[l],...h},localStorage.setItem("vendorMitraFlashSales",JSON.stringify(qe.flashSales)),ft.emitFlashSaleUpdate("update",qe.flashSales[l]),qe.flashSales[l]):null},deleteFlashSale:d=>{const h=qe.flashSales.findIndex(l=>l.id===d);return h!==-1?(qe.flashSales.splice(h,1),localStorage.setItem("vendorMitraFlashSales",JSON.stringify(qe.flashSales)),!0):!1},getFlashSalesBySupplier:d=>qe.flashSales.filter(h=>h.supplierId===d),getAllFlashSales:()=>qe.flashSales.filter(d=>d.status==="active"),getFlashSaleById:d=>qe.flashSales.find(h=>h.id===d),decreaseFlashSaleStock:(d,h)=>{const l=qe.flashSales.findIndex(m=>m.id===d);if(l!==-1){const m=qe.flashSales[l],g=m.remainingStock||m.total-m.sold;if(g<h)return console.error(`Insufficient flash sale stock. Available: ${g}, Requested: ${h}`),null;const _=m.sold+h,y=m.total-_;return qe.flashSales[l]={...m,sold:_,remainingStock:y},localStorage.setItem("vendorMitraFlashSales",JSON.stringify(qe.flashSales)),ft.emitFlashSaleUpdate("stock_update",qe.flashSales[l]),qe.flashSales[l]}return null},initialize:()=>{try{const d=localStorage.getItem("vendorMitraFlashSales");if(d){qe.flashSales=JSON.parse(d);const h=new Date;qe.flashSales=qe.flashSales.filter(l=>new Date(l.endTime)>h&&l.status==="active"),localStorage.setItem("vendorMitraFlashSales",JSON.stringify(qe.flashSales))}else qe.flashSales=[]}catch(d){console.error("Error initializing flash sales:",d),qe.flashSales=[]}}},El={products:[],nextId:1,addProduct(d){const h={id:this.nextId++,...d,createdAt:new Date().toISOString()};return this.products.push(h),this.saveToStorage(),ft.emitProductUpdate("add",h),h},updateProduct(d,h){const l=this.products.findIndex(m=>m.id===d);return l!==-1?(this.products[l]={...this.products[l],...h},this.saveToStorage(),ft.emitProductUpdate("update",this.products[l]),this.products[l]):null},deleteProduct(d){const h=this.products.findIndex(l=>l.id===d);if(h!==-1){const l=this.products[h];return this.products.splice(h,1),this.saveToStorage(),ft.emitProductUpdate("delete",l),!0}return!1},saveToStorage(){localStorage.setItem("vendorMitraProducts",JSON.stringify(this.products))},getProductById(d){return this.products.find(h=>h.id===d)},getProductsBySupplier(d){return this.products.filter(h=>h.supplierId===d)},getProductsByCategory(d){return this.products.filter(h=>h.category===d)},getAllProducts(){return this.products},decreaseStock(d,h){const l=this.getProductById(d);if(!l)return console.error(`Product with ID ${d} not found`),null;const m=l.stock||l.quantity||0;if(m<h)return console.error(`Insufficient stock. Available: ${m}, Requested: ${h}`),null;const g=Math.max(0,m-h),_=this.updateProduct(d,{stock:g,quantity:g,lastStockUpdate:new Date().toISOString()});return console.log(`Stock decreased for ${l.name}: ${m} -> ${g} (${h} units purchased)`),_},increaseStock(d,h){const l=this.getProductById(d);if(!l)return console.error(`Product with ID ${d} not found`),null;const m=l.stock||l.quantity||0,g=m+h,_=this.updateProduct(d,{stock:g,quantity:g,lastStockUpdate:new Date().toISOString()});return console.log(`Stock increased for ${l.name}: ${m} -> ${g} (${h} units added)`),_},setStock(d,h){const l=this.getProductById(d);if(!l)return console.error(`Product with ID ${d} not found`),null;const m=l.stock||l.quantity||0,g=Math.max(0,parseInt(h||0)),_=this.updateProduct(d,{stock:g,quantity:g,lastStockUpdate:new Date().toISOString()});return console.log(`Stock set for ${l.name}: ${m} -> ${g}`),_},getAvailableStock(d){const h=this.getProductById(d);return h?parseInt(h.stock||h.quantity||0):0},checkStockAvailability(d,h){const l=this.getProductById(d);if(!l)return{available:!1,error:"Product not found"};const m=this.getAvailableStock(d),g=parseInt(h||0);return{available:m>=g,currentStock:m,requestedQuantity:g,shortfall:Math.max(0,g-m),product:l}},getStockStatus(d){const h=this.getProductById(d);if(!h)return"unknown";const l=this.getAvailableStock(d),m=h.lowStockThreshold||10;return l===0?"out_of_stock":l<=m?"low_stock":"in_stock"},batchUpdateStock(d){const h=[];for(const l of d)try{let m=null;switch(l.operation){case"decrease":m=this.decreaseStock(l.productId,l.quantity);break;case"increase":m=this.increaseStock(l.productId,l.quantity);break;case"set":m=this.setStock(l.productId,l.quantity);break;default:console.error(`Unknown operation: ${l.operation}`)}h.push({productId:l.productId,success:m!==null,result:m})}catch(m){h.push({productId:l.productId,success:!1,error:m.message})}return h},initialize(){const d=localStorage.getItem("vendorMitraProducts");d&&(this.products=JSON.parse(d),this.nextId=Math.max(...this.products.map(h=>h.id),0)+1)}},ut={bargains:[],addBargain:d=>{const h={id:Date.now(),...d,messages:d.messages||[],status:"open"};return ut.bargains.push(h),localStorage.setItem("vendorMitraBargains",JSON.stringify(ut.bargains)),ft.emitBargainUpdate("create",h),h},addMessage:(d,h)=>{const l=ut.bargains.find(m=>m.id===d);if(l){if(l.messages.push({...h,timestamp:new Date().toISOString()}),localStorage.setItem("vendorMitraBargains",JSON.stringify(ut.bargains)),ft.emitBargainUpdate("message",l),h.sender==="vendor"&&[3,4,5].includes(l.supplierId)){const m=h.offer||0,g=.7*(l.productName.toLowerCase().includes("potato")?25:30);let _=m*1.1;_<g&&(_=g),m<100&&setTimeout(()=>{l.messages.push({sender:"supplier",offer:Math.round(_),message:"Best I can do is "+Math.round(_),timestamp:new Date().toISOString()}),localStorage.setItem("vendorMitraBargains",JSON.stringify(ut.bargains)),ft.emitBargainUpdate("message",l)},1200)}return l}return null},updateBargain:(d,h)=>{const l=ut.bargains.findIndex(m=>m.id===d);return l!==-1?(ut.bargains[l]={...ut.bargains[l],...h},localStorage.setItem("vendorMitraBargains",JSON.stringify(ut.bargains)),ut.bargains[l]):null},getBargainsBySupplier:d=>ut.bargains.filter(h=>h.supplierId===d),getBargainsByVendor:d=>ut.bargains.filter(h=>h.vendorId===d),getBargainById:d=>ut.bargains.find(h=>h.id===d),getAllBargains:()=>ut.bargains,initialize:()=>{const d=localStorage.getItem("vendorMitraBargains");d&&(ut.bargains=JSON.parse(d))}},Ct={collabOrders:[],addCollabOrder:d=>{const h={id:Date.now(),...d,status:"open",createdAt:new Date().toISOString()};return Ct.collabOrders.push(h),localStorage.setItem("vendorMitraCollabOrders",JSON.stringify(Ct.collabOrders)),h},updateCollabOrder:(d,h)=>{const l=Ct.collabOrders.findIndex(m=>m.id===d);return l!==-1?(Ct.collabOrders[l]={...Ct.collabOrders[l],...h},localStorage.setItem("vendorMitraCollabOrders",JSON.stringify(Ct.collabOrders)),Ct.collabOrders[l]):null},deleteCollabOrder:d=>{const h=Ct.collabOrders.findIndex(l=>l.id===d);return h!==-1?(Ct.collabOrders.splice(h,1),localStorage.setItem("vendorMitraCollabOrders",JSON.stringify(Ct.collabOrders)),!0):!1},getCollabOrdersBySupplier:d=>Ct.collabOrders.filter(h=>Number(h.supplierId)===Number(d)),getCollabOrdersByVendor:d=>Ct.collabOrders.filter(h=>h.vendors.some(l=>Number(l.vendorId)===Number(d))),getAllCollabOrders:()=>Ct.collabOrders,initialize:()=>{const d=localStorage.getItem("vendorMitraCollabOrders");d&&(Ct.collabOrders=JSON.parse(d))}};Ct.initialize();const tf=(d,h)=>{const l=ia.find(g=>g.email===d&&g.password===h);if(l)return l;const m=wp(d);return m&&m.password===h?{id:m.id,name:m.name,email:m.email,phone:m.phone,userType:"supplier",type:"supplier",businessName:m.businessName,location:m.location,specialization:m.specialization,fssaiLicense:m.fssaiLicense,rating:m.rating,trustScore:Math.floor(m.rating*20),fssaiVerified:!0}:null},nf=d=>{const h={id:ia.length+1,...d,trustScore:Math.floor(Math.random()*30)+70,fssaiVerified:Math.random()>.5,location:"Mumbai"};return ia.push(h),h};Nt.initialize();qe.initialize();ut.initialize();El.initialize();const on={deliveries:[],addDelivery:d=>{const h={id:Date.now(),orderId:"ORD"+Math.floor(1e3+Math.random()*9e3),...d,status:"in-transit",deliveryDate:new Date(Date.now()+1728e5).toISOString().split("T")[0]};return on.deliveries.push(h),localStorage.setItem("vendorMitraDeliveries",JSON.stringify(on.deliveries)),h},getDeliveriesBySupplier:d=>on.deliveries.filter(h=>Number(h.supplierId)===Number(d)),getDeliveriesByVendor:d=>on.deliveries.filter(h=>Number(h.customerId)===Number(d)),getAllDeliveries:()=>on.deliveries,initialize:()=>{const d=localStorage.getItem("vendorMitraDeliveries");d&&(on.deliveries=JSON.parse(d))}};on.deliveries=[];const kp=[{id:"ORD-001",customer:"Manya",customerId:1,supplier:"Sakshi",supplierId:1,products:[{id:1,name:"Fresh Onions",quantity:2,unit:"kg",price:30,image:"https://images.unsplash.com/photo-1518977956812-cd3dbadaaf31?w=400&h=300&fit=crop"},{id:2,name:"Organic Carrots",quantity:1,unit:"kg",price:40,image:"https://images.unsplash.com/photo-1598170845058-32b9d6a5da37?w=400&h=300&fit=crop"}],totalAmount:100,status:"delivered",paymentMethod:"UPI",deliveryAddress:"123 Main Street, City",deliveryDate:new Date(Date.now()-2880*60*1e3).toISOString().split("T")[0],orderDate:new Date(Date.now()-4320*60*1e3).toISOString()},{id:"ORD-002",customer:"Manya",customerId:1,supplier:"Rajesh",supplierId:2,products:[{id:3,name:"Basmati Rice",quantity:5,unit:"kg",price:120,image:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=400&h=300&fit=crop"}],totalAmount:120,status:"delivered",paymentMethod:"Cash",deliveryAddress:"123 Main Street, City",deliveryDate:new Date(Date.now()-1440*60*1e3).toISOString().split("T")[0],orderDate:new Date(Date.now()-2880*60*1e3).toISOString()},{id:"ORD-003",customer:"Manya",customerId:1,supplier:"Priya",supplierId:3,products:[{id:4,name:"Fresh Tomatoes",quantity:3,unit:"kg",price:60,image:"https://images.unsplash.com/photo-1546470427-5c4a4b0b0b0b?w=400&h=300&fit=crop"},{id:5,name:"Green Bell Peppers",quantity:1,unit:"kg",price:80,image:"https://images.unsplash.com/photo-1563565375-f3fdfdbefa83?w=400&h=300&fit=crop"}],totalAmount:140,status:"delivered",paymentMethod:"UPI",deliveryAddress:"123 Main Street, City",deliveryDate:new Date(Date.now()-7200*60*1e3).toISOString().split("T")[0],orderDate:new Date(Date.now()-8640*60*1e3).toISOString()}];kp.forEach(d=>{on.deliveries.push(d)});localStorage.setItem("vendorMitraDeliveries",JSON.stringify(on.deliveries));El.initialize();const rs=Object.freeze(Object.defineProperty({__proto__:null,authenticateUserOrSupplier:tf,bargainsDatabase:ut,collabOrdersDatabase:Ct,deliveriesDatabase:on,flashSalesDatabase:qe,productDatabase:El,registerUser:nf,reviewsDatabase:Nt,users:ia},Symbol.toStringTag,{value:"Module"})),rf=w.createContext(),ln=()=>{const d=w.useContext(rf);if(!d)throw new Error("useAuth must be used within an AuthProvider");return d},Pp=({children:d})=>{const[h,l]=w.useState(null),[m,g]=w.useState(!0),[_,y]=w.useState(null);w.useEffect(()=>{const V=localStorage.getItem("vendorMitraUser"),G=localStorage.getItem("vendorMitraUserType");V&&(l(JSON.parse(V)),y(G)),g(!1)},[]);const b={user:h,userType:_,loading:m,login:async(V,G)=>{try{const J=tf(V,G);if(J)return l(J),y(J.userType),localStorage.setItem("vendorMitraUser",JSON.stringify(J)),localStorage.setItem("vendorMitraUserType",J.userType),{success:!0};throw new Error("Invalid credentials")}catch(J){return{success:!1,error:J.message}}},register:async V=>{try{const G=nf(V);return l(G),y(G.userType),localStorage.setItem("vendorMitraUser",JSON.stringify(G)),localStorage.setItem("vendorMitraUserType",G.userType),{success:!0}}catch(G){return{success:!1,error:G.message}}},logout:()=>{l(null),y(null),localStorage.removeItem("vendorMitraUser"),localStorage.removeItem("vendorMitraUserType"),window.location.href="/"},updateProfile:V=>{const G={...h,...V};l(G),localStorage.setItem("vendorMitraUser",JSON.stringify(G))}};return r.jsx(rf.Provider,{value:b,children:d})},sf=w.createContext(),Cp=()=>{const d=w.useContext(sf);if(!d)throw new Error("useStats must be used within a StatsProvider");return d},Lp=({children:d})=>{const[h,l]=w.useState({verifiedSuppliers:0,activeVendors:0,citiesCovered:0,averageRating:0});w.useEffect(()=>{const I=localStorage.getItem("vendorMitraStats");I&&l(JSON.parse(I))},[]),w.useEffect(()=>{localStorage.setItem("vendorMitraStats",JSON.stringify(h))},[h]);const O={stats:h,updateStats:I=>{l(b=>({...b,...I}))},addSupplier:()=>{l(I=>({...I,verifiedSuppliers:I.verifiedSuppliers+1}))},addVendor:()=>{l(I=>({...I,activeVendors:I.activeVendors+1}))},addCity:()=>{l(I=>({...I,citiesCovered:I.citiesCovered+1}))},addRating:I=>{l(b=>{const G=(b.averageRating*(b.verifiedSuppliers||1)+I)/(b.verifiedSuppliers+1);return{...b,averageRating:parseFloat(G.toFixed(1))}})},resetStats:()=>{l({verifiedSuppliers:0,activeVendors:0,citiesCovered:0,averageRating:0})}};return r.jsx(sf.Provider,{value:O,children:d})},af=w.createContext(),ds=()=>{const d=w.useContext(af);if(!d)throw new Error("useCart must be used within a CartProvider");return console.log("useCart hook called, cart state:",d.cart),d},Ep=({children:d})=>{const[h,l]=w.useState([]),m=I=>{console.log("CartContext: Adding item to cart:",I),l(b=>{if(b.find(J=>J.id===I.id)){const J=b.map(R=>R.id===I.id?{...R,quantity:R.quantity+(I.quantity||1)}:R);return console.log("CartContext: Updated existing item, new cart:",J),J}const G=[...b,{...I,quantity:I.quantity||1}];return console.log("CartContext: Added new item, new cart:",G),G})},g=I=>{l(b=>b.filter(V=>V.id!==I))},O={cart:h,addToCart:m,removeFromCart:g,updateQuantity:(I,b)=>{if(b<=0){g(I);return}l(V=>V.map(G=>G.id===I?{...G,quantity:b}:G))},clearCart:()=>{l([])},getCartTotal:()=>h.reduce((I,b)=>{const V=typeof b.price=="string"?parseInt(b.price.replace(/[^\d]/g,"")):b.price;return I+V*b.quantity},0),getCartCount:()=>h.reduce((I,b)=>I+b.quantity,0)};return r.jsx(af.Provider,{value:O,children:d})};class Ip{constructor(){this.baseUrl="/api/products",this.storageKey="vendorMitraProducts",this.initialize()}initialize(){if(!localStorage.getItem(this.storageKey)){const l=[{id:1,name:"Red Onions",price:30,quantity:75,stock:75,unit:"kg",supplierId:2,supplierName:"Farm Fresh Co",supplierRating:4.2,category:"vegetables",description:"Premium red onions from Farm Fresh Co",isOrganic:!1,image:"https://images.unsplash.com/photo-1518977676601-b53f82aba655?w=400&h=300&fit=crop",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}];localStorage.setItem(this.storageKey,JSON.stringify(l))}}async delay(h=100){return new Promise(l=>setTimeout(l,h))}async getAllProducts(){await this.delay();try{const h=JSON.parse(localStorage.getItem(this.storageKey)||"[]"),l=h.filter((m,g,_)=>g===_.findIndex(y=>y.id===m.id));return l.length!==h.length&&(console.log(`Removed ${h.length-l.length} duplicate products from storage`),localStorage.setItem(this.storageKey,JSON.stringify(l))),{success:!0,data:l,message:"Products fetched successfully"}}catch(h){return{success:!1,data:[],message:"Failed to fetch products",error:h.message}}}async getProductById(h){await this.delay();try{const m=JSON.parse(localStorage.getItem(this.storageKey)||"[]").find(g=>g.id===h);return m?{success:!0,data:m,message:"Product fetched successfully"}:{success:!1,data:null,message:"Product not found"}}catch(l){return{success:!1,data:null,message:"Failed to fetch product",error:l.message}}}async getProductsBySupplier(h){await this.delay();try{return{success:!0,data:JSON.parse(localStorage.getItem(this.storageKey)||"[]").filter(g=>g.supplierId===h),message:"Supplier products fetched successfully"}}catch(l){return{success:!1,data:[],message:"Failed to fetch supplier products",error:l.message}}}async createProduct(h){await this.delay();try{const l=JSON.parse(localStorage.getItem(this.storageKey)||"[]"),g={id:(l.length>0?Math.max(...l.map(_=>_.id)):0)+1,...h,image:h.image||"https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return l.push(g),localStorage.setItem(this.storageKey,JSON.stringify(l)),this.emitProductUpdate("create",g),{success:!0,data:g,message:"Product created successfully"}}catch(l){return{success:!1,data:null,message:"Failed to create product",error:l.message}}}async updateProduct(h,l){await this.delay();try{const m=JSON.parse(localStorage.getItem(this.storageKey)||"[]"),g=m.findIndex(_=>_.id===h);return g===-1?{success:!1,data:null,message:"Product not found"}:(m[g]={...m[g],...l,updatedAt:new Date().toISOString()},localStorage.setItem(this.storageKey,JSON.stringify(m)),this.emitProductUpdate("update",m[g]),{success:!0,data:m[g],message:"Product updated successfully"})}catch(m){return{success:!1,data:null,message:"Failed to update product",error:m.message}}}async deleteProduct(h){await this.delay();try{const l=JSON.parse(localStorage.getItem(this.storageKey)||"[]"),m=l.findIndex(_=>_.id===h);if(m===-1)return{success:!1,data:null,message:"Product not found"};const g=l[m];return l.splice(m,1),localStorage.setItem(this.storageKey,JSON.stringify(l)),console.log("Emitting delete event for product:",g.id),this.emitProductUpdate("delete",g),{success:!0,data:g,message:"Product deleted successfully"}}catch(l){return{success:!1,data:null,message:"Failed to delete product",error:l.message}}}async decreaseStock(h,l){await this.delay();try{const m=JSON.parse(localStorage.getItem(this.storageKey)||"[]"),g=m.findIndex(N=>N.id===h);if(g===-1)return{success:!1,data:null,message:"Product not found"};const _=m[g],y=_.stock||_.quantity||0;if(y<l)return{success:!1,data:null,message:`Insufficient stock. Available: ${y}, Requested: ${l}`};const S=y-l;return m[g]={..._,stock:S,quantity:S,updatedAt:new Date().toISOString()},localStorage.setItem(this.storageKey,JSON.stringify(m)),this.emitProductUpdate("stock_update",{...m[g],newStock:S}),{success:!0,data:m[g],message:`Stock decreased by ${l}. New stock: ${S}`}}catch(m){return{success:!1,data:null,message:"Failed to decrease stock",error:m.message}}}async increaseStock(h,l){await this.delay();try{const m=JSON.parse(localStorage.getItem(this.storageKey)||"[]"),g=m.findIndex(N=>N.id===h);if(g===-1)return{success:!1,data:null,message:"Product not found"};const _=m[g],S=(_.stock||_.quantity||0)+l;return m[g]={..._,stock:S,quantity:S,updatedAt:new Date().toISOString()},localStorage.setItem(this.storageKey,JSON.stringify(m)),this.emitProductUpdate("stock_update",{...m[g],newStock:S}),{success:!0,data:m[g],message:`Stock increased by ${l}. New stock: ${S}`}}catch(m){return{success:!1,data:null,message:"Failed to increase stock",error:m.message}}}async getAvailableStock(h){await this.delay();try{const m=JSON.parse(localStorage.getItem(this.storageKey)||"[]").find(g=>g.id===h);return m?{success:!0,data:{stock:m.stock||m.quantity||0},message:"Stock fetched successfully"}:{success:!1,data:{stock:0},message:"Product not found"}}catch(l){return{success:!1,data:{stock:0},message:"Failed to fetch stock",error:l.message}}}emitProductUpdate(h,l){const m=new CustomEvent("productUpdate",{detail:{action:h,product:l,timestamp:Date.now()}});window.dispatchEvent(m);const g=`vendorMitra_sync_product_${Date.now()}`;localStorage.setItem(g,JSON.stringify({action:h,product:l,timestamp:Date.now()})),setTimeout(()=>{localStorage.removeItem(g)},1e3)}subscribeToUpdates(h){const l=g=>{console.log("ProductAPI subscription received event:",g.detail),h(g.detail)},m=g=>{if(g.key&&g.key.startsWith("vendorMitra_sync_product_")){const _=JSON.parse(g.newValue);console.log("ProductAPI storage sync received:",_),h(_)}};return window.addEventListener("productUpdate",l),window.addEventListener("storage",m),()=>{window.removeEventListener("productUpdate",l),window.removeEventListener("storage",m)}}}const ns=new Ip,of=w.createContext(),Il=()=>{const d=w.useContext(of);if(!d)throw new Error("useProducts must be used within a ProductProvider");return d},Tp=({children:d})=>{const[h,l]=w.useState([]),[m,g]=w.useState(!1),[_,y]=w.useState(null),S=async()=>{g(!0),y(null);try{const B=await ns.getAllProducts();if(B.success){const $=B.data.filter((D,A,ee)=>A===ee.findIndex(ue=>ue.id===D.id));console.log("Loading products with duplicate removal:",$.length,"unique products"),l($),localStorage.setItem("vendorMitraProducts",JSON.stringify($))}else y(B.message)}catch(B){y("Failed to load products"),console.error("Error loading products:",B)}finally{g(!1)}},N=async B=>{g(!0),y(null);try{const $=await ns.createProduct(B);return $.success?(l(D=>[...D,$.data]),$.data):(y($.message),null)}catch($){return y("Failed to add product"),console.error("Error adding product:",$),null}finally{g(!1)}},O=async(B,$)=>{g(!0),y(null);try{const D=await ns.updateProduct(B,$);return D.success?(l(A=>A.map(ee=>ee.id===B?D.data:ee)),D.data):(y(D.message),null)}catch(D){return y("Failed to update product"),console.error("Error updating product:",D),null}finally{g(!1)}},I=async B=>{g(!0),y(null);try{const $=await ns.deleteProduct(B);return $.success?(l(D=>D.filter(A=>A.id!==B)),!0):(y($.message),!1)}catch($){return y("Failed to delete product"),console.error("Error deleting product:",$),!1}finally{g(!1)}},b=B=>h.filter($=>$.supplierId===B),V=B=>h.filter($=>$.category?.toLowerCase()===B?.toLowerCase()),G=B=>{const $=B.toLowerCase();return h.filter(D=>D.name.toLowerCase().includes($)||D.description?.toLowerCase().includes($)||D.category?.toLowerCase().includes($)||D.supplierName?.toLowerCase().includes($))},J=async(B,$,D={})=>{try{const A=await ns.decreaseStock(B,$);if(A.success){if(l(ee=>ee.map(ue=>ue.id===B?{...ue,stock:A.data.stock,quantity:A.data.quantity}:ue)),D.vendorId&&D.deliveryAddress){const{updateProductStockAfterPurchase:ee}=await Ni(async()=>{const{updateProductStockAfterPurchase:ue}=await import("./purchaseHandler-C4lbH6d-.js");return{updateProductStockAfterPurchase:ue}},[]);await ee(B,$,D)}return A}else return y(A.message),A}catch(A){return y("Failed to update stock"),console.error("Error updating stock:",A),{success:!1,data:null,message:"Failed to update stock",error:A.message}}},R=async(B,$)=>{try{const D=await ns.increaseStock(B,$);return D.success?(l(A=>A.map(ee=>ee.id===B?{...ee,stock:D.data.stock,quantity:D.data.quantity}:ee)),D):(y(D.message),D)}catch(D){return y("Failed to update stock"),console.error("Error updating stock:",D),{success:!1,data:null,message:"Failed to update stock",error:D.message}}},z=B=>{const $=h.find(D=>D.id===B);return $&&($.stock||$.quantity)||0};w.useEffect(()=>{const B=localStorage.getItem("vendorMitraProducts");if(B)try{const $=JSON.parse(B);console.log("Loading products from localStorage:",$.length,"products"),l($)}catch($){console.error("Error parsing saved products:",$)}S()},[]),w.useEffect(()=>ns.subscribeToUpdates($=>{switch(console.log("Real-time product update received:",$),$.action){case"create":l(D=>D.find(ee=>ee.id===$.product.id)?(console.log("Product already exists in context, skipping duplicate:",$.product.id),D):(console.log("Adding new product to context:",$.product.id),[...D,$.product]));break;case"update":l(D=>D.map(A=>A.id===$.product.id?$.product:A));break;case"delete":console.log("Deleting product from context:",$.product.id),l(D=>{const A=D.filter(ee=>ee.id!==$.product.id);return console.log("Products after deletion:",A.length),A});break;default:S()}}),[]);const Q={products:h,loading:m,error:_,loadProducts:S,addProduct:N,updateProduct:O,deleteProduct:I,getProductsBySupplier:b,getProductsByCategory:V,searchProducts:G,decreaseStock:J,increaseStock:R,getAvailableStock:z};return r.jsx(of.Provider,{value:Q,children:d})};var Mp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Op=d=>d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rp=(d,h)=>{const l=w.forwardRef(({color:m="currentColor",size:g=24,strokeWidth:_=2,absoluteStrokeWidth:y,children:S,...N},O)=>w.createElement("svg",{ref:O,...Mp,width:g,height:g,stroke:m,strokeWidth:y?Number(_)*24/Number(g):_,className:`lucide lucide-${Op(d)}`,...N},[...h.map(([I,b])=>w.createElement(I,b)),...(Array.isArray(S)?S:[S])||[]]));return l.displayName=`${d}`,l};var ze=Rp;const Oh=ze("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),zp=ze("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Rh=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),lf=ze("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Ap=ze("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),kl=ze("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),cf=ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ss=ze("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Dp=ze("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Tl=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),pu=ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),uf=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),gu=ze("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),xu=ze("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Lu=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Bp=ze("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),Fp=ze("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),zh=ze("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Up=ze("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),vu=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),yu=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Eu=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),ta=ze("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),df=ze("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),as=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),hf=ze("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),os=ze("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),_u=ze("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),ff=ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),na=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Zp=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ah=ze("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),mf=ze("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Iu=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),wu=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ki=ze("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),$p=ze("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),wn=ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),pf=ze("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2v0a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12v0a2 2 0 0 1-2-2V7",key:"jon5kx"}]]),Pl=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),gf=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Nu=ze("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Vp=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),sa=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),xf=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),On=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Si=ze("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),yn=()=>{const[d,h]=w.useState(!1),[l,m]=w.useState(!1),{user:g,logout:_}=ln(),{getCartCount:y}=ds(),S=us(),N=[{name:"Home",href:"/",icon:Fp},{name:"Find Items",href:"/find-items",icon:os},{name:"Flash Sales",href:"/find-sales",icon:Si},{name:"Suppliers",href:"/suppliers",icon:ta},{name:"Organic",href:"/organic",icon:pf},{name:"Bargains",href:"/bargains",icon:as}],O=()=>g&&(g.type==="supplier"||g.userType==="supplier")?[]:N,I=()=>{_(),h(!1)};return r.jsxs("nav",{className:"bg-white shadow-lg",children:[r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16",children:[r.jsx("div",{className:"flex items-center",children:r.jsxs(tt,{to:"/",className:"flex-shrink-0 flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"VM"})}),r.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"Vendor Mitra"})]})}),r.jsx("div",{className:"hidden md:flex items-center space-x-8",children:O().map(b=>{const V=b.icon;return r.jsxs(tt,{to:b.href,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${S.pathname===b.href?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-50"}`,children:[r.jsx(V,{className:"w-4 h-4 mr-1"}),b.name]},b.name)})}),r.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[(!g||g.type!=="supplier"&&g.userType!=="supplier")&&r.jsx("div",{className:"relative",children:r.jsxs(tt,{to:"/cart",className:"flex items-center gap-1 hover:text-primary-600 transition-colors",children:[r.jsx(ki,{className:"w-5 h-5 text-gray-700"}),y()>0&&r.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:y()}),r.jsxs("span",{className:"text-xs text-gray-500",children:["(",y(),")"]})]})}),g?r.jsxs("div",{className:"relative",children:[r.jsxs("button",{onClick:()=>m(!l),className:"flex items-center space-x-2 text-gray-700 hover:text-primary-600 bg-gray-50 hover:bg-gray-100 px-3 py-2 rounded-lg transition-colors",children:[r.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold text-sm",children:g.name?.charAt(0)||"U"})}),r.jsx("span",{className:"font-medium",children:g.name}),r.jsx(Dp,{className:"w-4 h-4"})]}),l&&r.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[r.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.name}),r.jsx("p",{className:"text-sm text-gray-500",children:g.email})]}),(g.type==="supplier"||g.userType==="supplier")&&r.jsxs(tt,{to:"/supplier-dashboard",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>m(!1),children:[r.jsx(kl,{className:"w-4 h-4 mr-3"}),"My Dashboard"]}),r.jsxs(tt,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>m(!1),children:[r.jsx(sa,{className:"w-4 h-4 mr-3"}),"Profile Settings"]}),r.jsxs(tt,{to:"/settings",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>m(!1),children:[r.jsx(wu,{className:"w-4 h-4 mr-3"}),"Settings"]}),r.jsx("div",{className:"border-t border-gray-100 mt-1",children:r.jsxs("button",{onClick:()=>{I(),m(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[r.jsx(yu,{className:"w-4 h-4 mr-3"}),"Sign Out"]})})]})]}):r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx(tt,{to:"/login",className:"text-gray-700 hover:text-primary-600",children:"Login"}),r.jsx(tt,{to:"/register",className:"btn-primary",children:"Register"})]})]}),r.jsx("div",{className:"md:hidden flex items-center",children:r.jsx("button",{onClick:()=>h(!d),className:"text-gray-700 hover:text-primary-600",children:d?r.jsx(On,{className:"w-6 h-6"}):r.jsx(df,{className:"w-6 h-6"})})})]})}),d&&r.jsx("div",{className:"md:hidden",children:r.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t",children:[O().map(b=>{const V=b.icon;return r.jsxs(tt,{to:b.href,className:`flex items-center px-3 py-2 rounded-md text-base font-medium ${S.pathname===b.href?"text-primary-600 bg-primary-50":"text-gray-700 hover:text-primary-600 hover:bg-gray-50"}`,onClick:()=>h(!1),children:[r.jsx(V,{className:"w-4 h-4 mr-2"}),b.name]},b.name)}),(!g||g.type!=="supplier"&&g.userType!=="supplier")&&r.jsxs(tt,{to:"/cart",className:"flex items-center px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-primary-600 hover:bg-gray-50",onClick:()=>h(!1),children:[r.jsx(ki,{className:"w-4 h-4 mr-2"}),"Cart (",y(),")"]}),g?r.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[(g.type==="supplier"||g.userType==="supplier")&&r.jsxs(tt,{to:"/supplier-dashboard",className:"flex items-center px-3 py-2 text-gray-700 hover:text-primary-600",onClick:()=>h(!1),children:[r.jsx(kl,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),r.jsxs(tt,{to:"/profile",className:"flex items-center px-3 py-2 text-gray-700 hover:text-primary-600",onClick:()=>h(!1),children:[r.jsx(sa,{className:"w-4 h-4 mr-2"}),g.name]}),r.jsx("button",{onClick:I,className:"flex items-center w-full px-3 py-2 text-left text-gray-700 hover:text-red-600",children:"Logout"})]}):r.jsxs("div",{className:"pt-4 border-t border-gray-200 space-y-2",children:[r.jsx(tt,{to:"/login",className:"block px-3 py-2 text-gray-700 hover:text-primary-600",onClick:()=>h(!1),children:"Login"}),r.jsx(tt,{to:"/register",className:"block px-3 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",onClick:()=>h(!1),children:"Register"})]})]})})]})},_n=()=>r.jsx("footer",{className:"bg-gray-900 text-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"VM"})}),r.jsx("span",{className:"ml-2 text-xl font-bold",children:"Vendor Mitra"})]}),r.jsx("p",{className:"text-gray-300 mb-4",children:"Connecting trusted food suppliers with vendors across India. Verified suppliers, smart bargaining, and real-time tracking."})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center text-gray-300",children:[r.jsx(ff,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:"+91 9155564974"})]}),r.jsxs("div",{className:"flex items-center text-gray-300",children:[r.jsx(Eu,{className:"w-4 h-4 mr-2"}),r.jsx("span",{children:"vendormitra@gmail.com"})]})]})]})]}),r.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:r.jsx("p",{children:" 2025 Vendor Mitra. All rights reserved."})})]})}),Hp=({children:d})=>{const[h,l]=w.useState(!1),{user:m,logout:g}=ln(),_=us(),y=[{name:"Dashboard",href:"/supplier-dashboard",icon:kl}],S=()=>{g(),l(!1)};return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("header",{className:"bg-white shadow-sm border-b",children:r.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"flex justify-between h-16",children:[r.jsx("div",{className:"flex items-center",children:r.jsxs(tt,{to:"/supplier-dashboard",className:"flex-shrink-0 flex items-center",children:[r.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"VM"})}),r.jsx("span",{className:"ml-2 text-xl font-bold text-gray-900",children:"Vendor Mitra"})]})}),r.jsx("div",{className:"hidden md:flex items-center space-x-8",children:y.map(N=>{const O=N.icon;return r.jsxs(tt,{to:N.href,className:`flex items-center px-3 py-2 rounded-md text-sm font-medium transition-colors ${_.pathname===N.href?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-gray-50"}`,children:[r.jsx(O,{className:"w-4 h-4 mr-1"}),N.name]},N.name)})}),r.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(sa,{className:"w-4 h-4 text-green-600"})}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{className:"font-medium text-gray-900",children:m?.name}),r.jsx("p",{className:"text-gray-500",children:"Supplier"})]})]}),r.jsx(tt,{to:"/profile",className:"text-gray-700 hover:text-green-600",children:r.jsx(wu,{className:"w-5 h-5"})}),r.jsx("button",{onClick:S,className:"text-gray-700 hover:text-red-600",children:r.jsx(yu,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"md:hidden flex items-center",children:r.jsx("button",{onClick:()=>l(!h),className:"text-gray-700 hover:text-green-600",children:h?r.jsx(On,{className:"w-6 h-6"}):r.jsx(df,{className:"w-6 h-6"})})})]})})}),h&&r.jsx("div",{className:"md:hidden",children:r.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-white border-t",children:[y.map(N=>{const O=N.icon;return r.jsxs(tt,{to:N.href,className:`flex items-center px-3 py-2 rounded-md text-base font-medium ${_.pathname===N.href?"text-green-600 bg-green-50":"text-gray-700 hover:text-green-600 hover:bg-gray-50"}`,onClick:()=>l(!1),children:[r.jsx(O,{className:"w-4 h-4 mr-2"}),N.name]},N.name)}),r.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center px-3 py-2",children:[r.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3",children:r.jsx(sa,{className:"w-4 h-4 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:m?.name}),r.jsx("p",{className:"text-xs text-gray-500",children:"Supplier"})]})]}),r.jsxs(tt,{to:"/profile",className:"flex items-center px-3 py-2 text-gray-700 hover:text-green-600",onClick:()=>l(!1),children:[r.jsx(wu,{className:"w-4 h-4 mr-2"}),"Settings"]}),r.jsxs("button",{onClick:S,className:"flex items-center w-full px-3 py-2 text-left text-gray-700 hover:text-red-600",children:[r.jsx(yu,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})}),r.jsx("main",{className:"flex-1",children:d}),r.jsx("footer",{className:"bg-white border-t mt-auto",children:r.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"text-center text-sm text-gray-500",children:[r.jsx("p",{children:" 2025 Vendor Mitra Supplier Portal. All rights reserved."}),r.jsx("p",{className:"mt-1",children:"For support, contact: +91 9155564974 | vendormitra@gmail.com"})]})})})]})},qp=()=>{const{user:d}=ln(),{stats:h}=Cp(),l=[{icon:ss,title:" Verified Suppliers",description:"All suppliers are FSSAI verified and background checked for quality assurance"},{icon:uf,title:" Best Prices",description:"Competitive pricing with smart bargaining tools to get the best deals"},{icon:Nu,title:" Quick Delivery",description:"Fast and reliable delivery with real-time tracking across India"},{icon:Up,title:" Organic Options",description:"Wide selection of certified organic produce directly from farmers"}];return h.verifiedSuppliers,h.activeVendors,h.citiesCovered,h.averageRating.toFixed(1),r.jsxs("div",{className:"min-h-screen",children:[r.jsxs("section",{className:"relative bg-gradient-to-br from-green-600 via-emerald-700 to-teal-800 text-white overflow-hidden",children:[r.jsx("div",{className:"absolute inset-0 opacity-10",children:r.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),r.jsx("div",{className:"absolute top-20 left-10 w-20 h-20 bg-yellow-400 rounded-full opacity-20 animate-bounce",style:{animationDelay:"0s"}}),r.jsx("div",{className:"absolute top-40 right-20 w-16 h-16 bg-orange-400 rounded-full opacity-20 animate-bounce",style:{animationDelay:"1s"}}),r.jsx("div",{className:"absolute bottom-20 left-20 w-12 h-12 bg-red-400 rounded-full opacity-20 animate-bounce",style:{animationDelay:"2s"}}),r.jsx("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:r.jsxs("div",{className:"text-center",children:[r.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:["Connect with ",r.jsx("span",{className:"text-yellow-300",children:"Trusted"}),r.jsx("br",{}),r.jsx("span",{className:"bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent",children:"Food Suppliers"})]}),r.jsx("p",{className:"text-xl md:text-2xl mb-8 text-green-100 max-w-3xl mx-auto",children:" Find verified suppliers, negotiate prices, and streamline your food supply chain with fresh, quality produce"}),r.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:d?r.jsxs(r.Fragment,{children:[r.jsx(tt,{to:"/find-items",className:"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white font-bold text-lg px-8 py-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:" Browse Items"}),r.jsx(tt,{to:"/suppliers",className:"bg-white text-green-700 hover:bg-gray-100 font-bold text-lg px-8 py-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:" Find Suppliers"})]}):r.jsxs(r.Fragment,{children:[r.jsx(tt,{to:"/register",className:"bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-600 hover:to-yellow-600 text-white font-bold text-lg px-8 py-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:" Get Started"}),r.jsx(tt,{to:"/login",className:"bg-white text-green-700 hover:bg-gray-100 font-bold text-lg px-8 py-4 rounded-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:" Login"})]})})]})})]}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Why Choose Vendor Mitra?"}),r.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Everything you need to streamline your food supply chain operations"})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:l.map((m,g)=>{const _=m.icon,y=["from-green-500 to-emerald-600","from-yellow-500 to-orange-500","from-blue-500 to-indigo-600","from-purple-500 to-pink-600"];return r.jsxs("div",{className:"text-center p-8 bg-white rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-gray-100",children:[r.jsx("div",{className:`w-20 h-20 bg-gradient-to-r ${y[g]} rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg`,children:r.jsx(_,{className:"w-10 h-10 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:m.title}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:m.description})]},g)})})]})}),r.jsx("section",{className:"py-16 bg-gradient-to-r from-gray-50 to-gray-100",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:" Trusted by Thousands Across India"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Join our growing community of successful food suppliers and vendors"})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl md:text-5xl font-bold text-green-600 mb-2",children:"500+"}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Active Suppliers"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl md:text-5xl font-bold text-blue-600 mb-2",children:"1000+"}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Happy Buyers"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl md:text-5xl font-bold text-purple-600 mb-2",children:"25+"}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Cities Covered"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-4xl md:text-5xl font-bold text-orange-600 mb-2",children:"4.8"}),r.jsx("div",{className:"text-gray-600 font-medium",children:"Average Rating"})]})]})]})}),r.jsx("section",{className:"py-20 bg-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"Platform Benefits"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Discover the advantages of using Vendor Mitra for your supply chain needs"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-xl border border-blue-200",children:[r.jsx("div",{className:"bg-blue-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(ss,{className:"w-8 h-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"Quality Assurance"}),r.jsx("p",{className:"text-gray-700 text-center",children:"All suppliers undergo FSSAI verification and quality checks. Only verified, trusted suppliers are allowed on our platform."})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-xl border border-green-200",children:[r.jsx("div",{className:"bg-green-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(gf,{className:"w-8 h-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"Real-Time Updates"}),r.jsx("p",{className:"text-gray-700 text-center",children:"Live inventory tracking, instant price updates, and real-time stock synchronization between suppliers and vendors."})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-8 rounded-xl border border-purple-200",children:[r.jsx("div",{className:"bg-purple-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(as,{className:"w-8 h-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"Smart Negotiation"}),r.jsx("p",{className:"text-gray-700 text-center",children:"Built-in bargaining system allows direct communication and price negotiation between vendors and suppliers."})]}),r.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-8 rounded-xl border border-orange-200",children:[r.jsx("div",{className:"bg-orange-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Tl,{className:"w-8 h-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"Fast Delivery"}),r.jsx("p",{className:"text-gray-700 text-center",children:"Quick delivery within 2-4 hours with real-time tracking. Local suppliers ensure fresh produce reaches you faster."})]}),r.jsxs("div",{className:"bg-gradient-to-br from-teal-50 to-teal-100 p-8 rounded-xl border border-teal-200",children:[r.jsx("div",{className:"bg-teal-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(Bp,{className:"w-8 h-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"Wide Coverage"}),r.jsx("p",{className:"text-gray-700 text-center",children:"Available across 25+ cities in India with expanding network. Find suppliers and vendors in your local area."})]}),r.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-pink-100 p-8 rounded-xl border border-pink-200",children:[r.jsx("div",{className:"bg-pink-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:r.jsx(lf,{className:"w-8 h-8 text-white"})}),r.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4 text-center",children:"Trusted Platform"}),r.jsx("p",{className:"text-gray-700 text-center",children:"4.8-star average rating with thousands of successful transactions. Join our community of trusted partners."})]})]})]})}),r.jsx("section",{className:"py-20 bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[r.jsxs("div",{className:"text-center mb-16",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-4",children:"How Vendor Mitra Works"}),r.jsx("p",{className:"text-xl text-gray-600",children:"Simple steps to connect suppliers and vendors seamlessly"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:r.jsx(xf,{className:"w-10 h-10 text-white"})}),r.jsx("h3",{className:"text-xl font-bold mb-4",children:"1. Register & Verify"}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Suppliers register and get FSSAI verified. Vendors create accounts to access the marketplace with quality assurance."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:r.jsx(as,{className:"w-10 h-10 text-white"})}),r.jsx("h3",{className:"text-xl font-bold mb-4",children:"2. Connect & Negotiate"}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Vendors find suppliers, browse products, and negotiate prices directly through our smart bargaining system."})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:r.jsx(Nu,{className:"w-10 h-10 text-white"})}),r.jsx("h3",{className:"text-xl font-bold mb-4",children:"3. Order & Deliver"}),r.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Place orders with real-time stock updates and get fast delivery with tracking across India."})]})]})]})}),r.jsx("section",{className:"py-20 bg-primary-600 text-white",children:r.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[r.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Ready to Transform Your Supply Chain?"}),r.jsx("p",{className:"text-xl text-primary-100 mb-8 max-w-2xl mx-auto",children:"Join thousands of vendors and suppliers who trust Vendor Mitra for their food supply needs"}),!d&&r.jsx(tt,{to:"/register",className:"btn-secondary text-lg px-8 py-3",children:"Start Your Journey"})]})})]})},Wp=()=>{const{user:d}=ln(),h=Ur();return w.useEffect(()=>{if(d&&(d.type==="supplier"||d.userType==="supplier")){h("/supplier-dashboard");return}if(d&&(d.type==="vendor"||d.userType==="vendor")){h("/");return}if(!d){h("/login");return}},[d,h]),r.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Vendor Dashboard"}),r.jsxs("div",{className:"flex gap-4 mb-8",children:[r.jsx(tt,{to:"/bargains",className:"btn-secondary",children:"Bargains"}),r.jsx(tt,{to:"/collaborative-orders",className:"btn-secondary",children:"Collaborative Orders"})]}),r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Redirecting..."})]})})]})},Dh=({onImageSelect:d,currentImage:h,onRemoveImage:l})=>{const[m,g]=w.useState(!1),[_,y]=w.useState(null),[S,N]=w.useState(!1),O=w.useRef(null),I=w.useRef(null),b=w.useRef(null),[V,G]=w.useState(null);w.useEffect(()=>()=>{V&&V.getTracks().forEach(A=>A.stop()),document.body.style.overflow="auto"},[V]);const J=()=>{O.current?.click()},R=A=>{const ee=A.target.files[0];if(ee){const ue=new FileReader;ue.onload=Se=>{d(Se.target.result),g(!1)},ue.readAsDataURL(ee)}},z=async()=>{try{N(!0),document.body.style.overflow="hidden";const A=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}});G(A),I.current&&(I.current.srcObject=A,I.current.onloadedmetadata=()=>{I.current.style.transform="scaleX(-1)"})}catch(A){console.error("Error accessing camera:",A),alert("Unable to access camera. Please check permissions."),N(!1),document.body.style.overflow="auto"}},Q=()=>{V&&(V.getTracks().forEach(A=>A.stop()),G(null)),N(!1),y(null),document.body.style.overflow="auto"},B=()=>{if(I.current&&b.current){const A=I.current,ee=b.current,ue=ee.getContext("2d");ee.width=A.videoWidth,ee.height=A.videoHeight,ue.clearRect(0,0,ee.width,ee.height),ue.save(),ue.scale(-1,1),ue.translate(-ee.width,0),ue.drawImage(A,0,0,ee.width,ee.height),ue.restore();const Se=ee.toDataURL("image/jpeg",.8);y(Se),d(Se),Q(),g(!1)}},$=()=>{y(null),z()},D=()=>{l(),y(null)};return r.jsxs("div",{className:"space-y-4",children:[(h||_)&&r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:_||h,alt:"Product",className:"w-full h-48 object-cover rounded-lg border"}),r.jsx("button",{onClick:D,className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",children:r.jsx(On,{className:"w-4 h-4"})})]}),!h&&!_&&r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-gray-500",children:[r.jsx(Vp,{className:"w-12 h-12 mx-auto mb-2"}),r.jsx("p",{className:"text-sm",children:"Upload product image"})]}),r.jsx("div",{className:"flex gap-3 justify-center",children:r.jsxs("button",{onClick:()=>g(!0),className:"btn-primary flex items-center gap-2",children:[r.jsx(zh,{className:"w-4 h-4"}),"Upload Image"]})})]})}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Upload Image"}),r.jsx("button",{onClick:()=>{g(!1),Q()},className:"text-gray-500 hover:text-gray-700",children:r.jsx(On,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("button",{onClick:J,className:"w-full p-4 border rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-3",children:[r.jsx(zh,{className:"w-6 h-6 text-blue-600"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"Choose from Gallery"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Select an existing photo"})]})]}),r.jsxs("button",{onClick:z,className:"w-full p-4 border rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-3",children:[r.jsx(cf,{className:"w-6 h-6 text-green-600"}),r.jsxs("div",{className:"text-left",children:[r.jsx("div",{className:"font-medium",children:"Take Photo"}),r.jsx("div",{className:"text-sm text-gray-500",children:"Use camera to capture"})]})]})]}),r.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:R,className:"hidden"})]})}),S&&r.jsxs("div",{className:"fixed inset-0 bg-black flex flex-col z-50",children:[r.jsxs("div",{className:"flex justify-between items-center p-4 bg-black text-white z-10",children:[r.jsx("button",{onClick:Q,className:"text-white hover:text-gray-300 p-2",children:r.jsx(On,{className:"w-6 h-6"})}),r.jsx("span",{className:"text-lg font-medium",children:"Take Photo"}),r.jsx("div",{className:"w-10"})," "]}),r.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[r.jsx("video",{ref:I,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover",style:{transform:"scaleX(-1)"}}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:r.jsx("div",{className:"border-2 border-white rounded-lg w-64 h-64 opacity-50"})}),r.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 bg-black bg-opacity-50 text-white px-4 py-2 rounded-lg",children:r.jsx("p",{className:"text-sm",children:"Position your product in the frame"})})]}),r.jsx("div",{className:"bg-black bg-opacity-90 p-6",children:r.jsxs("div",{className:"flex items-center justify-center gap-8",children:[r.jsx("button",{onClick:Q,className:"bg-white bg-opacity-20 p-4 rounded-full hover:bg-opacity-30 transition-all",children:r.jsx(On,{className:"w-6 h-6 text-white"})}),r.jsx("button",{onClick:B,className:"bg-white p-6 rounded-full hover:bg-gray-100 transition-all shadow-lg",children:r.jsx("div",{className:"w-16 h-16 border-4 border-gray-800 rounded-full"})}),r.jsx("button",{onClick:$,className:"bg-white bg-opacity-20 p-4 rounded-full hover:bg-opacity-30 transition-all",children:r.jsx(Ah,{className:"w-6 h-6 text-white"})})]})}),r.jsx("canvas",{ref:b,className:"hidden"})]}),_&&!S&&r.jsxs("div",{className:"fixed inset-0 bg-black flex flex-col z-50",children:[r.jsxs("div",{className:"flex justify-between items-center p-4 bg-black text-white",children:[r.jsxs("button",{onClick:$,className:"text-white hover:text-gray-300 flex items-center gap-2",children:[r.jsx(Ah,{className:"w-4 h-4"}),"Retake"]}),r.jsx("span",{className:"text-lg font-medium",children:"Preview"}),r.jsx("button",{onClick:()=>{y(null),g(!1)},className:"text-white hover:text-gray-300",children:r.jsx(On,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:r.jsx("img",{src:_,alt:"Captured",className:"max-w-full max-h-full object-contain"})}),r.jsx("div",{className:"p-4 bg-black",children:r.jsx("button",{onClick:()=>{d(_),y(null),g(!1)},className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium",children:"Use This Photo"})})]})]})},Tu=({endTime:d,onExpired:h})=>{const[l,m]=w.useState("Loading..."),[g,_]=w.useState(!1);return w.useEffect(()=>{if(!d){m("Ended");return}const y=()=>{let N;try{N=new Date(d)}catch(b){console.error("Invalid endTime:",d,b),m("Ended");return}const I=N-new Date;if(isNaN(I)||I<=0)m("Ended"),!g&&h&&(_(!0),h());else{const b=Math.floor(I/36e5),V=Math.floor(I%36e5/6e4),G=Math.floor(I%6e4/1e3);b>0?m(`${b}h ${V}m ${G}s`):V>0?m(`${V}m ${G}s`):m(`${G}s`)}};y();const S=setInterval(y,1e3);return()=>clearInterval(S)},[d]),r.jsx("span",{className:"text-xs font-medium",children:l})};function Gp(){const{user:d}=ln(),{products:h,addProduct:l,updateProduct:m,deleteProduct:g,getProductsBySupplier:_,loading:y}=Il(),[S,N]=_p(),[O,I]=w.useState("overview"),[b,V]=w.useState([]),[G,J]=w.useState([]),[R,z]=w.useState([]),[Q,B]=w.useState([]),[$,D]=w.useState([]),[A,ee]=w.useState(null),[ue,Se]=w.useState(!1),[rt,Y]=w.useState(!1),[me,Ie]=w.useState(null),[Ue,Ze]=w.useState(null),[de,ke]=w.useState({name:"",price:"",quantity:"",unit:"kg",description:"",image:"",isOrganic:!1,licenseNumber:"",isVerified:!1,category:"vegetables"}),[ce,C]=w.useState({product:"",oldPrice:"",newPrice:"",discount:"",totalQuantity:"",quantityUnit:"kg",durationDays:"",durationHours:"",durationMinutes:"",image:""}),[se,K]=w.useState(null),[k,X]=w.useState(""),[xe,ye]=w.useState("");w.useEffect(()=>{const T=S.get("tab");T&&["overview","products","bargains","flashsales","reviews","deliveries"].includes(T)&&I(T)},[S]),w.useEffect(()=>{if(d&&d.id){(()=>{try{const st=ut.getBargainsBySupplier(d.id);J(st);const bt=Nt.getReviewsBySupplier(d.id);z(bt);const Ut=on.getDeliveriesBySupplier(d.id);B(Ut);const At=qe.getFlashSalesBySupplier(d.id);D(At)}catch(st){console.error("Error loading supplier data:",st)}})();const Be=ft.subscribe("bargain_update",st=>{if(st&&st.supplierId===d.id){const bt=ut.getBargainsBySupplier(d.id);J(bt),se&&st.bargain&&se.id===st.bargain.id&&K(st.bargain)}}),pt=ft.subscribe("review_update",st=>{if(st&&st.supplierId===d.id){const bt=Nt.getReviewsBySupplier(d.id);z(bt)}}),Xt=ft.subscribe("flash_sale_update",st=>{if(st&&st.supplierId===d.id){const bt=qe.getFlashSalesBySupplier(d.id);D(bt)}});return()=>{Be(),pt(),Xt()}}},[d]),w.useEffect(()=>{if(d&&d.id){const T=_(d.id);console.log("Loading products for supplier from context:",d.id,T);const Be=T.filter((pt,Xt,st)=>Xt===st.findIndex(bt=>bt.id===pt.id));V(Be)}},[d,h,_]);const pe=T=>{Ie(T),ke({name:T.name,price:T.price.toString(),quantity:T.quantity,unit:T.unit||"kg",description:T.description,image:T.image,isOrganic:T.isOrganic,licenseNumber:T.licenseNumber||"",isVerified:T.isVerified,category:T.category||"vegetables"}),Se(!0)},fe=async()=>{if(!de.name||!de.price||!de.quantity||!de.unit){alert("Please fill all required fields");return}const T={...de,price:parseFloat(de.price),quantity:parseInt(de.quantity),stock:parseInt(de.quantity),supplierId:d.id,supplierName:d.name,supplierRating:d.rating||4.5,image:de.image||"",category:de.category||"vegetables"},Be=await l(T);console.log("Product added via API:",Be),alert(Be?"Product added successfully!":"Failed to add product. Please try again."),ke({name:"",price:"",quantity:"",unit:"kg",description:"",category:"vegetables",isOrganic:!1}),Se(!1)},De=async()=>{if(!de.name||!de.price||!de.quantity||!de.unit){alert("Please fill all required fields");return}const T={name:de.name,price:parseFloat(de.price),quantity:parseInt(de.quantity),stock:parseInt(de.quantity),unit:de.unit,description:de.description,image:de.image||me.image,isOrganic:de.isOrganic,licenseNumber:de.isOrganic?null:de.licenseNumber,isVerified:de.isOrganic?!0:de.isVerified,category:de.category};await m(me.id,T)&&alert("Product updated successfully!"),ke({name:"",price:"",quantity:"",description:"",image:"",isOrganic:!1,licenseNumber:"",isVerified:!1,category:"vegetables"}),Se(!1)},Te=async T=>{if(window.confirm("Are you sure you want to delete this product?")){const Be=await g(T);alert(Be?"Product deleted successfully!":"Failed to delete product")}},We=async T=>new Promise(Be=>{setTimeout(()=>{const pt=T.length>=8&&T.match(/^[A-Z0-9]+$/);Be({isValid:pt,message:pt?"License verified successfully":"Invalid license number"})},1e3)}),it=T=>{ke({...de,name:T})},Tt=T=>{ke({...de,isOrganic:T})},cn=async()=>{if(!de.licenseNumber.trim()){alert("Please enter a license number");return}try{const T=await We(de.licenseNumber);T.isValid?(ke({...de,isVerified:!0}),alert(" "+T.message)):(ke({...de,isVerified:!1}),alert(" "+T.message))}catch{alert("Error verifying license. Please try again.")}},kt=async()=>{if(ce.product&&ce.newPrice){const T=new Date,Be=parseInt(ce.durationDays)||0,pt=parseInt(ce.durationHours)||0,Xt=parseInt(ce.durationMinutes)||0,st=new Date(T.getTime()+Be*24*60*60*1e3+pt*60*60*1e3+Xt*60*1e3).toISOString(),bt=ce.image,Ut={product:ce.product,oldPrice:parseFloat(ce.oldPrice),price:parseFloat(ce.newPrice),discount:parseFloat(ce.discount),total:parseInt(ce.totalQuantity),quantityUnit:ce.quantityUnit,endTime:st,supplier:d.name,supplierId:d.id,image:bt},At=qe.addFlashSale(Ut);D([...$,At]),C({product:"",oldPrice:"",newPrice:"",discount:"",totalQuantity:"",quantityUnit:"kg",durationDays:"",durationHours:"",durationMinutes:"",image:""}),Y(!1)}else alert("Please fill in all required fields (product name and new price)")},Wn=T=>{C({product:T.product,oldPrice:T.oldPrice.toString(),newPrice:T.price.toString(),discount:T.discount.toString(),totalQuantity:T.total.toString(),durationHours:"",durationMinutes:"",image:T.image||""}),Ze(T),Y(!0)},te=async()=>{if(ce.product&&ce.newPrice&&Ue){const T=new Date,Be=parseInt(ce.durationHours)||0,pt=parseInt(ce.durationMinutes)||0,Xt=new Date(T.getTime()+Be*60*60*1e3+pt*60*1e3).toISOString(),st=ce.image||Ue.image,bt={product:ce.product,oldPrice:parseFloat(ce.oldPrice),price:parseFloat(ce.newPrice),discount:parseFloat(ce.discount),total:parseInt(ce.totalQuantity),endTime:Xt,image:st},Ut=qe.updateFlashSale(Ue.id,bt);Ut&&(D($.map(At=>At.id===Ue.id?Ut:At)),Ze(null),C({product:"",oldPrice:"",newPrice:"",discount:"",totalQuantity:"",durationHours:"",durationMinutes:"",image:""}),Y(!1))}else alert("Please fill in all required fields")},Oe=T=>{window.confirm("Are you sure you want to delete this flash sale?")&&(qe.deleteFlashSale(T)?(D($.filter(pt=>pt.id!==T)),alert("Flash sale deleted successfully")):alert("Failed to delete flash sale"))},Ke=T=>{K(T),X(""),ye("")},un=()=>{if(!xe&&!k)return;ut.addMessage(se.id,{sender:"supplier",offer:xe?parseFloat(xe):void 0,message:k});const T=ut.getBargainById(se.id);K(T),X(""),ye("")},xt=d?.userType==="farmer"||d?.type==="farmer",mt={totalProducts:b.length,activeBargains:G.filter(T=>T.status==="pending").length,activeFlashSales:$.filter(T=>T.status==="active").length,totalRevenue:25e3,totalOrders:45,averageRating:R.length>0?(R.reduce((T,Be)=>T+Be.rating,0)/R.length).toFixed(1):0,totalReviews:R.length};return r.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(os,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:mt.totalProducts})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(uf,{className:"w-8 h-8 text-green-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),r.jsxs("p",{className:"text-2xl font-semibold text-gray-900",children:["",mt.totalRevenue]})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(ki,{className:"w-8 h-8 text-orange-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:mt.totalOrders})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(wn,{className:"w-8 h-8 text-yellow-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Rating"}),r.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:mt.averageRating}),r.jsxs("p",{className:"text-xs text-gray-500",children:[mt.totalReviews," reviews"]})]})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow mb-8",children:r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"overview",name:"Overview",icon:kl},{id:"products",name:"Product Catalog",icon:os},{id:"bargains",name:"Bargain Requests",icon:as},{id:"flashsales",name:"Flash Sales",icon:Si},{id:"reviews",name:"Reviews",icon:wn},{id:"deliveries",name:"Deliveries",icon:Nu}].map(T=>{const Be=T.icon;return r.jsxs("button",{onClick:()=>I(T.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${O===T.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(Be,{className:"w-4 h-4"}),T.name]},T.id)})})})}),r.jsxs("div",{className:"bg-white rounded-lg shadow",children:[O==="overview"&&r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Business Overview"}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Recent Activity"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded",children:[r.jsx(as,{className:"w-5 h-5 text-blue-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"New bargain request from Restaurant ABC"}),r.jsx("p",{className:"text-xs text-gray-500",children:"2 hours ago"})]})]}),r.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded",children:[r.jsx(wn,{className:"w-5 h-5 text-yellow-600"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"5-star review received for Organic Tomatoes"}),r.jsx("p",{className:"text-xs text-gray-500",children:"1 day ago"})]})]})]})]}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium mb-3",children:"Quick Actions"}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("button",{onClick:()=>I("products"),className:"w-full text-left p-3 bg-blue-50 hover:bg-blue-100 rounded transition-colors",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(na,{className:"w-4 h-4"}),"Add New Product"]})}),r.jsx("button",{onClick:()=>I("flashsales"),className:"w-full text-left p-3 bg-orange-50 hover:bg-orange-100 rounded transition-colors",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Si,{className:"w-4 h-4"}),"Create Flash Sale"]})})]})]})]})]}),O==="products"&&r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Product Catalog"}),!xt&&r.jsxs("button",{onClick:()=>{Ie(null),Se(!0)},className:"btn-primary flex items-center gap-2",children:[r.jsx(na,{className:"w-4 h-4"}),"Add Product"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(T=>r.jsxs("div",{className:"border rounded-lg p-4",children:[T.image&&T.image!==""?r.jsx("img",{src:T.image,alt:T.name,className:"w-full h-32 object-cover rounded mb-3",onError:Be=>{Be.target.style.display="none",Be.target.nextSibling.style.display="flex"}}):null,r.jsx("div",{className:"w-full h-32 bg-green-100 rounded mb-3 flex items-center justify-center",style:{display:T.image&&T.image!==""?"none":"flex"},children:r.jsx("span",{className:"text-4xl",children:""})}),r.jsx("h3",{className:"font-medium mb-2",children:T.name}),r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:T.description}),r.jsxs("div",{className:"flex justify-between items-center mb-3",children:[r.jsxs("span",{className:"font-medium",children:["",T.price,"/",T.unit||"kg"]}),r.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:["Stock: ",T.quantity," ",T.unit||"kg"]})]}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[!T.isOrganic&&T.isVerified&&r.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded flex items-center gap-1",children:[r.jsx(ss,{className:"w-3 h-3"}),"FSSAI Verified"]}),!T.isOrganic&&T.licenseNumber&&!T.isVerified&&r.jsxs("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded flex items-center gap-1",children:[r.jsx(Oh,{className:"w-3 h-3"}),"License Pending"]}),T.isOrganic&&r.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded flex items-center gap-1",children:[r.jsx(ss,{className:"w-3 h-3"}),"Organic"]})]}),!xt&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>pe(T),className:"text-sm text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[r.jsx(_u,{className:"w-3 h-3"}),"Edit"]}),r.jsxs("button",{onClick:()=>Te(T.id),className:"text-sm text-red-600 hover:text-red-800 flex items-center gap-1",children:[r.jsx(Pl,{className:"w-3 h-3"}),"Delete"]})]})]},T.id))})]}),O==="bargains"&&r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Bargain Requests"}),G.length===0?r.jsx("div",{className:"text-gray-400 text-center",children:"No bargains yet."}):r.jsx("div",{className:"space-y-4",children:G.map(T=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:T.vendorName}),r.jsx("p",{className:"text-sm text-gray-600",children:T.productName})]}),r.jsx("button",{onClick:()=>Ke(T),className:"btn-primary",children:"Open Chat"})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",T.status]})]},T.id))}),se&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Bargain Chat for ",se.productName]}),r.jsx("button",{onClick:()=>K(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsx("div",{className:"mb-4 h-64 overflow-y-auto border rounded p-2 bg-gray-50",children:se.messages.length===0?r.jsx("div",{className:"text-gray-400 text-center",children:"No messages yet."}):se.messages.map((T,Be)=>r.jsx("div",{className:`mb-2 ${T.sender==="supplier"?"text-right":"text-left"}`,children:r.jsxs("div",{className:`inline-block px-3 py-2 rounded-lg ${T.sender==="supplier"?"bg-green-100":"bg-blue-100"}`,children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:T.sender==="supplier"?"You":se.vendorName}),T.offer!==void 0&&r.jsxs("div",{className:"font-bold",children:["Offer: ",T.offer]}),T.message&&r.jsx("div",{children:T.message}),r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(T.timestamp).toLocaleString()})]})},Be))}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx("input",{type:"number",placeholder:"Offer ()",value:xe,onChange:T=>ye(T.target.value),className:"flex-1 border rounded p-2"}),r.jsx("input",{type:"text",placeholder:"Message",value:k,onChange:T=>X(T.target.value),className:"flex-1 border rounded p-2"}),r.jsx("button",{onClick:un,className:"btn-primary",children:"Send"})]})]})})]}),O==="flashsales"&&r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"Flash Sales"}),r.jsxs("button",{onClick:()=>Y(!0),className:"btn-primary flex items-center gap-2",children:[r.jsx(na,{className:"w-4 h-4"}),"Create Flash Sale"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:$.map(T=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsx("h3",{className:"font-medium",children:T.product}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm bg-red-100 text-red-800 px-2 py-1 rounded",children:[T.discount,"% OFF"]}),r.jsxs("div",{className:"flex gap-1",children:[r.jsx("button",{onClick:()=>Wn(T),className:"text-blue-600 hover:text-blue-800 p-1",title:"Edit",children:r.jsx(_u,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>Oe(T.id),className:"text-red-600 hover:text-red-800 p-1",title:"Delete",children:r.jsx(Pl,{className:"w-4 h-4"})})]})]})]}),T.image&&r.jsx("div",{className:"mb-3",children:r.jsx("img",{src:T.image,alt:T.product,className:"w-full h-32 object-cover rounded",onError:Be=>{Be.target.src="https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop"}})}),r.jsxs("div",{className:"space-y-2 mb-3",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"line-through text-gray-500",children:["",T.oldPrice]}),r.jsxs("span",{className:"font-medium text-green-600",children:["",T.price]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{children:["Sold: ",T.sold,"/",T.total]}),r.jsx("span",{className:"text-yellow-600 font-medium",children:r.jsx(Tu,{endTime:T.endTime})})]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${T.sold/T.total*100}%`}})})]},T.id))})]}),O==="reviews"&&r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Customer Reviews"}),r.jsx("button",{onClick:()=>{const T=Nt.getReviewsBySupplier(d.id);console.log("Manual refresh reviews for supplier",d.id,T),z(T)},className:"mb-4 btn-secondary",children:"Refresh Reviews"}),R.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(wn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 text-lg",children:"No reviews yet."}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Reviews from vendors will appear here."})]}):r.jsx("div",{className:"space-y-4",children:R.map(T=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:T.vendorName}),r.jsx("p",{className:"text-sm text-gray-600",children:T.productName})]}),r.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(Be=>r.jsx(wn,{className:`w-4 h-4 ${Be<=T.rating?"text-yellow-400 fill-current":"text-gray-300"}`},Be))})]}),r.jsx("p",{className:"text-gray-700 mb-2",children:T.comment}),r.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[r.jsx("span",{children:T.date}),r.jsx("span",{className:"text-green-600",children:"Published"})]})]},T.id))})]}),O==="deliveries"&&r.jsxs("div",{className:"p-6",children:[r.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Delivery Management"}),Q.length===0?r.jsx("div",{className:"text-gray-400 text-center",children:"No deliveries yet."}):r.jsx("div",{className:"space-y-4",children:Q.map(T=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium",children:["Order #",T.orderId]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Customer: ",T.customer]}),r.jsxs("p",{className:"text-sm text-gray-500",children:["Products: ",T.products.join(", ")]})]}),r.jsx("span",{className:`text-sm px-2 py-1 rounded ${T.status==="in-transit"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:T.status})]}),r.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[r.jsxs("span",{children:["Delivery Date: ",T.deliveryDate]}),r.jsxs("span",{children:["Total: ",T.totalAmount]})]})]},T.id))})]})]}),ue&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:me?"Edit Product":"Add New Product"}),r.jsx("button",{onClick:()=>{Se(!1),Ie(null),ke({name:"",price:"",quantity:"",unit:"kg",description:"",image:"",isOrganic:!1,licenseNumber:"",isVerified:!1,category:"vegetables"})},className:"text-gray-500 hover:text-gray-700",children:r.jsx(On,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Product Name",value:de.name,onChange:T=>it(T.target.value),className:"w-full p-2 border rounded"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",placeholder:"Price per unit",value:de.price,onChange:T=>ke({...de,price:T.target.value}),className:"flex-1 p-2 border rounded"}),r.jsxs("select",{value:de.unit,onChange:T=>ke({...de,unit:T.target.value}),className:"w-32 p-2 border rounded",children:[r.jsx("option",{value:"kg",children:"Kg"}),r.jsx("option",{value:"litre",children:"Litre"}),r.jsx("option",{value:"dozen",children:"Dozen"}),r.jsx("option",{value:"piece",children:"Piece"}),r.jsx("option",{value:"grams",children:"Grams"}),r.jsx("option",{value:"ml",children:"ML"}),r.jsx("option",{value:"quintal",children:"Quintal"}),r.jsx("option",{value:"ton",children:"Ton"}),r.jsx("option",{value:"box",children:"Box"}),r.jsx("option",{value:"bag",children:"Bag"})]})]}),r.jsx("input",{type:"number",placeholder:"Total quantity available",value:de.quantity,onChange:T=>ke({...de,quantity:T.target.value}),className:"w-full p-2 border rounded"}),r.jsx("textarea",{placeholder:"Description",value:de.description,onChange:T=>ke({...de,description:T.target.value}),className:"w-full p-2 border rounded",rows:"3"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Type"}),r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"productType",value:"organic",checked:de.isOrganic,onChange:()=>Tt(!0),className:"mr-2"}),"Organic"]}),r.jsxs("label",{className:"flex items-center",children:[r.jsx("input",{type:"radio",name:"productType",value:"non-organic",checked:!de.isOrganic,onChange:()=>Tt(!1),className:"mr-2"}),"Non-Organic"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Category"}),r.jsxs("select",{value:de.category,onChange:T=>ke({...de,category:T.target.value}),className:"w-full p-2 border rounded",children:[r.jsx("option",{value:"vegetables",children:"Vegetables"}),r.jsx("option",{value:"fruits",children:"Fruits"}),r.jsx("option",{value:"grains",children:"Grains"}),r.jsx("option",{value:"dairy",children:"Dairy Products"}),r.jsx("option",{value:"nuts",children:"Nuts & Flours"}),r.jsx("option",{value:"other",children:"Other Materials"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Image (Optional)"}),r.jsx(Dh,{onImageSelect:T=>ke({...de,image:T}),currentImage:de.image,onRemoveImage:()=>ke({...de,image:""})})]}),!de.isOrganic&&r.jsx("div",{className:"space-y-3",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"FSSAI License Number (Required for Non-Organic Products)"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",placeholder:"Enter FSSAI license number",value:de.licenseNumber,onChange:T=>ke({...de,licenseNumber:T.target.value}),className:"flex-1 p-2 border rounded"}),r.jsx("button",{type:"button",onClick:cn,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Verify"})]}),de.isVerified&&r.jsxs("p",{className:"text-sm text-green-600 mt-1 flex items-center gap-1",children:[r.jsx(ss,{className:"w-4 h-4"}),"License verified successfully"]}),de.licenseNumber&&!de.isVerified&&r.jsxs("p",{className:"text-sm text-yellow-600 mt-1 flex items-center gap-1",children:[r.jsx(Oh,{className:"w-4 h-4"}),"Please verify your license number"]})]})}),de.isOrganic&&r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("p",{className:"text-sm text-green-800",children:[r.jsx(ss,{className:"w-4 h-4 inline mr-1"}),"Organic products do not require FSSAI verification"]})})]}),r.jsxs("div",{className:"flex gap-2 mt-6",children:[r.jsxs("button",{onClick:me?De:fe,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:[me?r.jsx(mf,{className:"w-4 h-4"}):r.jsx(na,{className:"w-4 h-4"}),me?"Update Product":"Add Product"]}),r.jsx("button",{onClick:()=>{Se(!1),Ie(null),ke({name:"",price:"",quantity:"",description:"",image:"",isOrganic:!1,licenseNumber:"",isVerified:!1})},className:"btn-secondary flex-1",children:"Cancel"})]})]})}),rt&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:Ue?"Edit Flash Sale":"Create Flash Sale"}),r.jsx("button",{onClick:()=>{Y(!1),Ze(null),C({product:"",oldPrice:"",newPrice:"",discount:"",totalQuantity:"",durationHours:"",durationMinutes:"",image:""})},className:"text-gray-500 hover:text-gray-700",children:r.jsx(On,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"text",placeholder:"Product Name",value:ce.product,onChange:T=>C({...ce,product:T.target.value}),className:"w-full p-2 border rounded"}),r.jsx("input",{type:"number",placeholder:"Original Price",value:ce.oldPrice,onChange:T=>C({...ce,oldPrice:T.target.value}),className:"w-full p-2 border rounded"}),r.jsx("input",{type:"number",placeholder:"Sale Price",value:ce.newPrice,onChange:T=>C({...ce,newPrice:T.target.value}),className:"w-full p-2 border rounded"}),r.jsx("input",{type:"number",placeholder:"Discount %",value:ce.discount,onChange:T=>C({...ce,discount:T.target.value}),className:"w-full p-2 border rounded"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"number",placeholder:"Total Quantity",value:ce.totalQuantity,onChange:T=>C({...ce,totalQuantity:T.target.value}),className:"flex-1 p-2 border rounded"}),r.jsxs("select",{value:ce.quantityUnit,onChange:T=>C({...ce,quantityUnit:T.target.value}),className:"w-20 p-2 border rounded",children:[r.jsx("option",{value:"kg",children:"Kg"}),r.jsx("option",{value:"g",children:"g"}),r.jsx("option",{value:"litre",children:"L"}),r.jsx("option",{value:"ml",children:"mL"}),r.jsx("option",{value:"piece",children:"Pc"}),r.jsx("option",{value:"dozen",children:"Dz"}),r.jsx("option",{value:"box",children:"Box"}),r.jsx("option",{value:"bag",children:"Bag"}),r.jsx("option",{value:"quintal",children:"Q"}),r.jsx("option",{value:"ton",children:"Ton"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[r.jsx("input",{type:"number",placeholder:"Days",value:ce.durationDays,onChange:T=>C({...ce,durationDays:T.target.value}),className:"p-2 border rounded"}),r.jsx("input",{type:"number",placeholder:"Hours",value:ce.durationHours,onChange:T=>C({...ce,durationHours:T.target.value}),className:"p-2 border rounded"}),r.jsx("input",{type:"number",placeholder:"Minutes",value:ce.durationMinutes,onChange:T=>C({...ce,durationMinutes:T.target.value}),className:"p-2 border rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Image (Optional)"}),r.jsx(Dh,{onImageSelect:T=>C({...ce,image:T}),currentImage:ce.image,onRemoveImage:()=>C({...ce,image:""})})]})]}),r.jsxs("div",{className:"flex gap-2 mt-6",children:[r.jsx("button",{onClick:Ue?te:kt,className:"btn-primary flex-1",children:Ue?"Update Sale":"Create Sale"}),r.jsx("button",{onClick:()=>{Y(!1),Ze(null),C({product:"",oldPrice:"",newPrice:"",discount:"",totalQuantity:"",durationHours:"",durationMinutes:"",image:""})},className:"btn-secondary flex-1",children:"Cancel"})]})]})})]})}const Qp=()=>{const{login:d,user:h}=ln(),l=Ur(),[m,g]=w.useState({email:"",password:""}),[_,y]=w.useState(!1),[S,N]=w.useState(""),[O,I]=w.useState(!1),b=async G=>{G.preventDefault(),N(""),I(!0);try{await d(m.email,m.password),h&&(h.type==="supplier"||h.userType==="supplier")?l("/supplier-dashboard"):l("/dashboard")}catch{N("Invalid email or password")}finally{I(!1)}},V=G=>{g({...m,[G.target.name]:G.target.value})};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{children:[r.jsx("div",{className:"mx-auto h-12 w-12 bg-primary-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"VM"})}),r.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),r.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",r.jsx(tt,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:b,children:[S&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:S}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:m.email,onChange:V,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"}),r.jsx(Eu,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"password",name:"password",type:_?"text":"password",autoComplete:"current-password",required:!0,value:m.password,onChange:V,className:"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"}),r.jsx(vu,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),r.jsx("button",{type:"button",onClick:()=>y(!_),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:_?r.jsx(gu,{className:"h-5 w-5"}):r.jsx(xu,{className:"h-5 w-5"})})]})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:O,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:O?"Signing in...":"Sign in"})})]})]})})},Kp=()=>{const{register:d}=ln(),h=Ur(),[l,m]=w.useState({name:"",email:"",phone:"",password:"",confirmPassword:"",userType:"vendor"}),[g,_]=w.useState(!1),[y,S]=w.useState(!1),[N,O]=w.useState(""),[I,b]=w.useState(!1),V=async J=>{if(J.preventDefault(),O(""),l.password!==l.confirmPassword){O("Passwords do not match");return}b(!0);try{await d(l),l.userType==="supplier"?h("/supplier-dashboard"):h("/dashboard")}catch{O("Registration failed. Please try again.")}finally{b(!1)}},G=J=>{m({...l,[J.target.name]:J.target.value})};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:r.jsxs("div",{className:"max-w-md w-full space-y-8",children:[r.jsxs("div",{children:[r.jsx("div",{className:"mx-auto h-12 w-12 bg-primary-600 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"VM"})}),r.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),r.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",r.jsx(tt,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"sign in to your existing account"})]})]}),r.jsxs("form",{className:"mt-8 space-y-6",onSubmit:V,children:[N&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:N}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"name",name:"name",type:"text",autoComplete:"name",required:!0,value:l.name,onChange:G,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Enter your full name"}),r.jsx(sa,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l.email,onChange:G,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Enter your email"}),r.jsx(Eu,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"phone",name:"phone",type:"tel",autoComplete:"tel",required:!0,value:l.phone,onChange:G,className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Enter your phone number"}),r.jsx(ff,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"userType",className:"block text-sm font-medium text-gray-700",children:"User Type"}),r.jsxs("select",{id:"userType",name:"userType",value:l.userType,onChange:G,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[r.jsx("option",{value:"vendor",children:"Vendor"}),r.jsx("option",{value:"supplier",children:"Supplier"})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"password",name:"password",type:g?"text":"password",autoComplete:"new-password",required:!0,value:l.password,onChange:G,className:"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Enter your password"}),r.jsx(vu,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),r.jsx("button",{type:"button",onClick:()=>_(!g),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:g?r.jsx(gu,{className:"h-5 w-5"}):r.jsx(xu,{className:"h-5 w-5"})})]})]}),r.jsxs("div",{children:[r.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),r.jsxs("div",{className:"mt-1 relative",children:[r.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:y?"text":"password",autoComplete:"new-password",required:!0,value:l.confirmPassword,onChange:G,className:"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Confirm your password"}),r.jsx(vu,{className:"absolute left-3 top-2.5 h-5 w-5 text-gray-400"}),r.jsx("button",{type:"button",onClick:()=>S(!y),className:"absolute right-3 top-2.5 text-gray-400 hover:text-gray-600",children:y?r.jsx(gu,{className:"h-5 w-5"}):r.jsx(xu,{className:"h-5 w-5"})})]})]})]}),r.jsx("div",{children:r.jsx("button",{type:"submit",disabled:I,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:I?"Creating account...":"Create account"})})]})]})})};function vf(d,h){const l=w.useRef(h);w.useEffect(function(){h!==l.current&&d.attributionControl!=null&&(l.current!=null&&d.attributionControl.removeAttribution(l.current),h!=null&&d.attributionControl.addAttribution(h)),l.current=h},[d,h])}function Jp(d,h,l){h.center!==l.center&&d.setLatLng(h.center),h.radius!=null&&h.radius!==l.radius&&d.setRadius(h.radius)}const Yp=1;function Xp(d){return Object.freeze({__version:Yp,map:d})}function yf(d,h){return Object.freeze({...d,...h})}const _f=w.createContext(null),wf=_f.Provider;function Mu(){const d=w.useContext(_f);if(d==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return d}function Nf(d){function h(l,m){const{instance:g,context:_}=d(l).current;return w.useImperativeHandle(m,()=>g),l.children==null?null:ra.createElement(wf,{value:_},l.children)}return w.forwardRef(h)}function eg(d){function h(l,m){const[g,_]=w.useState(!1),{instance:y}=d(l,_).current;w.useImperativeHandle(m,()=>y),w.useEffect(function(){g&&y.update()},[y,g,l.children]);const S=y._contentNode;return S?xm.createPortal(l.children,S):null}return w.forwardRef(h)}function tg(d){function h(l,m){const{instance:g}=d(l).current;return w.useImperativeHandle(m,()=>g),null}return w.forwardRef(h)}function Ou(d,h){const l=w.useRef();w.useEffect(function(){return h!=null&&d.instance.on(h),l.current=h,function(){l.current!=null&&d.instance.off(l.current),l.current=null}},[d,h])}function Ml(d,h){const l=d.pane??h.pane;return l?{...d,pane:l}:d}function ng(d,h){return function(m,g){const _=Mu(),y=d(Ml(m,_),_);return vf(_.map,m.attribution),Ou(y.current,m.eventHandlers),h(y.current,_,m,g),y}}var no={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var rg=no.exports,Bh;function ig(){return Bh||(Bh=1,function(d,h){(function(l,m){m(h)})(rg,function(l){var m="1.9.4";function g(t){var i,a,c,p;for(a=1,c=arguments.length;a<c;a++){p=arguments[a];for(i in p)t[i]=p[i]}return t}var _=Object.create||function(){function t(){}return function(i){return t.prototype=i,new t}}();function y(t,i){var a=Array.prototype.slice;if(t.bind)return t.bind.apply(t,a.call(arguments,1));var c=a.call(arguments,2);return function(){return t.apply(i,c.length?c.concat(a.call(arguments)):arguments)}}var S=0;function N(t){return"_leaflet_id"in t||(t._leaflet_id=++S),t._leaflet_id}function O(t,i,a){var c,p,v,P;return P=function(){c=!1,p&&(v.apply(a,p),p=!1)},v=function(){c?p=arguments:(t.apply(a,arguments),setTimeout(P,i),c=!0)},v}function I(t,i,a){var c=i[1],p=i[0],v=c-p;return t===c&&a?t:((t-p)%v+v)%v+p}function b(){return!1}function V(t,i){if(i===!1)return t;var a=Math.pow(10,i===void 0?6:i);return Math.round(t*a)/a}function G(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function J(t){return G(t).split(/\s+/)}function R(t,i){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?_(t.options):{});for(var a in i)t.options[a]=i[a];return t.options}function z(t,i,a){var c=[];for(var p in t)c.push(encodeURIComponent(a?p.toUpperCase():p)+"="+encodeURIComponent(t[p]));return(!i||i.indexOf("?")===-1?"?":"&")+c.join("&")}var Q=/\{ *([\w_ -]+) *\}/g;function B(t,i){return t.replace(Q,function(a,c){var p=i[c];if(p===void 0)throw new Error("No value provided for variable "+a);return typeof p=="function"&&(p=p(i)),p})}var $=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function D(t,i){for(var a=0;a<t.length;a++)if(t[a]===i)return a;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function ee(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var ue=0;function Se(t){var i=+new Date,a=Math.max(0,16-(i-ue));return ue=i+a,window.setTimeout(t,a)}var rt=window.requestAnimationFrame||ee("RequestAnimationFrame")||Se,Y=window.cancelAnimationFrame||ee("CancelAnimationFrame")||ee("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function me(t,i,a){if(a&&rt===Se)t.call(i);else return rt.call(window,y(t,i))}function Ie(t){t&&Y.call(window,t)}var Ue={__proto__:null,extend:g,create:_,bind:y,get lastId(){return S},stamp:N,throttle:O,wrapNum:I,falseFn:b,formatNum:V,trim:G,splitWords:J,setOptions:R,getParamString:z,template:B,isArray:$,indexOf:D,emptyImageUrl:A,requestFn:rt,cancelFn:Y,requestAnimFrame:me,cancelAnimFrame:Ie};function Ze(){}Ze.extend=function(t){var i=function(){R(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=i.__super__=this.prototype,c=_(a);c.constructor=i,i.prototype=c;for(var p in this)Object.prototype.hasOwnProperty.call(this,p)&&p!=="prototype"&&p!=="__super__"&&(i[p]=this[p]);return t.statics&&g(i,t.statics),t.includes&&(de(t.includes),g.apply(null,[c].concat(t.includes))),g(c,t),delete c.statics,delete c.includes,c.options&&(c.options=a.options?_(a.options):{},g(c.options,t.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,P=c._initHooks.length;v<P;v++)c._initHooks[v].call(this)}},i},Ze.include=function(t){var i=this.prototype.options;return g(this.prototype,t),t.options&&(this.prototype.options=i,this.mergeOptions(t.options)),this},Ze.mergeOptions=function(t){return g(this.prototype.options,t),this},Ze.addInitHook=function(t){var i=Array.prototype.slice.call(arguments,1),a=typeof t=="function"?t:function(){this[t].apply(this,i)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function de(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=$(t)?t:[t];for(var i=0;i<t.length;i++)t[i]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ke={on:function(t,i,a){if(typeof t=="object")for(var c in t)this._on(c,t[c],i);else{t=J(t);for(var p=0,v=t.length;p<v;p++)this._on(t[p],i,a)}return this},off:function(t,i,a){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var c in t)this._off(c,t[c],i);else{t=J(t);for(var p=arguments.length===1,v=0,P=t.length;v<P;v++)p?this._off(t[v]):this._off(t[v],i,a)}return this},_on:function(t,i,a,c){if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}if(this._listens(t,i,a)===!1){a===this&&(a=void 0);var p={fn:i,ctx:a};c&&(p.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(p)}},_off:function(t,i,a){var c,p,v;if(this._events&&(c=this._events[t],!!c)){if(arguments.length===1){if(this._firingCount)for(p=0,v=c.length;p<v;p++)c[p].fn=b;delete this._events[t];return}if(typeof i!="function"){console.warn("wrong listener type: "+typeof i);return}var P=this._listens(t,i,a);if(P!==!1){var F=c[P];this._firingCount&&(F.fn=b,this._events[t]=c=c.slice()),c.splice(P,1)}}},fire:function(t,i,a){if(!this.listens(t,a))return this;var c=g({},i,{type:t,target:this,sourceTarget:i&&i.sourceTarget||this});if(this._events){var p=this._events[t];if(p){this._firingCount=this._firingCount+1||1;for(var v=0,P=p.length;v<P;v++){var F=p[v],q=F.fn;F.once&&this.off(t,q,F.ctx),q.call(F.ctx||this,c)}this._firingCount--}}return a&&this._propagateEvent(c),this},listens:function(t,i,a,c){typeof t!="string"&&console.warn('"string" type argument expected');var p=i;typeof i!="function"&&(c=!!i,p=void 0,a=void 0);var v=this._events&&this._events[t];if(v&&v.length&&this._listens(t,p,a)!==!1)return!0;if(c){for(var P in this._eventParents)if(this._eventParents[P].listens(t,i,a,c))return!0}return!1},_listens:function(t,i,a){if(!this._events)return!1;var c=this._events[t]||[];if(!i)return!!c.length;a===this&&(a=void 0);for(var p=0,v=c.length;p<v;p++)if(c[p].fn===i&&c[p].ctx===a)return p;return!1},once:function(t,i,a){if(typeof t=="object")for(var c in t)this._on(c,t[c],i,!0);else{t=J(t);for(var p=0,v=t.length;p<v;p++)this._on(t[p],i,a,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[N(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[N(t)],this},_propagateEvent:function(t){for(var i in this._eventParents)this._eventParents[i].fire(t.type,g({layer:t.target,propagatedFrom:t.target},t),!0)}};ke.addEventListener=ke.on,ke.removeEventListener=ke.clearAllEventListeners=ke.off,ke.addOneTimeEventListener=ke.once,ke.fireEvent=ke.fire,ke.hasEventListeners=ke.listens;var ce=Ze.extend(ke);function C(t,i,a){this.x=a?Math.round(t):t,this.y=a?Math.round(i):i}var se=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};C.prototype={clone:function(){return new C(this.x,this.y)},add:function(t){return this.clone()._add(K(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(K(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new C(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new C(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(t){t=K(t);var i=t.x-this.x,a=t.y-this.y;return Math.sqrt(i*i+a*a)},equals:function(t){return t=K(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=K(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+V(this.x)+", "+V(this.y)+")"}};function K(t,i,a){return t instanceof C?t:$(t)?new C(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new C(t.x,t.y):new C(t,i,a)}function k(t,i){if(t)for(var a=i?[t,i]:t,c=0,p=a.length;c<p;c++)this.extend(a[c])}k.prototype={extend:function(t){var i,a;if(!t)return this;if(t instanceof C||typeof t[0]=="number"||"x"in t)i=a=K(t);else if(t=X(t),i=t.min,a=t.max,!i||!a)return this;return!this.min&&!this.max?(this.min=i.clone(),this.max=a.clone()):(this.min.x=Math.min(i.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(i.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(t){return K((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return K(this.min.x,this.max.y)},getTopRight:function(){return K(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var i,a;return typeof t[0]=="number"||t instanceof C?t=K(t):t=X(t),t instanceof k?(i=t.min,a=t.max):i=a=t,i.x>=this.min.x&&a.x<=this.max.x&&i.y>=this.min.y&&a.y<=this.max.y},intersects:function(t){t=X(t);var i=this.min,a=this.max,c=t.min,p=t.max,v=p.x>=i.x&&c.x<=a.x,P=p.y>=i.y&&c.y<=a.y;return v&&P},overlaps:function(t){t=X(t);var i=this.min,a=this.max,c=t.min,p=t.max,v=p.x>i.x&&c.x<a.x,P=p.y>i.y&&c.y<a.y;return v&&P},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var i=this.min,a=this.max,c=Math.abs(i.x-a.x)*t,p=Math.abs(i.y-a.y)*t;return X(K(i.x-c,i.y-p),K(a.x+c,a.y+p))},equals:function(t){return t?(t=X(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function X(t,i){return!t||t instanceof k?t:new k(t,i)}function xe(t,i){if(t)for(var a=i?[t,i]:t,c=0,p=a.length;c<p;c++)this.extend(a[c])}xe.prototype={extend:function(t){var i=this._southWest,a=this._northEast,c,p;if(t instanceof pe)c=t,p=t;else if(t instanceof xe){if(c=t._southWest,p=t._northEast,!c||!p)return this}else return t?this.extend(fe(t)||ye(t)):this;return!i&&!a?(this._southWest=new pe(c.lat,c.lng),this._northEast=new pe(p.lat,p.lng)):(i.lat=Math.min(c.lat,i.lat),i.lng=Math.min(c.lng,i.lng),a.lat=Math.max(p.lat,a.lat),a.lng=Math.max(p.lng,a.lng)),this},pad:function(t){var i=this._southWest,a=this._northEast,c=Math.abs(i.lat-a.lat)*t,p=Math.abs(i.lng-a.lng)*t;return new xe(new pe(i.lat-c,i.lng-p),new pe(a.lat+c,a.lng+p))},getCenter:function(){return new pe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new pe(this.getNorth(),this.getWest())},getSouthEast:function(){return new pe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof pe||"lat"in t?t=fe(t):t=ye(t);var i=this._southWest,a=this._northEast,c,p;return t instanceof xe?(c=t.getSouthWest(),p=t.getNorthEast()):c=p=t,c.lat>=i.lat&&p.lat<=a.lat&&c.lng>=i.lng&&p.lng<=a.lng},intersects:function(t){t=ye(t);var i=this._southWest,a=this._northEast,c=t.getSouthWest(),p=t.getNorthEast(),v=p.lat>=i.lat&&c.lat<=a.lat,P=p.lng>=i.lng&&c.lng<=a.lng;return v&&P},overlaps:function(t){t=ye(t);var i=this._southWest,a=this._northEast,c=t.getSouthWest(),p=t.getNorthEast(),v=p.lat>i.lat&&c.lat<a.lat,P=p.lng>i.lng&&c.lng<a.lng;return v&&P},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,i){return t?(t=ye(t),this._southWest.equals(t.getSouthWest(),i)&&this._northEast.equals(t.getNorthEast(),i)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ye(t,i){return t instanceof xe?t:new xe(t,i)}function pe(t,i,a){if(isNaN(t)||isNaN(i))throw new Error("Invalid LatLng object: ("+t+", "+i+")");this.lat=+t,this.lng=+i,a!==void 0&&(this.alt=+a)}pe.prototype={equals:function(t,i){if(!t)return!1;t=fe(t);var a=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return a<=(i===void 0?1e-9:i)},toString:function(t){return"LatLng("+V(this.lat,t)+", "+V(this.lng,t)+")"},distanceTo:function(t){return Te.distance(this,fe(t))},wrap:function(){return Te.wrapLatLng(this)},toBounds:function(t){var i=180*t/40075017,a=i/Math.cos(Math.PI/180*this.lat);return ye([this.lat-i,this.lng-a],[this.lat+i,this.lng+a])},clone:function(){return new pe(this.lat,this.lng,this.alt)}};function fe(t,i,a){return t instanceof pe?t:$(t)&&typeof t[0]!="object"?t.length===3?new pe(t[0],t[1],t[2]):t.length===2?new pe(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new pe(t.lat,"lng"in t?t.lng:t.lon,t.alt):i===void 0?null:new pe(t,i,a)}var De={latLngToPoint:function(t,i){var a=this.projection.project(t),c=this.scale(i);return this.transformation._transform(a,c)},pointToLatLng:function(t,i){var a=this.scale(i),c=this.transformation.untransform(t,a);return this.projection.unproject(c)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var i=this.projection.bounds,a=this.scale(t),c=this.transformation.transform(i.min,a),p=this.transformation.transform(i.max,a);return new k(c,p)},infinite:!1,wrapLatLng:function(t){var i=this.wrapLng?I(t.lng,this.wrapLng,!0):t.lng,a=this.wrapLat?I(t.lat,this.wrapLat,!0):t.lat,c=t.alt;return new pe(a,i,c)},wrapLatLngBounds:function(t){var i=t.getCenter(),a=this.wrapLatLng(i),c=i.lat-a.lat,p=i.lng-a.lng;if(c===0&&p===0)return t;var v=t.getSouthWest(),P=t.getNorthEast(),F=new pe(v.lat-c,v.lng-p),q=new pe(P.lat-c,P.lng-p);return new xe(F,q)}},Te=g({},De,{wrapLng:[-180,180],R:6371e3,distance:function(t,i){var a=Math.PI/180,c=t.lat*a,p=i.lat*a,v=Math.sin((i.lat-t.lat)*a/2),P=Math.sin((i.lng-t.lng)*a/2),F=v*v+Math.cos(c)*Math.cos(p)*P*P,q=2*Math.atan2(Math.sqrt(F),Math.sqrt(1-F));return this.R*q}}),We=6378137,it={R:We,MAX_LATITUDE:85.0511287798,project:function(t){var i=Math.PI/180,a=this.MAX_LATITUDE,c=Math.max(Math.min(a,t.lat),-a),p=Math.sin(c*i);return new C(this.R*t.lng*i,this.R*Math.log((1+p)/(1-p))/2)},unproject:function(t){var i=180/Math.PI;return new pe((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*i,t.x*i/this.R)},bounds:function(){var t=We*Math.PI;return new k([-t,-t],[t,t])}()};function Tt(t,i,a,c){if($(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=i,this._c=a,this._d=c}Tt.prototype={transform:function(t,i){return this._transform(t.clone(),i)},_transform:function(t,i){return i=i||1,t.x=i*(this._a*t.x+this._b),t.y=i*(this._c*t.y+this._d),t},untransform:function(t,i){return i=i||1,new C((t.x/i-this._b)/this._a,(t.y/i-this._d)/this._c)}};function cn(t,i,a,c){return new Tt(t,i,a,c)}var kt=g({},Te,{code:"EPSG:3857",projection:it,transformation:function(){var t=.5/(Math.PI*it.R);return cn(t,.5,-t,.5)}()}),Wn=g({},kt,{code:"EPSG:900913"});function te(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Oe(t,i){var a="",c,p,v,P,F,q;for(c=0,v=t.length;c<v;c++){for(F=t[c],p=0,P=F.length;p<P;p++)q=F[p],a+=(p?"L":"M")+q.x+" "+q.y;a+=i?Ne.svg?"z":"x":""}return a||"M0 0"}var Ke=document.documentElement.style,un="ActiveXObject"in window,xt=un&&!document.addEventListener,mt="msLaunchUri"in navigator&&!("documentMode"in document),T=Vt("webkit"),Be=Vt("android"),pt=Vt("android 2")||Vt("android 3"),Xt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=Be&&Vt("Google")&&Xt<537&&!("AudioNode"in window),bt=!!window.opera,Ut=!mt&&Vt("chrome"),At=Vt("gecko")&&!T&&!bt&&!un,hs=!Ut&&Vt("safari"),ar=Vt("phantom"),or="OTransition"in Ke,ca=navigator.platform.indexOf("Win")===0,Pi=un&&"transition"in Ke,Zr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!pt,fs="MozPerspective"in Ke,U=!window.L_DISABLE_3D&&(Pi||Zr||fs)&&!or&&!ar,le=typeof orientation<"u"||Vt("mobile"),He=le&&T,$e=le&&Zr,Pe=!window.PointerEvent&&window.MSPointerEvent,je=!!(window.PointerEvent||Pe),Xe="ontouchstart"in window||!!window.TouchEvent,Nn=!window.L_NO_TOUCH&&(Xe||je),en=le&&bt,lr=le&&At,oo=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,lo=function(){var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",b,i),window.removeEventListener("testPassiveEventSupport",b,i)}catch{}return t}(),ua=function(){return!!document.createElement("canvas").getContext}(),ms=!!(document.createElementNS&&te("svg").createSVGRect),Ci=!!ms&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),da=!ms&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var i=t.firstChild;return i.style.behavior="url(#default#VML)",i&&typeof i.adj=="object"}catch{return!1}}(),Li=navigator.platform.indexOf("Mac")===0,zl=navigator.platform.indexOf("Linux")===0;function Vt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Ne={ie:un,ielt9:xt,edge:mt,webkit:T,android:Be,android23:pt,androidStock:st,opera:bt,chrome:Ut,gecko:At,safari:hs,phantom:ar,opera12:or,win:ca,ie3d:Pi,webkit3d:Zr,gecko3d:fs,any3d:U,mobile:le,mobileWebkit:He,mobileWebkit3d:$e,msPointer:Pe,pointer:je,touch:Nn,touchNative:Xe,mobileOpera:en,mobileGecko:lr,retina:oo,passiveEvents:lo,canvas:ua,svg:ms,vml:da,inlineSvg:Ci,mac:Li,linux:zl},Ei=Ne.msPointer?"MSPointerDown":"pointerdown",ps=Ne.msPointer?"MSPointerMove":"pointermove",co=Ne.msPointer?"MSPointerUp":"pointerup",uo=Ne.msPointer?"MSPointerCancel":"pointercancel",ha={touchstart:Ei,touchmove:ps,touchend:co,touchcancel:uo},cr={touchstart:vt,touchmove:gs,touchend:gs,touchcancel:gs},wr={},fa=!1;function Al(t,i,a){return i==="touchstart"&&Dl(),cr[i]?(a=cr[i].bind(this,a),t.addEventListener(ha[i],a,!1),a):(console.warn("wrong event specified:",i),b)}function ho(t,i,a){if(!ha[i]){console.warn("wrong event specified:",i);return}t.removeEventListener(ha[i],a,!1)}function fo(t){wr[t.pointerId]=t}function mo(t){wr[t.pointerId]&&(wr[t.pointerId]=t)}function ma(t){delete wr[t.pointerId]}function Dl(){fa||(document.addEventListener(Ei,fo,!0),document.addEventListener(ps,mo,!0),document.addEventListener(co,ma,!0),document.addEventListener(uo,ma,!0),fa=!0)}function gs(t,i){if(i.pointerType!==(i.MSPOINTER_TYPE_MOUSE||"mouse")){i.touches=[];for(var a in wr)i.touches.push(wr[a]);i.changedTouches=[i],t(i)}}function vt(t,i){i.MSPOINTER_TYPE_TOUCH&&i.pointerType===i.MSPOINTER_TYPE_TOUCH&&yt(i),gs(t,i)}function Bl(t){var i={},a,c;for(c in t)a=t[c],i[c]=a&&a.bind?a.bind(t):a;return t=i,i.type="dblclick",i.detail=2,i.isTrusted=!1,i._simulated=!0,i}var pa=200;function po(t,i){t.addEventListener("dblclick",i);var a=0,c;function p(v){if(v.detail!==1){c=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var P=jr(v);if(!(P.some(function(q){return q instanceof HTMLLabelElement&&q.attributes.for})&&!P.some(function(q){return q instanceof HTMLInputElement||q instanceof HTMLSelectElement}))){var F=Date.now();F-a<=pa?(c++,c===2&&i(Bl(v))):c=1,a=F}}}return t.addEventListener("click",p),{dblclick:i,simDblclick:p}}function xs(t,i){t.removeEventListener("dblclick",i.dblclick),t.removeEventListener("click",i.simDblclick)}var ga=qr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$r=qr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ii=$r==="webkitTransition"||$r==="OTransition"?$r+"End":"transitionend";function bn(t){return typeof t=="string"?document.getElementById(t):t}function Ti(t,i){var a=t.style[i]||t.currentStyle&&t.currentStyle[i];if((!a||a==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(t,null);a=c?c[i]:null}return a==="auto"?null:a}function Fe(t,i,a){var c=document.createElement(t);return c.className=i||"",a&&a.appendChild(c),c}function dt(t){var i=t.parentNode;i&&i.removeChild(t)}function vs(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Vr(t){var i=t.parentNode;i&&i.lastChild!==t&&i.appendChild(t)}function Gn(t){var i=t.parentNode;i&&i.firstChild!==t&&i.insertBefore(t,i.firstChild)}function Hr(t,i){if(t.classList!==void 0)return t.classList.contains(i);var a=ys(t);return a.length>0&&new RegExp("(^|\\s)"+i+"(\\s|$)").test(a)}function Ae(t,i){if(t.classList!==void 0)for(var a=J(i),c=0,p=a.length;c<p;c++)t.classList.add(a[c]);else if(!Hr(t,i)){var v=ys(t);xa(t,(v?v+" ":"")+i)}}function lt(t,i){t.classList!==void 0?t.classList.remove(i):xa(t,G((" "+ys(t)+" ").replace(" "+i+" "," ")))}function xa(t,i){t.className.baseVal===void 0?t.className=i:t.className.baseVal=i}function ys(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Ht(t,i){"opacity"in t.style?t.style.opacity=i:"filter"in t.style&&go(t,i)}function go(t,i){var a=!1,c="DXImageTransform.Microsoft.Alpha";try{a=t.filters.item(c)}catch{if(i===1)return}i=Math.round(i*100),a?(a.Enabled=i!==100,a.Opacity=i):t.style.filter+=" progid:"+c+"(opacity="+i+")"}function qr(t){for(var i=document.documentElement.style,a=0;a<t.length;a++)if(t[a]in i)return t[a];return!1}function jn(t,i,a){var c=i||new C(0,0);t.style[ga]=(Ne.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(a?" scale("+a+")":"")}function jt(t,i){t._leaflet_pos=i,Ne.any3d?jn(t,i):(t.style.left=i.x+"px",t.style.top=i.y+"px")}function Qn(t){return t._leaflet_pos||new C(0,0)}var Je,Wr,_s;if("onselectstart"in document)Je=function(){Me(window,"selectstart",yt)},Wr=function(){at(window,"selectstart",yt)};else{var Nr=qr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Je=function(){if(Nr){var t=document.documentElement.style;_s=t[Nr],t[Nr]="none"}},Wr=function(){Nr&&(document.documentElement.style[Nr]=_s,_s=void 0)}}function ws(){Me(window,"dragstart",yt)}function Ns(){at(window,"dragstart",yt)}var Mi,Oi;function Gr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Sn(),Mi=t,Oi=t.style.outlineStyle,t.style.outlineStyle="none",Me(window,"keydown",Sn))}function Sn(){Mi&&(Mi.style.outlineStyle=Oi,Mi=void 0,Oi=void 0,at(window,"keydown",Sn))}function Kn(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Rn(t){var i=t.getBoundingClientRect();return{x:i.width/t.offsetWidth||1,y:i.height/t.offsetHeight||1,boundingClientRect:i}}var Ri={__proto__:null,TRANSFORM:ga,TRANSITION:$r,TRANSITION_END:Ii,get:bn,getStyle:Ti,create:Fe,remove:dt,empty:vs,toFront:Vr,toBack:Gn,hasClass:Hr,addClass:Ae,removeClass:lt,setClass:xa,getClass:ys,setOpacity:Ht,testProp:qr,setTransform:jn,setPosition:jt,getPosition:Qn,get disableTextSelection(){return Je},get enableTextSelection(){return Wr},disableImageDrag:ws,enableImageDrag:Ns,preventOutline:Gr,restoreOutline:Sn,getSizedParentNode:Kn,getScale:Rn};function Me(t,i,a,c){if(i&&typeof i=="object")for(var p in i)ya(t,p,i[p],a);else{i=J(i);for(var v=0,P=i.length;v<P;v++)ya(t,i[v],a,c)}return this}var Mt="_leaflet_events";function at(t,i,a,c){if(arguments.length===1)va(t),delete t[Mt];else if(i&&typeof i=="object")for(var p in i)bs(t,p,i[p],a);else if(i=J(i),arguments.length===2)va(t,function(F){return D(i,F)!==-1});else for(var v=0,P=i.length;v<P;v++)bs(t,i[v],a,c);return this}function va(t,i){for(var a in t[Mt]){var c=a.split(/\d/)[0];(!i||i(c))&&bs(t,c,null,null,a)}}var br={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ya(t,i,a,c){var p=i+N(a)+(c?"_"+N(c):"");if(t[Mt]&&t[Mt][p])return this;var v=function(F){return a.call(c||t,F||window.event)},P=v;!Ne.touchNative&&Ne.pointer&&i.indexOf("touch")===0?v=Al(t,i,v):Ne.touch&&i==="dblclick"?v=po(t,v):"addEventListener"in t?i==="touchstart"||i==="touchmove"||i==="wheel"||i==="mousewheel"?t.addEventListener(br[i]||i,v,Ne.passiveEvents?{passive:!1}:!1):i==="mouseenter"||i==="mouseleave"?(v=function(F){F=F||window.event,Di(t,F)&&P(F)},t.addEventListener(br[i],v,!1)):t.addEventListener(i,P,!1):t.attachEvent("on"+i,v),t[Mt]=t[Mt]||{},t[Mt][p]=v}function bs(t,i,a,c,p){p=p||i+N(a)+(c?"_"+N(c):"");var v=t[Mt]&&t[Mt][p];if(!v)return this;!Ne.touchNative&&Ne.pointer&&i.indexOf("touch")===0?ho(t,i,v):Ne.touch&&i==="dblclick"?xs(t,v):"removeEventListener"in t?t.removeEventListener(br[i]||i,v,!1):t.detachEvent("on"+i,v),t[Mt][p]=null}function zn(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function js(t){return ya(t,"wheel",zn),this}function zi(t){return Me(t,"mousedown touchstart dblclick contextmenu",zn),t._leaflet_disable_click=!0,this}function yt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function kn(t){return yt(t),zn(t),this}function jr(t){if(t.composedPath)return t.composedPath();for(var i=[],a=t.target;a;)i.push(a),a=a.parentNode;return i}function Ai(t,i){if(!i)return new C(t.clientX,t.clientY);var a=Rn(i),c=a.boundingClientRect;return new C((t.clientX-c.left)/a.x-i.clientLeft,(t.clientY-c.top)/a.y-i.clientTop)}var Fl=Ne.linux&&Ne.chrome?window.devicePixelRatio:Ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function xo(t){return Ne.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Fl:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Di(t,i){var a=i.relatedTarget;if(!a)return!0;try{for(;a&&a!==t;)a=a.parentNode}catch{return!1}return a!==t}var Ss={__proto__:null,on:Me,off:at,stopPropagation:zn,disableScrollPropagation:js,disableClickPropagation:zi,preventDefault:yt,stop:kn,getPropagationPath:jr,getMousePosition:Ai,getWheelDelta:xo,isExternalTarget:Di,addListener:Me,removeListener:at},ks=ce.extend({run:function(t,i,a,c){this.stop(),this._el=t,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Qn(t),this._offset=i.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=me(this._animate,this),this._step()},_step:function(t){var i=+new Date-this._startTime,a=this._duration*1e3;i<a?this._runFrame(this._easeOut(i/a),t):(this._runFrame(1),this._complete())},_runFrame:function(t,i){var a=this._startPos.add(this._offset.multiplyBy(t));i&&a._round(),jt(this._el,a),this.fire("step")},_complete:function(){Ie(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Qe=ce.extend({options:{crs:kt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,i){i=R(this,i),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=y(this._onResize,this),this._initEvents(),i.maxBounds&&this.setMaxBounds(i.maxBounds),i.zoom!==void 0&&(this._zoom=this._limitZoom(i.zoom)),i.center&&i.zoom!==void 0&&this.setView(fe(i.center),i.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$r&&Ne.any3d&&!Ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Me(this._proxy,Ii,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,i,a){if(i=i===void 0?this._zoom:this._limitZoom(i),t=this._limitCenter(fe(t),i,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=g({animate:a.animate},a.zoom),a.pan=g({animate:a.animate,duration:a.duration},a.pan));var c=this._zoom!==i?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,i,a.zoom):this._tryAnimatedPan(t,a.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(t,i,a.pan&&a.pan.noMoveStart),this},setZoom:function(t,i){return this._loaded?this.setView(this.getCenter(),t,{zoom:i}):(this._zoom=t,this)},zoomIn:function(t,i){return t=t||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,i)},zoomOut:function(t,i){return t=t||(Ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,i)},setZoomAround:function(t,i,a){var c=this.getZoomScale(i),p=this.getSize().divideBy(2),v=t instanceof C?t:this.latLngToContainerPoint(t),P=v.subtract(p).multiplyBy(1-1/c),F=this.containerPointToLatLng(p.add(P));return this.setView(F,i,{zoom:a})},_getBoundsCenterZoom:function(t,i){i=i||{},t=t.getBounds?t.getBounds():ye(t);var a=K(i.paddingTopLeft||i.padding||[0,0]),c=K(i.paddingBottomRight||i.padding||[0,0]),p=this.getBoundsZoom(t,!1,a.add(c));if(p=typeof i.maxZoom=="number"?Math.min(i.maxZoom,p):p,p===1/0)return{center:t.getCenter(),zoom:p};var v=c.subtract(a).divideBy(2),P=this.project(t.getSouthWest(),p),F=this.project(t.getNorthEast(),p),q=this.unproject(P.add(F).divideBy(2).add(v),p);return{center:q,zoom:p}},fitBounds:function(t,i){if(t=ye(t),!t.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(t,i);return this.setView(a.center,a.zoom,i)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,i){return this.setView(t,this._zoom,{pan:i})},panBy:function(t,i){if(t=K(t).round(),i=i||{},!t.x&&!t.y)return this.fire("moveend");if(i.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ks,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),i.noMoveStart||this.fire("movestart"),i.animate!==!1){Ae(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,a,i.duration||.25,i.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,i,a){if(a=a||{},a.animate===!1||!Ne.any3d)return this.setView(t,i,a);this._stop();var c=this.project(this.getCenter()),p=this.project(t),v=this.getSize(),P=this._zoom;t=fe(t),i=i===void 0?P:i;var F=Math.max(v.x,v.y),q=F*this.getZoomScale(P,i),ne=p.distanceTo(c)||1,he=1.42,Ce=he*he;function Ve(nt){var ci=nt?-1:1,ec=nt?q:F,tc=q*q-F*F+ci*Ce*Ce*ne*ne,Ir=2*ec*Ce*ne,Tr=tc/Ir,Mr=Math.sqrt(Tr*Tr+1)-Tr,Fs=Mr<1e-9?-18:Math.log(Mr);return Fs}function Ot(nt){return(Math.exp(nt)-Math.exp(-nt))/2}function Lt(nt){return(Math.exp(nt)+Math.exp(-nt))/2}function rn(nt){return Ot(nt)/Lt(nt)}var Wt=Ve(0);function oi(nt){return F*(Lt(Wt)/Lt(Wt+he*nt))}function Fa(nt){return F*(Lt(Wt)*rn(Wt+he*nt)-Ot(Wt))/Ce}function xr(nt){return 1-Math.pow(1-nt,1.5)}var Do=Date.now(),Er=(Ve(1)-Wt)/he,Fn=a.duration?1e3*a.duration:1e3*Er*.8;function li(){var nt=(Date.now()-Do)/Fn,ci=xr(nt)*Er;nt<=1?(this._flyToFrame=me(li,this),this._move(this.unproject(c.add(p.subtract(c).multiplyBy(Fa(ci)/ne)),P),this.getScaleZoom(F/oi(ci),P),{flyTo:!0})):this._move(t,i)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),li.call(this),this},flyToBounds:function(t,i){var a=this._getBoundsCenterZoom(t,i);return this.flyTo(a.center,a.zoom,i)},setMaxBounds:function(t){return t=ye(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var i=this.options.minZoom;return this.options.minZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var i=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&i!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,i){this._enforcingBounds=!0;var a=this.getCenter(),c=this._limitCenter(a,this._zoom,ye(t));return a.equals(c)||this.panTo(c,i),this._enforcingBounds=!1,this},panInside:function(t,i){i=i||{};var a=K(i.paddingTopLeft||i.padding||[0,0]),c=K(i.paddingBottomRight||i.padding||[0,0]),p=this.project(this.getCenter()),v=this.project(t),P=this.getPixelBounds(),F=X([P.min.add(a),P.max.subtract(c)]),q=F.getSize();if(!F.contains(v)){this._enforcingBounds=!0;var ne=v.subtract(F.getCenter()),he=F.extend(v).getSize().subtract(q);p.x+=ne.x<0?-he.x:he.x,p.y+=ne.y<0?-he.y:he.y,this.panTo(this.unproject(p),i),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=g({animate:!1,pan:!0},t===!0?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),c=i.divideBy(2).round(),p=a.divideBy(2).round(),v=c.subtract(p);return!v.x&&!v.y?this:(t.animate&&t.pan?this.panBy(v):(t.pan&&this._rawPanBy(v),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(y(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=g({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=y(this._handleGeolocationResponse,this),a=y(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,a,t):navigator.geolocation.getCurrentPosition(i,a,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var i=t.code,a=t.message||(i===1?"permission denied":i===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:i,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var i=t.coords.latitude,a=t.coords.longitude,c=new pe(i,a),p=c.toBounds(t.coords.accuracy*2),v=this._locateOptions;if(v.setView){var P=this.getBoundsZoom(p);this.setView(c,v.maxZoom?Math.min(P,v.maxZoom):P)}var F={latlng:c,bounds:p,timestamp:t.timestamp};for(var q in t.coords)typeof t.coords[q]=="number"&&(F[q]=t.coords[q]);this.fire("locationfound",F)}},addHandler:function(t,i){if(!i)return this;var a=this[t]=new i(this);return this._handlers.push(a),this.options[t]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),dt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ie(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)dt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,i){var a="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),c=Fe("div",a,i||this._mapPane);return t&&(this._panes[t]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),i=this.unproject(t.getBottomLeft()),a=this.unproject(t.getTopRight());return new xe(i,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,i,a){t=ye(t),a=K(a||[0,0]);var c=this.getZoom()||0,p=this.getMinZoom(),v=this.getMaxZoom(),P=t.getNorthWest(),F=t.getSouthEast(),q=this.getSize().subtract(a),ne=X(this.project(F,c),this.project(P,c)).getSize(),he=Ne.any3d?this.options.zoomSnap:1,Ce=q.x/ne.x,Ve=q.y/ne.y,Ot=i?Math.max(Ce,Ve):Math.min(Ce,Ve);return c=this.getScaleZoom(Ot,c),he&&(c=Math.round(c/(he/100))*(he/100),c=i?Math.ceil(c/he)*he:Math.floor(c/he)*he),Math.max(p,Math.min(v,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new C(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,i){var a=this._getTopLeftPoint(t,i);return new k(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,i){var a=this.options.crs;return i=i===void 0?this._zoom:i,a.scale(t)/a.scale(i)},getScaleZoom:function(t,i){var a=this.options.crs;i=i===void 0?this._zoom:i;var c=a.zoom(t*a.scale(i));return isNaN(c)?1/0:c},project:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.latLngToPoint(fe(t),i)},unproject:function(t,i){return i=i===void 0?this._zoom:i,this.options.crs.pointToLatLng(K(t),i)},layerPointToLatLng:function(t){var i=K(t).add(this.getPixelOrigin());return this.unproject(i)},latLngToLayerPoint:function(t){var i=this.project(fe(t))._round();return i._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(fe(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(ye(t))},distance:function(t,i){return this.options.crs.distance(fe(t),fe(i))},containerPointToLayerPoint:function(t){return K(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return K(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var i=this.containerPointToLayerPoint(K(t));return this.layerPointToLatLng(i)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(fe(t)))},mouseEventToContainerPoint:function(t){return Ai(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var i=this._container=bn(t);if(i){if(i._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Me(i,"scroll",this._onScroll,this),this._containerId=N(i)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ne.any3d,Ae(t,"leaflet-container"+(Ne.touch?" leaflet-touch":"")+(Ne.retina?" leaflet-retina":"")+(Ne.ielt9?" leaflet-oldie":"")+(Ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var i=Ti(t,"position");i!=="absolute"&&i!=="relative"&&i!=="fixed"&&i!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jt(this._mapPane,new C(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ae(t.markerPane,"leaflet-zoom-hide"),Ae(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,i,a){jt(this._mapPane,new C(0,0));var c=!this._loaded;this._loaded=!0,i=this._limitZoom(i),this.fire("viewprereset");var p=this._zoom!==i;this._moveStart(p,a)._move(t,i)._moveEnd(p),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(t,i){return t&&this.fire("zoomstart"),i||this.fire("movestart"),this},_move:function(t,i,a,c){i===void 0&&(i=this._zoom);var p=this._zoom!==i;return this._zoom=i,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),c?a&&a.pinch&&this.fire("zoom",a):((p||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ie(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){jt(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[N(this._container)]=this;var i=t?at:Me;i(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&i(window,"resize",this._onResize,this),Ne.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ie(this._resizeRequest),this._resizeRequest=me(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,i){for(var a=[],c,p=i==="mouseout"||i==="mouseover",v=t.target||t.srcElement,P=!1;v;){if(c=this._targets[N(v)],c&&(i==="click"||i==="preclick")&&this._draggableMoved(c)){P=!0;break}if(c&&c.listens(i,!0)&&(p&&!Di(v,t)||(a.push(c),p))||v===this._container)break;v=v.parentNode}return!a.length&&!P&&!p&&this.listens(i,!0)&&(a=[this]),a},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var i=t.target||t.srcElement;if(!(!this._loaded||i._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(i))){var a=t.type;a==="mousedown"&&Gr(i),this._fireDOMEvent(t,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,i,a){if(t.type==="click"){var c=g({},t);c.type="preclick",this._fireDOMEvent(c,c.type,a)}var p=this._findEventTargets(t,i);if(a){for(var v=[],P=0;P<a.length;P++)a[P].listens(i,!0)&&v.push(a[P]);p=v.concat(p)}if(p.length){i==="contextmenu"&&yt(t);var F=p[0],q={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var ne=F.getLatLng&&(!F._radius||F._radius<=10);q.containerPoint=ne?this.latLngToContainerPoint(F.getLatLng()):this.mouseEventToContainerPoint(t),q.layerPoint=this.containerPointToLayerPoint(q.containerPoint),q.latlng=ne?F.getLatLng():this.layerPointToLatLng(q.layerPoint)}for(P=0;P<p.length;P++)if(p[P].fire(i,q,!0),q.originalEvent._stopped||p[P].options.bubblingMouseEvents===!1&&D(this._mouseEvents,i)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,i=this._handlers.length;t<i;t++)this._handlers[t].disable()},whenReady:function(t,i){return this._loaded?t.call(i||this,{target:this}):this.on("load",t,i),this},_getMapPanePos:function(){return Qn(this._mapPane)||new C(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,i){var a=t&&i!==void 0?this._getNewPixelOrigin(t,i):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,i){var a=this.getSize()._divideBy(2);return this.project(t,i)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,i,a){var c=this._getNewPixelOrigin(a,i);return this.project(t,i)._subtract(c)},_latLngBoundsToNewLayerBounds:function(t,i,a){var c=this._getNewPixelOrigin(a,i);return X([this.project(t.getSouthWest(),i)._subtract(c),this.project(t.getNorthWest(),i)._subtract(c),this.project(t.getSouthEast(),i)._subtract(c),this.project(t.getNorthEast(),i)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,i,a){if(!a)return t;var c=this.project(t,i),p=this.getSize().divideBy(2),v=new k(c.subtract(p),c.add(p)),P=this._getBoundsOffset(v,a,i);return Math.abs(P.x)<=1&&Math.abs(P.y)<=1?t:this.unproject(c.add(P),i)},_limitOffset:function(t,i){if(!i)return t;var a=this.getPixelBounds(),c=new k(a.min.add(t),a.max.add(t));return t.add(this._getBoundsOffset(c,i))},_getBoundsOffset:function(t,i,a){var c=X(this.project(i.getNorthEast(),a),this.project(i.getSouthWest(),a)),p=c.min.subtract(t.min),v=c.max.subtract(t.max),P=this._rebound(p.x,-v.x),F=this._rebound(p.y,-v.y);return new C(P,F)},_rebound:function(t,i){return t+i>0?Math.round(t-i)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(i))},_limitZoom:function(t){var i=this.getMinZoom(),a=this.getMaxZoom(),c=Ne.any3d?this.options.zoomSnap:1;return c&&(t=Math.round(t/c)*c),Math.max(i,Math.min(a,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){lt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,i){var a=this._getCenterOffset(t)._trunc();return(i&&i.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,i),!0)},_createAnimProxy:function(){var t=this._proxy=Fe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(i){var a=ga,c=this._proxy.style[a];jn(this._proxy,this.project(i.center,i.zoom),this.getZoomScale(i.zoom,1)),c===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){dt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),i=this.getZoom();jn(this._proxy,this.project(t,i),this.getZoomScale(i,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,i,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(i-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(i),p=this._getCenterOffset(t)._divideBy(1-1/c);return a.animate!==!0&&!this.getSize().contains(p)?!1:(me(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(t,i,!0)},this),!0)},_animateZoom:function(t,i,a,c){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=i,Ae(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:i,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(y(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&lt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ur(t,i){return new Qe(t,i)}var tn=Ze.extend({options:{position:"topright"},initialize:function(t){R(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var i=this._map;return i&&i.removeControl(this),this.options.position=t,i&&i.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var i=this._container=this.onAdd(t),a=this.getPosition(),c=t._controlCorners[a];return Ae(i,"leaflet-control"),a.indexOf("bottom")!==-1?c.insertBefore(i,c.firstChild):c.appendChild(i),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(dt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),dr=function(t){return new tn(t)};Qe.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},i="leaflet-",a=this._controlContainer=Fe("div",i+"control-container",this._container);function c(p,v){var P=i+p+" "+i+v;t[p+v]=Fe("div",P,a)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)dt(this._controlCorners[t]);dt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var _a=tn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,i,a,c){return a<c?-1:c<a?1:0}},initialize:function(t,i,a){R(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in t)this._addLayer(t[c],c);for(c in i)this._addLayer(i[c],c,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return tn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,i){return this._addLayer(t,i),this._map?this._update():this},addOverlay:function(t,i){return this._addLayer(t,i,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var i=this._getLayer(N(t));return i&&this._layers.splice(this._layers.indexOf(i),1),this._map?this._update():this},expand:function(){Ae(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Ae(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):lt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return lt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",i=this._container=Fe("div",t),a=this.options.collapsed;i.setAttribute("aria-haspopup",!0),zi(i),js(i);var c=this._section=Fe("section",t+"-list");a&&(this._map.on("click",this.collapse,this),Me(i,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var p=this._layersLink=Fe("a",t+"-toggle",i);p.href="#",p.title="Layers",p.setAttribute("role","button"),Me(p,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){yt(v),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=Fe("div",t+"-base",c),this._separator=Fe("div",t+"-separator",c),this._overlaysList=Fe("div",t+"-overlays",c),i.appendChild(c)},_getLayer:function(t){for(var i=0;i<this._layers.length;i++)if(this._layers[i]&&N(this._layers[i].layer)===t)return this._layers[i]},_addLayer:function(t,i,a){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:i,overlay:a}),this.options.sortLayers&&this._layers.sort(y(function(c,p){return this.options.sortFunction(c.layer,p.layer,c.name,p.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vs(this._baseLayersList),vs(this._overlaysList),this._layerControlInputs=[];var t,i,a,c,p=0;for(a=0;a<this._layers.length;a++)c=this._layers[a],this._addItem(c),i=i||c.overlay,t=t||!c.overlay,p+=c.overlay?0:1;return this.options.hideSingleBase&&(t=t&&p>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=i&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var i=this._getLayer(N(t.target)),a=i.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;a&&this._map.fire(a,i)},_createRadioElement:function(t,i){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(i?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=a,c.firstChild},_addItem:function(t){var i=document.createElement("label"),a=this._map.hasLayer(t.layer),c;t.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=a):c=this._createRadioElement("leaflet-base-layers_"+N(this),a),this._layerControlInputs.push(c),c.layerId=N(t.layer),Me(c,"click",this._onInputClick,this);var p=document.createElement("span");p.innerHTML=" "+t.name;var v=document.createElement("span");i.appendChild(v),v.appendChild(c),v.appendChild(p);var P=t.overlay?this._overlaysList:this._baseLayersList;return P.appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,i,a,c=[],p=[];this._handlingClick=!0;for(var v=t.length-1;v>=0;v--)i=t[v],a=this._getLayer(i.layerId).layer,i.checked?c.push(a):i.checked||p.push(a);for(v=0;v<p.length;v++)this._map.hasLayer(p[v])&&this._map.removeLayer(p[v]);for(v=0;v<c.length;v++)this._map.hasLayer(c[v])||this._map.addLayer(c[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,i,a,c=this._map.getZoom(),p=t.length-1;p>=0;p--)i=t[p],a=this._getLayer(i.layerId).layer,i.disabled=a.options.minZoom!==void 0&&c<a.options.minZoom||a.options.maxZoom!==void 0&&c>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Me(t,"click",yt),this.expand();var i=this;setTimeout(function(){at(t,"click",yt),i._preventClick=!1})}}),Ps=function(t,i,a){return new _a(t,i,a)},Qr=tn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var i="leaflet-control-zoom",a=Fe("div",i+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,i+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,i+"-out",a,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,i,a,c,p){var v=Fe("a",a,c);return v.innerHTML=t,v.href="#",v.title=i,v.setAttribute("role","button"),v.setAttribute("aria-label",i),zi(v),Me(v,"click",kn),Me(v,"click",p,this),Me(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var t=this._map,i="leaflet-disabled";lt(this._zoomInButton,i),lt(this._zoomOutButton,i),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Ae(this._zoomOutButton,i),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Ae(this._zoomInButton,i),this._zoomInButton.setAttribute("aria-disabled","true"))}});Qe.mergeOptions({zoomControl:!0}),Qe.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qr,this.addControl(this.zoomControl))});var vo=function(t){return new Qr(t)},qt=tn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var i="leaflet-control-scale",a=Fe("div",i),c=this.options;return this._addScales(c,i+"-line",a),t.on(c.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),a},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,i,a){t.metric&&(this._mScale=Fe("div",i,a)),t.imperial&&(this._iScale=Fe("div",i,a))},_update:function(){var t=this._map,i=t.getSize().y/2,a=t.distance(t.containerPointToLatLng([0,i]),t.containerPointToLatLng([this.options.maxWidth,i]));this._updateScales(a)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var i=this._getRoundNum(t),a=i<1e3?i+" m":i/1e3+" km";this._updateScale(this._mScale,a,i/t)},_updateImperial:function(t){var i=t*3.2808399,a,c,p;i>5280?(a=i/5280,c=this._getRoundNum(a),this._updateScale(this._iScale,c+" mi",c/a)):(p=this._getRoundNum(i),this._updateScale(this._iScale,p+" ft",p/i))},_updateScale:function(t,i,a){t.style.width=Math.round(this.options.maxWidth*a)+"px",t.innerHTML=i},_getRoundNum:function(t){var i=Math.pow(10,(Math.floor(t)+"").length-1),a=t/i;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,i*a}}),Kr=function(t){return new qt(t)},wa='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Sr=tn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ne.inlineSvg?wa+" ":"")+"Leaflet</a>"},initialize:function(t){R(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Fe("div","leaflet-control-attribution"),zi(this._container);for(var i in t._layers)t._layers[i].getAttribution&&this.addAttribution(t._layers[i].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var i in this._attributions)this._attributions[i]&&t.push(i);var a=[];this.options.prefix&&a.push(this.options.prefix),t.length&&a.push(t.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});Qe.mergeOptions({attributionControl:!0}),Qe.addInitHook(function(){this.options.attributionControl&&new Sr().addTo(this)});var Ul=function(t){return new Sr(t)};tn.Layers=_a,tn.Zoom=Qr,tn.Scale=qt,tn.Attribution=Sr,dr.layers=Ps,dr.zoom=vo,dr.scale=Kr,dr.attribution=Ul;var dn=Ze.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});dn.addTo=function(t,i){return t.addHandler(i,this),this};var Na={Events:ke},Jr=Ne.touch?"touchstart mousedown":"mousedown",Pn=ce.extend({options:{clickTolerance:3},initialize:function(t,i,a,c){R(this,c),this._element=t,this._dragStartTarget=i||t,this._preventOutline=a},enable:function(){this._enabled||(Me(this._dragStartTarget,Jr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Pn._dragging===this&&this.finishDrag(!0),at(this._dragStartTarget,Jr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Hr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Pn._dragging===this&&this.finishDrag();return}if(!(Pn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Pn._dragging=this,this._preventOutline&&Gr(this._element),ws(),Je(),!this._moving)){this.fire("down");var i=t.touches?t.touches[0]:t,a=Kn(this._element);this._startPoint=new C(i.clientX,i.clientY),this._startPos=Qn(this._element),this._parentScale=Rn(a);var c=t.type==="mousedown";Me(document,c?"mousemove":"touchmove",this._onMove,this),Me(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var i=t.touches&&t.touches.length===1?t.touches[0]:t,a=new C(i.clientX,i.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,yt(t),this._moved||(this.fire("dragstart"),this._moved=!0,Ae(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ae(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),jt(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){lt(document.body,"leaflet-dragging"),this._lastTarget&&(lt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),at(document,"mousemove touchmove",this._onMove,this),at(document,"mouseup touchend touchcancel",this._onUp,this),Ns(),Wr();var i=this._moved&&this._moving;this._moving=!1,Pn._dragging=!1,i&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function ba(t,i,a){var c,p=[1,4,2,8],v,P,F,q,ne,he,Ce,Ve;for(v=0,he=t.length;v<he;v++)t[v]._code=kr(t[v],i);for(F=0;F<4;F++){for(Ce=p[F],c=[],v=0,he=t.length,P=he-1;v<he;P=v++)q=t[v],ne=t[P],q._code&Ce?ne._code&Ce||(Ve=Ls(ne,q,Ce,i,a),Ve._code=kr(Ve,i),c.push(Ve)):(ne._code&Ce&&(Ve=Ls(ne,q,Ce,i,a),Ve._code=kr(Ve,i),c.push(Ve)),c.push(q));t=c}return t}function yo(t,i){var a,c,p,v,P,F,q,ne,he;if(!t||t.length===0)throw new Error("latlngs not passed");hn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Ce=fe([0,0]),Ve=ye(t),Ot=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());Ot<1700&&(Ce=ja(t));var Lt=t.length,rn=[];for(a=0;a<Lt;a++){var Wt=fe(t[a]);rn.push(i.project(fe([Wt.lat-Ce.lat,Wt.lng-Ce.lng])))}for(F=q=ne=0,a=0,c=Lt-1;a<Lt;c=a++)p=rn[a],v=rn[c],P=p.y*v.x-v.y*p.x,q+=(p.x+v.x)*P,ne+=(p.y+v.y)*P,F+=P*3;F===0?he=rn[0]:he=[q/F,ne/F];var oi=i.unproject(K(he));return fe([oi.lat+Ce.lat,oi.lng+Ce.lng])}function ja(t){for(var i=0,a=0,c=0,p=0;p<t.length;p++){var v=fe(t[p]);i+=v.lat,a+=v.lng,c++}return fe([i/c,a/c])}var Zl={__proto__:null,clipPolygon:ba,polygonCenter:yo,centroid:ja};function Cs(t,i){if(!i||!t.length)return t.slice();var a=i*i;return t=Hl(t,a),t=Vl(t,a),t}function _o(t,i,a){return Math.sqrt(Pr(t,i,a,!0))}function $l(t,i,a){return Pr(t,i,a)}function Vl(t,i){var a=t.length,c=typeof Uint8Array<"u"?Uint8Array:Array,p=new c(a);p[0]=p[a-1]=1,Sa(t,p,i,0,a-1);var v,P=[];for(v=0;v<a;v++)p[v]&&P.push(t[v]);return P}function Sa(t,i,a,c,p){var v=0,P,F,q;for(F=c+1;F<=p-1;F++)q=Pr(t[F],t[c],t[p],!0),q>v&&(P=F,v=q);v>a&&(i[P]=1,Sa(t,i,a,c,P),Sa(t,i,a,P,p))}function Hl(t,i){for(var a=[t[0]],c=1,p=0,v=t.length;c<v;c++)ql(t[c],t[p])>i&&(a.push(t[c]),p=c);return p<v-1&&a.push(t[v-1]),a}var ka;function wo(t,i,a,c,p){var v=c?ka:kr(t,a),P=kr(i,a),F,q,ne;for(ka=P;;){if(!(v|P))return[t,i];if(v&P)return!1;F=v||P,q=Ls(t,i,F,a,p),ne=kr(q,a),F===v?(t=q,v=ne):(i=q,P=ne)}}function Ls(t,i,a,c,p){var v=i.x-t.x,P=i.y-t.y,F=c.min,q=c.max,ne,he;return a&8?(ne=t.x+v*(q.y-t.y)/P,he=q.y):a&4?(ne=t.x+v*(F.y-t.y)/P,he=F.y):a&2?(ne=q.x,he=t.y+P*(q.x-t.x)/v):a&1&&(ne=F.x,he=t.y+P*(F.x-t.x)/v),new C(ne,he,p)}function kr(t,i){var a=0;return t.x<i.min.x?a|=1:t.x>i.max.x&&(a|=2),t.y<i.min.y?a|=4:t.y>i.max.y&&(a|=8),a}function ql(t,i){var a=i.x-t.x,c=i.y-t.y;return a*a+c*c}function Pr(t,i,a,c){var p=i.x,v=i.y,P=a.x-p,F=a.y-v,q=P*P+F*F,ne;return q>0&&(ne=((t.x-p)*P+(t.y-v)*F)/q,ne>1?(p=a.x,v=a.y):ne>0&&(p+=P*ne,v+=F*ne)),P=t.x-p,F=t.y-v,c?P*P+F*F:new C(p,v)}function hn(t){return!$(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function No(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),hn(t)}function bo(t,i){var a,c,p,v,P,F,q,ne;if(!t||t.length===0)throw new Error("latlngs not passed");hn(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var he=fe([0,0]),Ce=ye(t),Ve=Ce.getNorthWest().distanceTo(Ce.getSouthWest())*Ce.getNorthEast().distanceTo(Ce.getNorthWest());Ve<1700&&(he=ja(t));var Ot=t.length,Lt=[];for(a=0;a<Ot;a++){var rn=fe(t[a]);Lt.push(i.project(fe([rn.lat-he.lat,rn.lng-he.lng])))}for(a=0,c=0;a<Ot-1;a++)c+=Lt[a].distanceTo(Lt[a+1])/2;if(c===0)ne=Lt[0];else for(a=0,v=0;a<Ot-1;a++)if(P=Lt[a],F=Lt[a+1],p=P.distanceTo(F),v+=p,v>c){q=(v-c)/p,ne=[F.x-q*(F.x-P.x),F.y-q*(F.y-P.y)];break}var Wt=i.unproject(K(ne));return fe([Wt.lat+he.lat,Wt.lng+he.lng])}var jo={__proto__:null,simplify:Cs,pointToSegmentDistance:_o,closestPointOnSegment:$l,clipSegment:wo,_getEdgeIntersection:Ls,_getBitCode:kr,_sqClosestPointOnSegment:Pr,isFlat:hn,_flat:No,polylineCenter:bo},Pa={project:function(t){return new C(t.lng,t.lat)},unproject:function(t){return new pe(t.y,t.x)},bounds:new k([-180,-90],[180,90])},Ca={R:6378137,R_MINOR:6356752314245179e-9,bounds:new k([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var i=Math.PI/180,a=this.R,c=t.lat*i,p=this.R_MINOR/a,v=Math.sqrt(1-p*p),P=v*Math.sin(c),F=Math.tan(Math.PI/4-c/2)/Math.pow((1-P)/(1+P),v/2);return c=-a*Math.log(Math.max(F,1e-10)),new C(t.lng*i*a,c)},unproject:function(t){for(var i=180/Math.PI,a=this.R,c=this.R_MINOR/a,p=Math.sqrt(1-c*c),v=Math.exp(-t.y/a),P=Math.PI/2-2*Math.atan(v),F=0,q=.1,ne;F<15&&Math.abs(q)>1e-7;F++)ne=p*Math.sin(P),ne=Math.pow((1-ne)/(1+ne),p/2),q=Math.PI/2-2*Math.atan(v*ne)-P,P+=q;return new pe(P*i,t.x*i/a)}},Wl={__proto__:null,LonLat:Pa,Mercator:Ca,SphericalMercator:it},Gl=g({},Te,{code:"EPSG:3395",projection:Ca,transformation:function(){var t=.5/(Math.PI*Ca.R);return cn(t,.5,-t,.5)}()}),So=g({},Te,{code:"EPSG:4326",projection:Pa,transformation:cn(1/180,1,-1/180,.5)}),Ql=g({},De,{projection:Pa,transformation:cn(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,i){var a=i.lng-t.lng,c=i.lat-t.lat;return Math.sqrt(a*a+c*c)},infinite:!0});De.Earth=Te,De.EPSG3395=Gl,De.EPSG3857=kt,De.EPSG900913=Wn,De.EPSG4326=So,De.Simple=Ql;var Cn=ce.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[N(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[N(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var i=t.target;if(i.hasLayer(this)){if(this._map=i,this._zoomAnimated=i._zoomAnimated,this.getEvents){var a=this.getEvents();i.on(a,this),this.once("remove",function(){i.off(a,this)},this)}this.onAdd(i),this.fire("add"),i.fire("layeradd",{layer:this})}}});Qe.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var i=N(t);return this._layers[i]?this:(this._layers[i]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var i=N(t);return this._layers[i]?(this._loaded&&t.onRemove(this),delete this._layers[i],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return N(t)in this._layers},eachLayer:function(t,i){for(var a in this._layers)t.call(i,this._layers[a]);return this},_addLayers:function(t){t=t?$(t)?t:[t]:[];for(var i=0,a=t.length;i<a;i++)this.addLayer(t[i])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[N(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var i=N(t);this._zoomBoundLayers[i]&&(delete this._zoomBoundLayers[i],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,i=-1/0,a=this._getZoomSpan();for(var c in this._zoomBoundLayers){var p=this._zoomBoundLayers[c].options;t=p.minZoom===void 0?t:Math.min(t,p.minZoom),i=p.maxZoom===void 0?i:Math.max(i,p.maxZoom)}this._layersMaxZoom=i===-1/0?void 0:i,this._layersMinZoom=t===1/0?void 0:t,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var hr=Cn.extend({initialize:function(t,i){R(this,i),this._layers={};var a,c;if(t)for(a=0,c=t.length;a<c;a++)this.addLayer(t[a])},addLayer:function(t){var i=this.getLayerId(t);return this._layers[i]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var i=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[i]&&this._map.removeLayer(this._layers[i]),delete this._layers[i],this},hasLayer:function(t){var i=typeof t=="number"?t:this.getLayerId(t);return i in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var i=Array.prototype.slice.call(arguments,1),a,c;for(a in this._layers)c=this._layers[a],c[t]&&c[t].apply(c,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,i){for(var a in this._layers)t.call(i,this._layers[a]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return N(t)}}),Bi=function(t,i){return new hr(t,i)},Jn=hr.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),hr.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),hr.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new xe;for(var i in this._layers){var a=this._layers[i];t.extend(a.getBounds?a.getBounds():a.getLatLng())}return t}}),ko=function(t,i){return new Jn(t,i)},Cr=Ze.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){R(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,i){var a=this._getIconUrl(t);if(!a){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(a,i&&i.tagName==="IMG"?i:null);return this._setIconStyles(c,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(t,i){var a=this.options,c=a[i+"Size"];typeof c=="number"&&(c=[c,c]);var p=K(c),v=K(i==="shadow"&&a.shadowAnchor||a.iconAnchor||p&&p.divideBy(2,!0));t.className="leaflet-marker-"+i+" "+(a.className||""),v&&(t.style.marginLeft=-v.x+"px",t.style.marginTop=-v.y+"px"),p&&(t.style.width=p.x+"px",t.style.height=p.y+"px")},_createImg:function(t,i){return i=i||document.createElement("img"),i.src=t,i},_getIconUrl:function(t){return Ne.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Po(t){return new Cr(t)}var Yr=Cr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Yr.imagePath!="string"&&(Yr.imagePath=this._detectIconPath()),(this.options.imagePath||Yr.imagePath)+Cr.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var i=function(a,c,p){var v=c.exec(a);return v&&v[p]};return t=i(t,/^url\((['"])?(.+)\1\)$/,2),t&&i(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Fe("div","leaflet-default-icon-path",document.body),i=Ti(t,"background-image")||Ti(t,"backgroundImage");if(document.body.removeChild(t),i=this._stripUrl(i),i)return i;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),La=dn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Pn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ae(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&lt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var i=this._marker,a=i._map,c=this._marker.options.autoPanSpeed,p=this._marker.options.autoPanPadding,v=Qn(i._icon),P=a.getPixelBounds(),F=a.getPixelOrigin(),q=X(P.min._subtract(F).add(p),P.max._subtract(F).subtract(p));if(!q.contains(v)){var ne=K((Math.max(q.max.x,v.x)-q.max.x)/(P.max.x-q.max.x)-(Math.min(q.min.x,v.x)-q.min.x)/(P.min.x-q.min.x),(Math.max(q.max.y,v.y)-q.max.y)/(P.max.y-q.max.y)-(Math.min(q.min.y,v.y)-q.min.y)/(P.min.y-q.min.y)).multiplyBy(c);a.panBy(ne,{animate:!1}),this._draggable._newPos._add(ne),this._draggable._startPos._add(ne),jt(i._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=me(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Ie(this._panRequest),this._panRequest=me(this._adjustPan.bind(this,t)))},_onDrag:function(t){var i=this._marker,a=i._shadow,c=Qn(i._icon),p=i._map.layerPointToLatLng(c);a&&jt(a,c),i._latlng=p,t.latlng=p,t.oldLatLng=this._oldLatLng,i.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Ie(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Yn=Cn.extend({options:{icon:new Yr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,i){R(this,i),this._latlng=fe(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var i=this._latlng;return this._latlng=fe(t),this.update(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,i="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=t.icon.createIcon(this._icon),c=!1;a!==this._icon&&(this._icon&&this._removeIcon(),c=!0,t.title&&(a.title=t.title),a.tagName==="IMG"&&(a.alt=t.alt||"")),Ae(a,i),t.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Me(a,"focus",this._panOnFocus,this);var p=t.icon.createShadow(this._shadow),v=!1;p!==this._shadow&&(this._removeShadow(),v=!0),p&&(Ae(p,i),p.alt=""),this._shadow=p,t.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),p&&v&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&at(this._icon,"focus",this._panOnFocus,this),dt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&dt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&jt(this._icon,t),this._shadow&&jt(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(i)},_initInteraction:function(){if(this.options.interactive&&(Ae(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),La)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new La(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Ht(this._icon,t),this._shadow&&Ht(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var i=this.options.icon.options,a=i.iconSize?K(i.iconSize):K(0,0),c=i.iconAnchor?K(i.iconAnchor):K(0,0);t.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:a.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Kl(t,i){return new Yn(t,i)}var fr=Cn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return R(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Es=fr.extend({options:{fill:!0,radius:10},initialize:function(t,i){R(this,i),this._latlng=fe(t),this._radius=this.options.radius},setLatLng:function(t){var i=this._latlng;return this._latlng=fe(t),this.redraw(),this.fire("move",{oldLatLng:i,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var i=t&&t.radius||this._radius;return fr.prototype.setStyle.call(this,t),this.setRadius(i),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,i=this._radiusY||t,a=this._clickTolerance(),c=[t+a,i+a];this._pxBounds=new k(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Co(t,i){return new Es(t,i)}var Is=Es.extend({initialize:function(t,i,a){if(typeof i=="number"&&(i=g({},a,{radius:i})),R(this,i),this._latlng=fe(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:fr.prototype.setStyle,_project:function(){var t=this._latlng.lng,i=this._latlng.lat,a=this._map,c=a.options.crs;if(c.distance===Te.distance){var p=Math.PI/180,v=this._mRadius/Te.R/p,P=a.project([i+v,t]),F=a.project([i-v,t]),q=P.add(F).divideBy(2),ne=a.unproject(q).lat,he=Math.acos((Math.cos(v*p)-Math.sin(i*p)*Math.sin(ne*p))/(Math.cos(i*p)*Math.cos(ne*p)))/p;(isNaN(he)||he===0)&&(he=v/Math.cos(Math.PI/180*i)),this._point=q.subtract(a.getPixelOrigin()),this._radius=isNaN(he)?0:q.x-a.project([ne,t-he]).x,this._radiusY=q.y-P.y}else{var Ce=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(Ce).x}this._updateBounds()}});function Fi(t,i,a){return new Is(t,i,a)}var nn=fr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,i){R(this,i),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var i=1/0,a=null,c=Pr,p,v,P=0,F=this._parts.length;P<F;P++)for(var q=this._parts[P],ne=1,he=q.length;ne<he;ne++){p=q[ne-1],v=q[ne];var Ce=c(t,p,v,!0);Ce<i&&(i=Ce,a=c(t,p,v))}return a&&(a.distance=Math.sqrt(i)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bo(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,i){return i=i||this._defaultShape(),t=fe(t),i.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new xe,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return hn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var i=[],a=hn(t),c=0,p=t.length;c<p;c++)a?(i[c]=fe(t[c]),this._bounds.extend(i[c])):i[c]=this._convertLatLngs(t[c]);return i},_project:function(){var t=new k;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),i=new C(t,t);this._rawPxBounds&&(this._pxBounds=new k([this._rawPxBounds.min.subtract(i),this._rawPxBounds.max.add(i)]))},_projectLatlngs:function(t,i,a){var c=t[0]instanceof pe,p=t.length,v,P;if(c){for(P=[],v=0;v<p;v++)P[v]=this._map.latLngToLayerPoint(t[v]),a.extend(P[v]);i.push(P)}else for(v=0;v<p;v++)this._projectLatlngs(t[v],i,a)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var i=this._parts,a,c,p,v,P,F,q;for(a=0,p=0,v=this._rings.length;a<v;a++)for(q=this._rings[a],c=0,P=q.length;c<P-1;c++)F=wo(q[c],q[c+1],t,c,!0),F&&(i[p]=i[p]||[],i[p].push(F[0]),(F[1]!==q[c+1]||c===P-2)&&(i[p].push(F[1]),p++))}},_simplifyPoints:function(){for(var t=this._parts,i=this.options.smoothFactor,a=0,c=t.length;a<c;a++)t[a]=Cs(t[a],i)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,i){var a,c,p,v,P,F,q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(a=0,v=this._parts.length;a<v;a++)for(F=this._parts[a],c=0,P=F.length,p=P-1;c<P;p=c++)if(!(!i&&c===0)&&_o(t,F[p],F[c])<=q)return!0;return!1}});function Jl(t,i){return new nn(t,i)}nn._flat=No;var Xn=nn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var i=nn.prototype._convertLatLngs.call(this,t),a=i.length;return a>=2&&i[0]instanceof pe&&i[0].equals(i[a-1])&&i.pop(),i},_setLatLngs:function(t){nn.prototype._setLatLngs.call(this,t),hn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return hn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,i=this.options.weight,a=new C(i,i);if(t=new k(t.min.subtract(a),t.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,p=this._rings.length,v;c<p;c++)v=ba(this._rings[c],t,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var i=!1,a,c,p,v,P,F,q,ne;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(v=0,q=this._parts.length;v<q;v++)for(a=this._parts[v],P=0,ne=a.length,F=ne-1;P<ne;F=P++)c=a[P],p=a[F],c.y>t.y!=p.y>t.y&&t.x<(p.x-c.x)*(t.y-c.y)/(p.y-c.y)+c.x&&(i=!i);return i||nn.prototype._containsPoint.call(this,t,!0)}});function Yl(t,i){return new Xn(t,i)}var An=Jn.extend({initialize:function(t,i){R(this,i),this._layers={},t&&this.addData(t)},addData:function(t){var i=$(t)?t:t.features,a,c,p;if(i){for(a=0,c=i.length;a<c;a++)p=i[a],(p.geometries||p.geometry||p.features||p.coordinates)&&this.addData(p);return this}var v=this.options;if(v.filter&&!v.filter(t))return this;var P=Xr(t,v);return P?(P.feature=zs(t),P.defaultOptions=P.options,this.resetStyle(P),v.onEachFeature&&v.onEachFeature(t,P),this.addLayer(P)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=g({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(i){this._setLayerStyle(i,t)},this)},_setLayerStyle:function(t,i){t.setStyle&&(typeof i=="function"&&(i=i(t.feature)),t.setStyle(i))}});function Xr(t,i){var a=t.type==="Feature"?t.geometry:t,c=a?a.coordinates:null,p=[],v=i&&i.pointToLayer,P=i&&i.coordsToLatLng||Ms,F,q,ne,he;if(!c&&!a)return null;switch(a.type){case"Point":return F=P(c),Ts(v,t,F,i);case"MultiPoint":for(ne=0,he=c.length;ne<he;ne++)F=P(c[ne]),p.push(Ts(v,t,F,i));return new Jn(p);case"LineString":case"MultiLineString":return q=Ui(c,a.type==="LineString"?0:1,P),new nn(q,i);case"Polygon":case"MultiPolygon":return q=Ui(c,a.type==="Polygon"?1:2,P),new Xn(q,i);case"GeometryCollection":for(ne=0,he=a.geometries.length;ne<he;ne++){var Ce=Xr({geometry:a.geometries[ne],type:"Feature",properties:t.properties},i);Ce&&p.push(Ce)}return new Jn(p);case"FeatureCollection":for(ne=0,he=a.features.length;ne<he;ne++){var Ve=Xr(a.features[ne],i);Ve&&p.push(Ve)}return new Jn(p);default:throw new Error("Invalid GeoJSON object.")}}function Ts(t,i,a,c){return t?t(i,a):new Yn(a,c&&c.markersInheritOptions&&c)}function Ms(t){return new pe(t[1],t[0],t[2])}function Ui(t,i,a){for(var c=[],p=0,v=t.length,P;p<v;p++)P=i?Ui(t[p],i-1,a):(a||Ms)(t[p]),c.push(P);return c}function Os(t,i){return t=fe(t),t.alt!==void 0?[V(t.lng,i),V(t.lat,i),V(t.alt,i)]:[V(t.lng,i),V(t.lat,i)]}function Rs(t,i,a,c){for(var p=[],v=0,P=t.length;v<P;v++)p.push(i?Rs(t[v],hn(t[v])?0:i-1,a,c):Os(t[v],c));return!i&&a&&p.length>0&&p.push(p[0].slice()),p}function ei(t,i){return t.feature?g({},t.feature,{geometry:i}):zs(i)}function zs(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Ea={toGeoJSON:function(t){return ei(this,{type:"Point",coordinates:Os(this.getLatLng(),t)})}};Yn.include(Ea),Is.include(Ea),Es.include(Ea),nn.include({toGeoJSON:function(t){var i=!hn(this._latlngs),a=Rs(this._latlngs,i?1:0,!1,t);return ei(this,{type:(i?"Multi":"")+"LineString",coordinates:a})}}),Xn.include({toGeoJSON:function(t){var i=!hn(this._latlngs),a=i&&!hn(this._latlngs[0]),c=Rs(this._latlngs,a?2:i?1:0,!0,t);return i||(c=[c]),ei(this,{type:(a?"Multi":"")+"Polygon",coordinates:c})}}),hr.include({toMultiPoint:function(t){var i=[];return this.eachLayer(function(a){i.push(a.toGeoJSON(t).geometry.coordinates)}),ei(this,{type:"MultiPoint",coordinates:i})},toGeoJSON:function(t){var i=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(i==="MultiPoint")return this.toMultiPoint(t);var a=i==="GeometryCollection",c=[];return this.eachLayer(function(p){if(p.toGeoJSON){var v=p.toGeoJSON(t);if(a)c.push(v.geometry);else{var P=zs(v);P.type==="FeatureCollection"?c.push.apply(c,P.features):c.push(P)}}}),a?ei(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Lo(t,i){return new An(t,i)}var Ln=Lo,mr=Cn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,i,a){this._url=t,this._bounds=ye(i),R(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ae(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){dt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Vr(this._image),this},bringToBack:function(){return this._map&&Gn(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=ye(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",i=this._image=t?this._url:Fe("img");if(Ae(i,"leaflet-image-layer"),this._zoomAnimated&&Ae(i,"leaflet-zoom-animated"),this.options.className&&Ae(i,this.options.className),i.onselectstart=b,i.onmousemove=b,i.onload=y(this.fire,this,"load"),i.onerror=y(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=i.src;return}i.src=this._url,i.alt=this.options.alt},_animateZoom:function(t){var i=this._map.getZoomScale(t.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;jn(this._image,a,i)},_reset:function(){var t=this._image,i=new k(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=i.getSize();jt(t,i.min),t.style.width=a.x+"px",t.style.height=a.y+"px"},_updateOpacity:function(){Ht(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Eo=function(t,i,a){return new mr(t,i,a)},Ia=mr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",i=this._image=t?this._url:Fe("video");if(Ae(i,"leaflet-image-layer"),this._zoomAnimated&&Ae(i,"leaflet-zoom-animated"),this.options.className&&Ae(i,this.options.className),i.onselectstart=b,i.onmousemove=b,i.onloadeddata=y(this.fire,this,"load"),t){for(var a=i.getElementsByTagName("source"),c=[],p=0;p<a.length;p++)c.push(a[p].src);this._url=a.length>0?c:[i.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(i.style,"objectFit")&&(i.style.objectFit="fill"),i.autoplay=!!this.options.autoplay,i.loop=!!this.options.loop,i.muted=!!this.options.muted,i.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var P=Fe("source");P.src=this._url[v],i.appendChild(P)}}});function Io(t,i,a){return new Ia(t,i,a)}var Ta=mr.extend({_initImage:function(){var t=this._image=this._url;Ae(t,"leaflet-image-layer"),this._zoomAnimated&&Ae(t,"leaflet-zoom-animated"),this.options.className&&Ae(t,this.options.className),t.onselectstart=b,t.onmousemove=b}});function Ma(t,i,a){return new Ta(t,i,a)}var Dn=Cn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,i){t&&(t instanceof pe||$(t))?(this._latlng=fe(t),R(this,i)):(R(this,t),this._source=i),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ht(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ht(this._container,1),this.bringToFront(),this.options.interactive&&(Ae(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Ht(this._container,0),this._removeTimeout=setTimeout(y(dt,void 0,this._container),200)):dt(this._container),this.options.interactive&&(lt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=fe(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vr(this._container),this},bringToBack:function(){return this._map&&Gn(this._container),this},_prepareOpen:function(t){var i=this._source;if(!i._map)return!1;if(i instanceof Jn){i=null;var a=this._source._layers;for(var c in a)if(a[c]._map){i=a[c];break}if(!i)return!1;this._source=i}if(!t)if(i.getCenter)t=i.getCenter();else if(i.getLatLng)t=i.getLatLng();else if(i.getBounds)t=i.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,i=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof i=="string")t.innerHTML=i;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(i)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),i=K(this.options.offset),a=this._getAnchor();this._zoomAnimated?jt(this._container,t.add(a)):i=i.add(t).add(a);var c=this._containerBottom=-i.y,p=this._containerLeft=-Math.round(this._containerWidth/2)+i.x;this._container.style.bottom=c+"px",this._container.style.left=p+"px"}},_getAnchor:function(){return[0,0]}});Qe.include({_initOverlay:function(t,i,a,c){var p=i;return p instanceof t||(p=new t(c).setContent(i)),a&&p.setLatLng(a),p}}),Cn.include({_initOverlay:function(t,i,a,c){var p=a;return p instanceof t?(R(p,c),p._source=this):(p=i&&!c?i:new t(c,this),p.setContent(a)),p}});var As=Dn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,Dn.prototype.openOn.call(this,t)},onAdd:function(t){Dn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof fr||this._source.on("preclick",zn))},onRemove:function(t){Dn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof fr||this._source.off("preclick",zn))},getEvents:function(){var t=Dn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",i=this._container=Fe("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=Fe("div",t+"-content-wrapper",i);if(this._contentNode=Fe("div",t+"-content",a),zi(i),js(this._contentNode),Me(i,"contextmenu",zn),this._tipContainer=Fe("div",t+"-tip-container",i),this._tip=Fe("div",t+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=Fe("a",t+"-close-button",i);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',Me(c,"click",function(p){yt(p),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,i=t.style;i.width="",i.whiteSpace="nowrap";var a=t.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),i.width=a+1+"px",i.whiteSpace="",i.height="";var c=t.offsetHeight,p=this.options.maxHeight,v="leaflet-popup-scrolled";p&&c>p?(i.height=p+"px",Ae(t,v)):lt(t,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),a=this._getAnchor();jt(this._container,i.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,i=parseInt(Ti(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+i,c=this._containerWidth,p=new C(this._containerLeft,-a-this._containerBottom);p._add(Qn(this._container));var v=t.layerPointToContainerPoint(p),P=K(this.options.autoPanPadding),F=K(this.options.autoPanPaddingTopLeft||P),q=K(this.options.autoPanPaddingBottomRight||P),ne=t.getSize(),he=0,Ce=0;v.x+c+q.x>ne.x&&(he=v.x+c-ne.x+q.x),v.x-he-F.x<0&&(he=v.x-F.x),v.y+a+q.y>ne.y&&(Ce=v.y+a-ne.y+q.y),v.y-Ce-F.y<0&&(Ce=v.y-F.y),(he||Ce)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([he,Ce]))}},_getAnchor:function(){return K(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ti=function(t,i){return new As(t,i)};Qe.mergeOptions({closePopupOnClick:!0}),Qe.include({openPopup:function(t,i,a){return this._initOverlay(As,t,i,a).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Cn.include({bindPopup:function(t,i){return this._popup=this._initOverlay(As,this._popup,t,i),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof Jn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){kn(t);var i=t.layer||t.target;if(this._popup._source===i&&!(i instanceof fr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=i,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var ni=Dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){Dn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){Dn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=Dn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",i=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Fe("div",i),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+N(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var i,a,c=this._map,p=this._container,v=c.latLngToContainerPoint(c.getCenter()),P=c.layerPointToContainerPoint(t),F=this.options.direction,q=p.offsetWidth,ne=p.offsetHeight,he=K(this.options.offset),Ce=this._getAnchor();F==="top"?(i=q/2,a=ne):F==="bottom"?(i=q/2,a=0):F==="center"?(i=q/2,a=ne/2):F==="right"?(i=0,a=ne/2):F==="left"?(i=q,a=ne/2):P.x<v.x?(F="right",i=0,a=ne/2):(F="left",i=q+(he.x+Ce.x)*2,a=ne/2),t=t.subtract(K(i,a,!0)).add(he).add(Ce),lt(p,"leaflet-tooltip-right"),lt(p,"leaflet-tooltip-left"),lt(p,"leaflet-tooltip-top"),lt(p,"leaflet-tooltip-bottom"),Ae(p,"leaflet-tooltip-"+F),jt(p,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ht(this._container,t)},_animateZoom:function(t){var i=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(i)},_getAnchor:function(){return K(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Zi=function(t,i){return new ni(t,i)};Qe.include({openTooltip:function(t,i,a){return this._initOverlay(ni,t,i,a).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Cn.include({bindTooltip:function(t,i){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ni,this._tooltip,t,i),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var i=t?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[i](a),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof Jn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&(Me(i,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Me(i,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var i=typeof t.getElement=="function"&&t.getElement();i&&i.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var i=this;this._map.once("moveend",function(){i._openOnceFlag=!1,i._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var i=t.latlng,a,c;this._tooltip.options.sticky&&t.originalEvent&&(a=this._map.mouseEventToContainerPoint(t.originalEvent),c=this._map.containerPointToLayerPoint(a),i=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(i)}});var Ds=Cr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var i=t&&t.tagName==="DIV"?t:document.createElement("div"),a=this.options;if(a.html instanceof Element?(vs(i),i.appendChild(a.html)):i.innerHTML=a.html!==!1?a.html:"",a.bgPos){var c=K(a.bgPos);i.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(i,"icon"),i},createShadow:function(){return null}});function To(t){return new Ds(t)}Cr.Default=Yr;var pr=Cn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){R(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),dt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gn(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=O(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof C?t:new C(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var i=this.getPane().children,a=-t(-1/0,1/0),c=0,p=i.length,v;c<p;c++)v=i[c].style.zIndex,i[c]!==this._container&&v&&(a=t(a,+v));isFinite(a)&&(this.options.zIndex=a+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ne.ielt9){Ht(this._container,this.options.opacity);var t=+new Date,i=!1,a=!1;for(var c in this._tiles){var p=this._tiles[c];if(!(!p.current||!p.loaded)){var v=Math.min(1,(t-p.loaded)/200);Ht(p.el,v),v<1?i=!0:(p.active?a=!0:this._onOpaqueTile(p),p.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),i&&(Ie(this._fadeFrame),this._fadeFrame=me(this._updateOpacity,this))}},_onOpaqueTile:b,_initContainer:function(){this._container||(this._container=Fe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,i=this.options.maxZoom;if(t!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===t?(this._levels[a].el.style.zIndex=i-Math.abs(t-a),this._onUpdateLevel(a)):(dt(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var c=this._levels[t],p=this._map;return c||(c=this._levels[t]={},c.el=Fe("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=i,c.origin=p.project(p.unproject(p.getPixelOrigin()),t).round(),c.zoom=t,this._setZoomTransform(c,p.getCenter(),p.getZoom()),b(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:b,_onRemoveLevel:b,_onCreateLevel:b,_pruneTiles:function(){if(this._map){var t,i,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)i=this._tiles[t],i.retain=i.current;for(t in this._tiles)if(i=this._tiles[t],i.current&&!i.active){var c=i.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var i in this._tiles)this._tiles[i].coords.z===t&&this._removeTile(i)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)dt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,i,a,c){var p=Math.floor(t/2),v=Math.floor(i/2),P=a-1,F=new C(+p,+v);F.z=+P;var q=this._tileCoordsToKey(F),ne=this._tiles[q];return ne&&ne.active?(ne.retain=!0,!0):(ne&&ne.loaded&&(ne.retain=!0),P>c?this._retainParent(p,v,P,c):!1)},_retainChildren:function(t,i,a,c){for(var p=2*t;p<2*t+2;p++)for(var v=2*i;v<2*i+2;v++){var P=new C(p,v);P.z=a+1;var F=this._tileCoordsToKey(P),q=this._tiles[F];if(q&&q.active){q.retain=!0;continue}else q&&q.loaded&&(q.retain=!0);a+1<c&&this._retainChildren(p,v,a+1,c)}},_resetView:function(t){var i=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),i,i)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var i=this.options;return i.minNativeZoom!==void 0&&t<i.minNativeZoom?i.minNativeZoom:i.maxNativeZoom!==void 0&&i.maxNativeZoom<t?i.maxNativeZoom:t},_setView:function(t,i,a,c){var p=Math.round(i);this.options.maxZoom!==void 0&&p>this.options.maxZoom||this.options.minZoom!==void 0&&p<this.options.minZoom?p=void 0:p=this._clampZoom(p);var v=this.options.updateWhenZooming&&p!==this._tileZoom;(!c||v)&&(this._tileZoom=p,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),p!==void 0&&this._update(t),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(t,i)},_setZoomTransforms:function(t,i){for(var a in this._levels)this._setZoomTransform(this._levels[a],t,i)},_setZoomTransform:function(t,i,a){var c=this._map.getZoomScale(a,t.zoom),p=t.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(i,a)).round();Ne.any3d?jn(t.el,p,c):jt(t.el,p)},_resetGrid:function(){var t=this._map,i=t.options.crs,a=this._tileSize=this.getTileSize(),c=this._tileZoom,p=this._map.getPixelWorldBounds(this._tileZoom);p&&(this._globalTileRange=this._pxBoundsToTileRange(p)),this._wrapX=i.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,i.wrapLng[0]],c).x/a.x),Math.ceil(t.project([0,i.wrapLng[1]],c).x/a.y)],this._wrapY=i.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([i.wrapLat[0],0],c).y/a.x),Math.ceil(t.project([i.wrapLat[1],0],c).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var i=this._map,a=i._animatingZoom?Math.max(i._animateToZoom,i.getZoom()):i.getZoom(),c=i.getZoomScale(a,this._tileZoom),p=i.project(t,this._tileZoom).floor(),v=i.getSize().divideBy(c*2);return new k(p.subtract(v),p.add(v))},_update:function(t){var i=this._map;if(i){var a=this._clampZoom(i.getZoom());if(t===void 0&&(t=i.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(t),p=this._pxBoundsToTileRange(c),v=p.getCenter(),P=[],F=this.options.keepBuffer,q=new k(p.getBottomLeft().subtract([F,-F]),p.getTopRight().add([F,-F]));if(!(isFinite(p.min.x)&&isFinite(p.min.y)&&isFinite(p.max.x)&&isFinite(p.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ne in this._tiles){var he=this._tiles[ne].coords;(he.z!==this._tileZoom||!q.contains(new C(he.x,he.y)))&&(this._tiles[ne].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(t,a);return}for(var Ce=p.min.y;Ce<=p.max.y;Ce++)for(var Ve=p.min.x;Ve<=p.max.x;Ve++){var Ot=new C(Ve,Ce);if(Ot.z=this._tileZoom,!!this._isValidTile(Ot)){var Lt=this._tiles[this._tileCoordsToKey(Ot)];Lt?Lt.current=!0:P.push(Ot)}}if(P.sort(function(Wt,oi){return Wt.distanceTo(v)-oi.distanceTo(v)}),P.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var rn=document.createDocumentFragment();for(Ve=0;Ve<P.length;Ve++)this._addTile(P[Ve],rn);this._level.el.appendChild(rn)}}}},_isValidTile:function(t){var i=this._map.options.crs;if(!i.infinite){var a=this._globalTileRange;if(!i.wrapLng&&(t.x<a.min.x||t.x>a.max.x)||!i.wrapLat&&(t.y<a.min.y||t.y>a.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(t);return ye(this.options.bounds).overlaps(c)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var i=this._map,a=this.getTileSize(),c=t.scaleBy(a),p=c.add(a),v=i.unproject(c,t.z),P=i.unproject(p,t.z);return[v,P]},_tileCoordsToBounds:function(t){var i=this._tileCoordsToNwSe(t),a=new xe(i[0],i[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var i=t.split(":"),a=new C(+i[0],+i[1]);return a.z=+i[2],a},_removeTile:function(t){var i=this._tiles[t];i&&(dt(i.el),delete this._tiles[t],this.fire("tileunload",{tile:i.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Ae(t,"leaflet-tile");var i=this.getTileSize();t.style.width=i.x+"px",t.style.height=i.y+"px",t.onselectstart=b,t.onmousemove=b,Ne.ielt9&&this.options.opacity<1&&Ht(t,this.options.opacity)},_addTile:function(t,i){var a=this._getTilePos(t),c=this._tileCoordsToKey(t),p=this.createTile(this._wrapCoords(t),y(this._tileReady,this,t));this._initTile(p),this.createTile.length<2&&me(y(this._tileReady,this,t,null,p)),jt(p,a),this._tiles[c]={el:p,coords:t,current:!0},i.appendChild(p),this.fire("tileloadstart",{tile:p,coords:t})},_tileReady:function(t,i,a){i&&this.fire("tileerror",{error:i,tile:a,coords:t});var c=this._tileCoordsToKey(t);a=this._tiles[c],a&&(a.loaded=+new Date,this._map._fadeAnimated?(Ht(a.el,0),Ie(this._fadeFrame),this._fadeFrame=me(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),i||(Ae(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ne.ielt9||!this._map._fadeAnimated?me(this._pruneTiles,this):setTimeout(y(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var i=new C(this._wrapX?I(t.x,this._wrapX):t.x,this._wrapY?I(t.y,this._wrapY):t.y);return i.z=t.z,i},_pxBoundsToTileRange:function(t){var i=this.getTileSize();return new k(t.min.unscaleBy(i).floor(),t.max.unscaleBy(i).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function ri(t){return new pr(t)}var gr=pr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,i){this._url=t,i=R(this,i),i.detectRetina&&Ne.retina&&i.maxZoom>0?(i.tileSize=Math.floor(i.tileSize/2),i.zoomReverse?(i.zoomOffset--,i.minZoom=Math.min(i.maxZoom,i.minZoom+1)):(i.zoomOffset++,i.maxZoom=Math.max(i.minZoom,i.maxZoom-1)),i.minZoom=Math.max(0,i.minZoom)):i.zoomReverse?i.minZoom=Math.min(i.maxZoom,i.minZoom):i.maxZoom=Math.max(i.minZoom,i.maxZoom),typeof i.subdomains=="string"&&(i.subdomains=i.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,i){return this._url===t&&i===void 0&&(i=!0),this._url=t,i||this.redraw(),this},createTile:function(t,i){var a=document.createElement("img");return Me(a,"load",y(this._tileOnLoad,this,i,a)),Me(a,"error",y(this._tileOnError,this,i,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(t),a},getTileUrl:function(t){var i={r:Ne.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-t.y;this.options.tms&&(i.y=a),i["-y"]=a}return B(this._url,g(i,this.options))},_tileOnLoad:function(t,i){Ne.ielt9?setTimeout(y(t,this,null,i),0):t(null,i)},_tileOnError:function(t,i,a){var c=this.options.errorTileUrl;c&&i.getAttribute("src")!==c&&(i.src=c),t(a,i)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,i=this.options.maxZoom,a=this.options.zoomReverse,c=this.options.zoomOffset;return a&&(t=i-t),t+c},_getSubdomain:function(t){var i=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[i]},_abortLoading:function(){var t,i;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(i=this._tiles[t].el,i.onload=b,i.onerror=b,!i.complete)){i.src=A;var a=this._tiles[t].coords;dt(i),delete this._tiles[t],this.fire("tileabort",{tile:i,coords:a})}},_removeTile:function(t){var i=this._tiles[t];if(i)return i.el.setAttribute("src",A),pr.prototype._removeTile.call(this,t)},_tileReady:function(t,i,a){if(!(!this._map||a&&a.getAttribute("src")===A))return pr.prototype._tileReady.call(this,t,i,a)}});function Oa(t,i){return new gr(t,i)}var $i=gr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,i){this._url=t;var a=g({},this.defaultWmsParams);for(var c in i)c in this.options||(a[c]=i[c]);i=R(this,i);var p=i.detectRetina&&Ne.retina?2:1,v=this.getTileSize();a.width=v.x*p,a.height=v.y*p,this.wmsParams=a},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var i=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[i]=this._crs.code,gr.prototype.onAdd.call(this,t)},getTileUrl:function(t){var i=this._tileCoordsToNwSe(t),a=this._crs,c=X(a.project(i[0]),a.project(i[1])),p=c.min,v=c.max,P=(this._wmsVersion>=1.3&&this._crs===So?[p.y,p.x,v.y,v.x]:[p.x,p.y,v.x,v.y]).join(","),F=gr.prototype.getTileUrl.call(this,t);return F+z(this.wmsParams,F,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+P},setParams:function(t,i){return g(this.wmsParams,t),i||this.redraw(),this}});function Mo(t,i){return new $i(t,i)}gr.WMS=$i,Oa.wms=Mo;var Bn=Cn.extend({options:{padding:.1},initialize:function(t){R(this,t),N(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ae(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,i){var a=this._map.getZoomScale(i,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),p=this._map.project(this._center,i),v=c.multiplyBy(-a).add(p).subtract(this._map._getNewPixelOrigin(t,i));Ne.any3d?jn(this._container,v,a):jt(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,i=this._map.getSize(),a=this._map.containerPointToLayerPoint(i.multiplyBy(-t)).round();this._bounds=new k(a,a.add(i.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ra=Bn.extend({options:{tolerance:0},getEvents:function(){var t=Bn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Bn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Me(t,"mousemove",this._onMouseMove,this),Me(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Me(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Ie(this._redrawRequest),delete this._ctx,dt(this._container),at(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var i in this._layers)t=this._layers[i],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Bn.prototype._update.call(this);var t=this._bounds,i=this._container,a=t.getSize(),c=Ne.retina?2:1;jt(i,t.min),i.width=c*a.x,i.height=c*a.y,i.style.width=a.x+"px",i.style.height=a.y+"px",Ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Bn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[N(t)]=t;var i=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=i),this._drawLast=i,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var i=t._order,a=i.next,c=i.prev;a?a.prev=c:this._drawLast=c,c?c.next=a:this._drawFirst=a,delete t._order,delete this._layers[N(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var i=t.options.dashArray.split(/[, ]+/),a=[],c,p;for(p=0;p<i.length;p++){if(c=Number(i[p]),isNaN(c))return;a.push(c)}t.options._dashArray=a}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||me(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var i=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new k,this._redrawBounds.extend(t._pxBounds.min.subtract([i,i])),this._redrawBounds.extend(t._pxBounds.max.add([i,i]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var i=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,i.x,i.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,i=this._redrawBounds;if(this._ctx.save(),i){var a=i.getSize();this._ctx.beginPath(),this._ctx.rect(i.min.x,i.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)t=c.layer,(!i||t._pxBounds&&t._pxBounds.intersects(i))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,i){if(this._drawing){var a,c,p,v,P=t._parts,F=P.length,q=this._ctx;if(F){for(q.beginPath(),a=0;a<F;a++){for(c=0,p=P[a].length;c<p;c++)v=P[a][c],q[c?"lineTo":"moveTo"](v.x,v.y);i&&q.closePath()}this._fillStroke(q,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var i=t._point,a=this._ctx,c=Math.max(Math.round(t._radius),1),p=(Math.max(Math.round(t._radiusY),1)||c)/c;p!==1&&(a.save(),a.scale(1,p)),a.beginPath(),a.arc(i.x,i.y/p,c,0,Math.PI*2,!1),p!==1&&a.restore(),this._fillStroke(a,t)}},_fillStroke:function(t,i){var a=i.options;a.fill&&(t.globalAlpha=a.fillOpacity,t.fillStyle=a.fillColor||a.color,t.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(t.setLineDash&&t.setLineDash(i.options&&i.options._dashArray||[]),t.globalAlpha=a.opacity,t.lineWidth=a.weight,t.strokeStyle=a.color,t.lineCap=a.lineCap,t.lineJoin=a.lineJoin,t.stroke())},_onClick:function(t){for(var i=this._map.mouseEventToLayerPoint(t),a,c,p=this._drawFirst;p;p=p.next)a=p.layer,a.options.interactive&&a._containsPoint(i)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(a))&&(c=a);this._fireEvent(c?[c]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var i=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,i)}},_handleMouseOut:function(t){var i=this._hoveredLayer;i&&(lt(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,i){if(!this._mouseHoverThrottled){for(var a,c,p=this._drawFirst;p;p=p.next)a=p.layer,a.options.interactive&&a._containsPoint(i)&&(c=a);c!==this._hoveredLayer&&(this._handleMouseOut(t),c&&(Ae(this._container,"leaflet-interactive"),this._fireEvent([c],t,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(y(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,i,a){this._map._fireDOMEvent(i,a||i.type,t)},_bringToFront:function(t){var i=t._order;if(i){var a=i.next,c=i.prev;if(a)a.prev=c;else return;c?c.next=a:a&&(this._drawFirst=a),i.prev=this._drawLast,this._drawLast.next=i,i.next=null,this._drawLast=i,this._requestRedraw(t)}},_bringToBack:function(t){var i=t._order;if(i){var a=i.next,c=i.prev;if(c)c.next=a;else return;a?a.prev=c:c&&(this._drawLast=c),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t)}}});function za(t){return Ne.canvas?new Ra(t):null}var ii=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Oo={_initContainer:function(){this._container=Fe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Bn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var i=t._container=ii("shape");Ae(i,"leaflet-vml-shape "+(this.options.className||"")),i.coordsize="1 1",t._path=ii("path"),i.appendChild(t._path),this._updateStyle(t),this._layers[N(t)]=t},_addPath:function(t){var i=t._container;this._container.appendChild(i),t.options.interactive&&t.addInteractiveTarget(i)},_removePath:function(t){var i=t._container;dt(i),t.removeInteractiveTarget(i),delete this._layers[N(t)]},_updateStyle:function(t){var i=t._stroke,a=t._fill,c=t.options,p=t._container;p.stroked=!!c.stroke,p.filled=!!c.fill,c.stroke?(i||(i=t._stroke=ii("stroke")),p.appendChild(i),i.weight=c.weight+"px",i.color=c.color,i.opacity=c.opacity,c.dashArray?i.dashStyle=$(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):i.dashStyle="",i.endcap=c.lineCap.replace("butt","flat"),i.joinstyle=c.lineJoin):i&&(p.removeChild(i),t._stroke=null),c.fill?(a||(a=t._fill=ii("fill")),p.appendChild(a),a.color=c.fillColor||c.color,a.opacity=c.fillOpacity):a&&(p.removeChild(a),t._fill=null)},_updateCircle:function(t){var i=t._point.round(),a=Math.round(t._radius),c=Math.round(t._radiusY||a);this._setPath(t,t._empty()?"M0 0":"AL "+i.x+","+i.y+" "+a+","+c+" 0,"+65535*360)},_setPath:function(t,i){t._path.v=i},_bringToFront:function(t){Vr(t._container)},_bringToBack:function(t){Gn(t._container)}},En=Ne.vml?ii:te,Lr=Bn.extend({_initContainer:function(){this._container=En("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=En("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){dt(this._container),at(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Bn.prototype._update.call(this);var t=this._bounds,i=t.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(i))&&(this._svgSize=i,a.setAttribute("width",i.x),a.setAttribute("height",i.y)),jt(a,t.min),a.setAttribute("viewBox",[t.min.x,t.min.y,i.x,i.y].join(" ")),this.fire("update")}},_initPath:function(t){var i=t._path=En("path");t.options.className&&Ae(i,t.options.className),t.options.interactive&&Ae(i,"leaflet-interactive"),this._updateStyle(t),this._layers[N(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){dt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[N(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var i=t._path,a=t.options;i&&(a.stroke?(i.setAttribute("stroke",a.color),i.setAttribute("stroke-opacity",a.opacity),i.setAttribute("stroke-width",a.weight),i.setAttribute("stroke-linecap",a.lineCap),i.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?i.setAttribute("stroke-dasharray",a.dashArray):i.removeAttribute("stroke-dasharray"),a.dashOffset?i.setAttribute("stroke-dashoffset",a.dashOffset):i.removeAttribute("stroke-dashoffset")):i.setAttribute("stroke","none"),a.fill?(i.setAttribute("fill",a.fillColor||a.color),i.setAttribute("fill-opacity",a.fillOpacity),i.setAttribute("fill-rule",a.fillRule||"evenodd")):i.setAttribute("fill","none"))},_updatePoly:function(t,i){this._setPath(t,Oe(t._parts,i))},_updateCircle:function(t){var i=t._point,a=Math.max(Math.round(t._radius),1),c=Math.max(Math.round(t._radiusY),1)||a,p="a"+a+","+c+" 0 1,0 ",v=t._empty()?"M0 0":"M"+(i.x-a)+","+i.y+p+a*2+",0 "+p+-a*2+",0 ";this._setPath(t,v)},_setPath:function(t,i){t._path.setAttribute("d",i)},_bringToFront:function(t){Vr(t._path)},_bringToBack:function(t){Gn(t._path)}});Ne.vml&&Lr.include(Oo);function Bs(t){return Ne.svg||Ne.vml?new Lr(t):null}Qe.include({getRenderer:function(t){var i=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return i||(i=this._renderer=this._createRenderer()),this.hasLayer(i)||this.addLayer(i),i},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var i=this._paneRenderers[t];return i===void 0&&(i=this._createRenderer({pane:t}),this._paneRenderers[t]=i),i},_createRenderer:function(t){return this.options.preferCanvas&&za(t)||Bs(t)}});var Ro=Xn.extend({initialize:function(t,i){Xn.prototype.initialize.call(this,this._boundsToLatLngs(t),i)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=ye(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Xl(t,i){return new Ro(t,i)}Lr.create=En,Lr.pointsToPath=Oe,An.geometryToLayer=Xr,An.coordsToLatLng=Ms,An.coordsToLatLngs=Ui,An.latLngToCoords=Os,An.latLngsToCoords=Rs,An.getFeature=ei,An.asFeature=zs,Qe.mergeOptions({boxZoom:!0});var si=dn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Me(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){at(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){dt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Je(),ws(),this._startPoint=this._map.mouseEventToContainerPoint(t),Me(document,{contextmenu:kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Fe("div","leaflet-zoom-box",this._container),Ae(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var i=new k(this._point,this._startPoint),a=i.getSize();jt(this._box,i.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(dt(this._box),lt(this._container,"leaflet-crosshair")),Wr(),Ns(),at(document,{contextmenu:kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(y(this._resetState,this),0);var i=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(i).fire("boxzoomend",{boxZoomBounds:i})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Qe.addInitHook("addHandler","boxZoom",si),Qe.mergeOptions({doubleClickZoom:!0});var zo=dn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var i=this._map,a=i.getZoom(),c=i.options.zoomDelta,p=t.originalEvent.shiftKey?a-c:a+c;i.options.doubleClickZoom==="center"?i.setZoom(p):i.setZoomAround(t.containerPoint,p)}});Qe.addInitHook("addHandler","doubleClickZoom",zo),Qe.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Aa=dn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Pn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Ae(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){lt(this._map._container,"leaflet-grab"),lt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var i=ye(this._map.options.maxBounds);this._offsetLimit=X(this._map.latLngToContainerPoint(i.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(i.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var i=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(i),this._prunePositions(i)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),i=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=i.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,i){return t-(t-i)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),i=this._offsetLimit;t.x<i.min.x&&(t.x=this._viscousLimit(t.x,i.min.x)),t.y<i.min.y&&(t.y=this._viscousLimit(t.y,i.min.y)),t.x>i.max.x&&(t.x=this._viscousLimit(t.x,i.max.x)),t.y>i.max.y&&(t.y=this._viscousLimit(t.y,i.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,i=Math.round(t/2),a=this._initialWorldOffset,c=this._draggable._newPos.x,p=(c-i+a)%t+i-a,v=(c+i+a)%t-i-a,P=Math.abs(p+a)<Math.abs(v+a)?p:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=P},_onDragEnd:function(t){var i=this._map,a=i.options,c=!a.inertia||t.noInertia||this._times.length<2;if(i.fire("dragend",t),c)i.fire("moveend");else{this._prunePositions(+new Date);var p=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,P=a.easeLinearity,F=p.multiplyBy(P/v),q=F.distanceTo([0,0]),ne=Math.min(a.inertiaMaxSpeed,q),he=F.multiplyBy(ne/q),Ce=ne/(a.inertiaDeceleration*P),Ve=he.multiplyBy(-Ce/2).round();!Ve.x&&!Ve.y?i.fire("moveend"):(Ve=i._limitOffset(Ve,i.options.maxBounds),me(function(){i.panBy(Ve,{duration:Ce,easeLinearity:P,noMoveStart:!0,animate:!0})}))}}});Qe.addInitHook("addHandler","dragging",Aa),Qe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Da=dn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Me(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),at(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,i=document.documentElement,a=t.scrollTop||i.scrollTop,c=t.scrollLeft||i.scrollLeft;this._map._container.focus(),window.scrollTo(c,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var i=this._panKeys={},a=this.keyCodes,c,p;for(c=0,p=a.left.length;c<p;c++)i[a.left[c]]=[-1*t,0];for(c=0,p=a.right.length;c<p;c++)i[a.right[c]]=[t,0];for(c=0,p=a.down.length;c<p;c++)i[a.down[c]]=[0,t];for(c=0,p=a.up.length;c<p;c++)i[a.up[c]]=[0,-1*t]},_setZoomDelta:function(t){var i=this._zoomKeys={},a=this.keyCodes,c,p;for(c=0,p=a.zoomIn.length;c<p;c++)i[a.zoomIn[c]]=t;for(c=0,p=a.zoomOut.length;c<p;c++)i[a.zoomOut[c]]=-t},_addHooks:function(){Me(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){at(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var i=t.keyCode,a=this._map,c;if(i in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(c=this._panKeys[i],t.shiftKey&&(c=K(c).multiplyBy(3)),a.options.maxBounds&&(c=a._limitOffset(K(c),a.options.maxBounds)),a.options.worldCopyJump){var p=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(c)));a.panTo(p)}else a.panBy(c)}else if(i in this._zoomKeys)a.setZoom(a.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else if(i===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;kn(t)}}});Qe.addInitHook("addHandler","keyboard",Da),Qe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ot=dn.extend({addHooks:function(){Me(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){at(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var i=xo(t),a=this._map.options.wheelDebounceTime;this._delta+=i,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var c=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(y(this._performZoom,this),c),kn(t)},_performZoom:function(){var t=this._map,i=t.getZoom(),a=this._map.options.zoomSnap||0;t._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),p=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,v=a?Math.ceil(p/a)*a:p,P=t._limitZoom(i+(this._delta>0?v:-v))-i;this._delta=0,this._startTime=null,P&&(t.options.scrollWheelZoom==="center"?t.setZoom(i+P):t.setZoomAround(this._lastMousePos,i+P))}});Qe.addInitHook("addHandler","scrollWheelZoom",ot);var Ba=600;Qe.mergeOptions({tapHold:Ne.touchNative&&Ne.safari&&Ne.mobile,tapTolerance:15});var Vi=dn.extend({addHooks:function(){Me(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){at(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var i=t.touches[0];this._startPos=this._newPos=new C(i.clientX,i.clientY),this._holdTimeout=setTimeout(y(function(){this._cancel(),this._isTapValid()&&(Me(document,"touchend",yt),Me(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",i))},this),Ba),Me(document,"touchend touchcancel contextmenu",this._cancel,this),Me(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){at(document,"touchend",yt),at(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),at(document,"touchend touchcancel contextmenu",this._cancel,this),at(document,"touchmove",this._onMove,this)},_onMove:function(t){var i=t.touches[0];this._newPos=new C(i.clientX,i.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,i){var a=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY});a._simulated=!0,i.target.dispatchEvent(a)}});Qe.addInitHook("addHandler","tapHold",Vi),Qe.mergeOptions({touchZoom:Ne.touch,bounceAtZoomLimits:!0});var ai=dn.extend({addHooks:function(){Ae(this._map._container,"leaflet-touch-zoom"),Me(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){lt(this._map._container,"leaflet-touch-zoom"),at(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var i=this._map;if(!(!t.touches||t.touches.length!==2||i._animatingZoom||this._zooming)){var a=i.mouseEventToContainerPoint(t.touches[0]),c=i.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),i.options.touchZoom!=="center"&&(this._pinchStartLatLng=i.containerPointToLatLng(a.add(c)._divideBy(2))),this._startDist=a.distanceTo(c),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),Me(document,"touchmove",this._onTouchMove,this),Me(document,"touchend touchcancel",this._onTouchEnd,this),yt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var i=this._map,a=i.mouseEventToContainerPoint(t.touches[0]),c=i.mouseEventToContainerPoint(t.touches[1]),p=a.distanceTo(c)/this._startDist;if(this._zoom=i.getScaleZoom(p,this._startZoom),!i.options.bounceAtZoomLimits&&(this._zoom<i.getMinZoom()&&p<1||this._zoom>i.getMaxZoom()&&p>1)&&(this._zoom=i._limitZoom(this._zoom)),i.options.touchZoom==="center"){if(this._center=this._startLatLng,p===1)return}else{var v=a._add(c)._divideBy(2)._subtract(this._centerPoint);if(p===1&&v.x===0&&v.y===0)return;this._center=i.unproject(i.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(i._moveStart(!0,!1),this._moved=!0),Ie(this._animRequest);var P=y(i._move,i,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=me(P,this,!0),yt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ie(this._animRequest),at(document,"touchmove",this._onTouchMove,this),at(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Qe.addInitHook("addHandler","touchZoom",ai),Qe.BoxZoom=si,Qe.DoubleClickZoom=zo,Qe.Drag=Aa,Qe.Keyboard=Da,Qe.ScrollWheelZoom=ot,Qe.TapHold=Vi,Qe.TouchZoom=ai,l.Bounds=k,l.Browser=Ne,l.CRS=De,l.Canvas=Ra,l.Circle=Is,l.CircleMarker=Es,l.Class=Ze,l.Control=tn,l.DivIcon=Ds,l.DivOverlay=Dn,l.DomEvent=Ss,l.DomUtil=Ri,l.Draggable=Pn,l.Evented=ce,l.FeatureGroup=Jn,l.GeoJSON=An,l.GridLayer=pr,l.Handler=dn,l.Icon=Cr,l.ImageOverlay=mr,l.LatLng=pe,l.LatLngBounds=xe,l.Layer=Cn,l.LayerGroup=hr,l.LineUtil=jo,l.Map=Qe,l.Marker=Yn,l.Mixin=Na,l.Path=fr,l.Point=C,l.PolyUtil=Zl,l.Polygon=Xn,l.Polyline=nn,l.Popup=As,l.PosAnimation=ks,l.Projection=Wl,l.Rectangle=Ro,l.Renderer=Bn,l.SVG=Lr,l.SVGOverlay=Ta,l.TileLayer=gr,l.Tooltip=ni,l.Transformation=Tt,l.Util=Ue,l.VideoOverlay=Ia,l.bind=y,l.bounds=X,l.canvas=za,l.circle=Fi,l.circleMarker=Co,l.control=dr,l.divIcon=To,l.extend=g,l.featureGroup=ko,l.geoJSON=Lo,l.geoJson=Ln,l.gridLayer=ri,l.icon=Po,l.imageOverlay=Eo,l.latLng=fe,l.latLngBounds=ye,l.layerGroup=Bi,l.map=ur,l.marker=Kl,l.point=K,l.polygon=Yl,l.polyline=Jl,l.popup=ti,l.rectangle=Xl,l.setOptions=R,l.stamp=N,l.svg=Bs,l.svgOverlay=Ma,l.tileLayer=Oa,l.tooltip=Zi,l.transformation=cn,l.version=m,l.videoOverlay=Io;var Ao=window.L;l.noConflict=function(){return window.L=Ao,this},window.L=l})}(no,no.exports)),no.exports}var la=ig();const aa=ju(la);function Ol(d,h,l){return Object.freeze({instance:d,context:h,container:l})}function Rl(d,h){return h==null?function(m,g){const _=w.useRef();return _.current||(_.current=d(m,g)),_}:function(m,g){const _=w.useRef();_.current||(_.current=d(m,g));const y=w.useRef(m),{instance:S}=_.current;return w.useEffect(function(){y.current!==m&&(h(S,m,y.current),y.current=m)},[S,m,g]),_}}function bf(d,h){w.useEffect(function(){return(h.layerContainer??h.map).addLayer(d.instance),function(){h.layerContainer?.removeLayer(d.instance),h.map.removeLayer(d.instance)}},[h,d])}function jf(d){return function(l){const m=Mu(),g=d(Ml(l,m),m);return vf(m.map,l.attribution),Ou(g.current,l.eventHandlers),bf(g.current,m),g}}function sg(d,h){const l=w.useRef();w.useEffect(function(){if(h.pathOptions!==l.current){const g=h.pathOptions??{};d.instance.setStyle(g),l.current=g}},[d,h])}function ag(d){return function(l){const m=Mu(),g=d(Ml(l,m),m);return Ou(g.current,l.eventHandlers),bf(g.current,m),sg(g.current,l),g}}function og(d,h){const l=Rl(d,h),m=jf(l);return Nf(m)}function lg(d,h){const l=Rl(d),m=ng(l,h);return eg(m)}function cg(d,h){const l=Rl(d,h),m=ag(l);return Nf(m)}function ug(d,h){const l=Rl(d,h),m=jf(l);return tg(m)}function dg(d,h,l){const{opacity:m,zIndex:g}=h;m!=null&&m!==l.opacity&&d.setOpacity(m),g!=null&&g!==l.zIndex&&d.setZIndex(g)}const hg=cg(function({center:h,children:l,...m},g){const _=new la.Circle(h,m);return Ol(_,yf(g,{overlayContainer:_}))},Jp);function bu(){return bu=Object.assign||function(d){for(var h=1;h<arguments.length;h++){var l=arguments[h];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(d[m]=l[m])}return d},bu.apply(this,arguments)}function fg({bounds:d,boundsOptions:h,center:l,children:m,className:g,id:_,placeholder:y,style:S,whenReady:N,zoom:O,...I},b){const[V]=w.useState({className:g,id:_,style:S}),[G,J]=w.useState(null);w.useImperativeHandle(b,()=>G?.map??null,[G]);const R=w.useCallback(Q=>{if(Q!==null&&G===null){const B=new la.Map(Q,I);l!=null&&O!=null?B.setView(l,O):d!=null&&B.fitBounds(d,h),N!=null&&B.whenReady(N),J(Xp(B))}},[]);w.useEffect(()=>()=>{G?.map.remove()},[G]);const z=G?ra.createElement(wf,{value:G},m):y??null;return ra.createElement("div",bu({},V,{ref:R}),z)}const mg=w.forwardRef(fg),Fh=og(function({position:h,...l},m){const g=new la.Marker(h,l);return Ol(g,yf(m,{overlayContainer:g}))},function(h,l,m){l.position!==m.position&&h.setLatLng(l.position),l.icon!=null&&l.icon!==m.icon&&h.setIcon(l.icon),l.zIndexOffset!=null&&l.zIndexOffset!==m.zIndexOffset&&h.setZIndexOffset(l.zIndexOffset),l.opacity!=null&&l.opacity!==m.opacity&&h.setOpacity(l.opacity),h.dragging!=null&&l.draggable!==m.draggable&&(l.draggable===!0?h.dragging.enable():h.dragging.disable())}),Uh=lg(function(h,l){const m=new la.Popup(h,l.overlayContainer);return Ol(m,l)},function(h,l,{position:m},g){w.useEffect(function(){const{instance:y}=h;function S(O){O.popup===y&&(y.update(),g(!0))}function N(O){O.popup===y&&g(!1)}return l.map.on({popupopen:S,popupclose:N}),l.overlayContainer==null?(m!=null&&y.setLatLng(m),y.openOn(l.map)):l.overlayContainer.bindPopup(y),function(){l.map.off({popupopen:S,popupclose:N}),l.overlayContainer?.unbindPopup(),l.map.removeLayer(y)}},[h,l,g,m])}),pg=ug(function({url:h,...l},m){const g=new la.TileLayer(h,Ml(l,m));return Ol(g,m)},function(h,l,m){dg(h,l,m);const{url:g}=l;g!=null&&g!==m.url&&h.setUrl(g)});delete aa.Icon.Default.prototype._getIconUrl;aa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const gg=({supplierId:d})=>{const[h,l]=w.useState(0),[m,g]=w.useState(""),[_,y]=w.useState(null),[S,N]=w.useState([]),O=b=>{y(URL.createObjectURL(b.target.files[0]))},I=b=>{b.preventDefault(),N([...S,{rating:h,comment:m,photo:_}]),l(0),g(""),y(null)};return r.jsxs("div",{className:"card space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(b=>r.jsx(wn,{className:`w-6 h-6 cursor-pointer ${b<=h?"text-yellow-400":"text-gray-300"}`,onClick:()=>l(b)},b)),r.jsx("span",{className:"ml-2 font-semibold",children:"Rate Supplier"})]}),r.jsxs("form",{onSubmit:I,className:"space-y-2",children:[r.jsx("textarea",{className:"input-field",placeholder:"Leave a comment...",value:m,onChange:b=>g(b.target.value)}),r.jsx("input",{type:"file",accept:"image/*",onChange:O}),r.jsx("button",{className:"btn-primary",type:"submit",children:"Submit Review"})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"font-bold mb-2",children:"Reviews"}),S.length===0&&r.jsx("div",{children:"No reviews yet."}),S.map((b,V)=>r.jsxs("div",{className:"border-b py-2",children:[r.jsx("div",{className:"flex items-center gap-1",children:[...Array(b.rating)].map((G,J)=>r.jsx(wn,{className:"w-4 h-4 text-yellow-400"},J))}),r.jsx("div",{children:b.comment}),b.photo&&r.jsx("img",{src:b.photo,alt:"review",className:"w-24 h-24 object-cover mt-2 rounded"})]},V))]})]})},Cl=({initialOffer:d=100,product:h=null,onBargainConfirmed:l=null})=>{const[m,g]=w.useState([{sender:"supplier",text:`Current price: ${d}`}]),[_,y]=w.useState(null),[S,N]=w.useState(!1);ra.useEffect(()=>{g([{sender:"supplier",text:`Current price: ${d}`}])},[d]);const[O,I]=w.useState(""),b=(J,R,z=null)=>{g([...m,{sender:R,text:J,offer:z}])},V=J=>{if(J.preventDefault(),!O.trim())return;const R=O.match(/(\d+)/),z=R?parseInt(R[1]):null;b(O,"vendor",z),I(""),setTimeout(()=>{if(z&&z<d){const Q=Math.max(z+10,Math.floor(d*.9));b(`How about ${Q}? That's my best price.`,"supplier",Q),y(Q)}else z&&z>=d?(b("Perfect! I accept your offer.","supplier",z),y(z)):b("Let me consider your offer.","supplier")},1e3)},G=()=>{_&&h&&(N(!0),l&&l({product:h,agreedPrice:_,originalPrice:d}))};return r.jsxs("div",{className:"card space-y-4",children:[r.jsx("h4",{className:"font-bold",children:"Bargain/Negotiate"}),r.jsx("div",{className:"h-40 overflow-y-auto bg-gray-50 p-2 rounded",children:m.map((J,R)=>r.jsx("div",{className:`mb-2 ${J.sender==="vendor"?"text-right":"text-left"}`,children:r.jsxs("span",{className:`inline-block px-3 py-1 rounded ${J.sender==="vendor"?"bg-primary-100":"bg-gray-200"}`,children:[r.jsxs("b",{children:[J.sender==="vendor"?"You":"Supplier",":"]})," ",J.text,J.offer&&r.jsxs("div",{className:"font-bold text-green-600",children:["Offer: ",J.offer]})]})},R))}),r.jsxs("form",{onSubmit:V,className:"flex gap-2",children:[r.jsx("input",{className:"input-field flex-1",value:O,onChange:J=>I(J.target.value),placeholder:"Type your offer or message...",disabled:S}),r.jsx("button",{className:"btn-primary",type:"submit",disabled:S,children:"Send"})]}),_&&!S&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsx("h5",{className:"font-semibold text-green-800 mb-2",children:"Agreement Reached!"}),r.jsxs("p",{className:"text-green-700 mb-3",children:["Both parties agree on ",_," (Original: ",d,")"]}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{onClick:G,className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700",children:"Confirm & Add to Cart"})})]}),S&&r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("p",{className:"text-blue-700 font-semibold",children:[" Deal confirmed! Item added to cart at ",_]})})]})},Ru=({itemId:d,itemName:h,supplierId:l,supplierName:m,onClose:g,onSubmit:_,readOnly:y=!1})=>{const{user:S}=ln(),[N,O]=w.useState(0),[I,b]=w.useState(""),[V,G]=w.useState(null),[J,R]=w.useState(null),[z,Q]=w.useState([]),[B,$]=w.useState(!1),[D,A]=w.useState(!1),ee=Y=>{const me=Y.target.files[0];if(me){G(me);const Ie=new FileReader;Ie.onload=Ue=>{R(Ue.target.result)},Ie.readAsDataURL(me)}},ue=()=>{G(null),R(null)};w.useEffect(()=>{if(l){const Y=Nt.getReviewsBySupplier(l);Q(Y)}},[l]);const Se=()=>{if(N===0){alert("Please select a rating");return}if(!I.trim()){alert("Please write a comment");return}A(!0);const Y={productId:d,productName:h,supplierId:l,supplierName:m,vendorId:S?.id||1,vendorName:S?.name||"Anonymous",rating:N,comment:I,image:J,date:new Date().toISOString(),status:"published"},me=Nt.addReview(Y);Q(Ie=>[...Ie,me]),O(0),b(""),G(null),R(null),$(!1),A(!1),_&&_(me)},rt=z.length>0?(z.reduce((Y,me)=>Y+me.rating,0)/z.length).toFixed(1):0;return r.jsx("div",{className:"bg-white rounded-lg shadow-lg max-w-md w-full",children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Reviews for ",h]}),r.jsx("button",{onClick:g,className:"text-gray-400 hover:text-gray-600",children:r.jsx(On,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(Y=>r.jsx(wn,{className:`w-5 h-5 ${Y<=rt?"text-yellow-400 fill-current":"text-gray-300"}`},Y))}),r.jsxs("span",{className:"text-sm text-gray-600",children:[rt," (",z.length," reviews)"]})]}),!y&&!B&&r.jsx("button",{onClick:()=>$(!0),className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-2 px-4 rounded-lg transition-colors mb-4",children:"Write a Review"}),!y&&B&&r.jsxs("div",{className:"border rounded-lg p-4 mb-4",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Write Your Review"}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating *"}),r.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(Y=>r.jsx("button",{onClick:()=>O(Y),className:"focus:outline-none",children:r.jsx(wn,{className:`w-6 h-6 ${Y<=N?"text-yellow-400 fill-current":"text-gray-300"}`})},Y))})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment *"}),r.jsx("textarea",{value:I,onChange:Y=>b(Y.target.value),placeholder:"Share your experience...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:"3"})]}),r.jsxs("div",{className:"mb-4",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Photo (Optional)"}),r.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center",children:J?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:J,alt:"Preview",className:"w-full h-32 object-cover rounded-lg"}),r.jsx("button",{onClick:ue,className:"absolute top-2 right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600",children:r.jsx(On,{className:"w-4 h-4"})})]}):r.jsxs("div",{children:[r.jsx(cf,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),r.jsx("input",{type:"file",accept:"image/*",onChange:ee,className:"hidden",id:"image-upload"}),r.jsx("label",{htmlFor:"image-upload",className:"cursor-pointer text-primary-600 hover:text-primary-700",children:"Click to upload image"})]})})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:Se,disabled:D,className:"flex-1 bg-primary-600 hover:bg-primary-700 disabled:bg-gray-400 text-white py-2 px-4 rounded-lg transition-colors",children:D?"Submitting...":"Submit Review"}),r.jsx("button",{onClick:()=>$(!1),className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}),r.jsx("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:z.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx("p",{children:"No reviews yet for this supplier."}),r.jsx("p",{className:"text-sm",children:"Be the first to share your experience!"})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h4",{className:"font-medium text-gray-900",children:["Past Reviews (",z.length,")"]}),!y&&r.jsx("button",{onClick:()=>$(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Write Review"})]}),z.map(Y=>r.jsxs("div",{className:"border-b pb-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"flex items-center",children:[1,2,3,4,5].map(me=>r.jsx(wn,{className:`w-4 h-4 ${me<=Y.rating?"text-yellow-400 fill-current":"text-gray-300"}`},me))}),r.jsx("span",{className:"text-sm text-gray-500 font-medium",children:Y.vendorName||"Anonymous"}),r.jsx("span",{className:"text-sm text-gray-500",children:new Date(Y.date).toLocaleDateString()})]}),r.jsx("p",{className:"text-sm text-gray-700 mb-2",children:Y.comment}),Y.image&&r.jsx("img",{src:Y.image,alt:"Review",className:"w-20 h-20 object-cover rounded-lg"})]},Y.id))]})})]})})};delete aa.Icon.Default.prototype._getIconUrl;aa.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const xg=()=>{const{cart:d,addToCart:h,removeFromCart:l,updateQuantity:m,getCartTotal:g,getCartCount:_}=ds();Ur();const[y,S]=w.useState(""),[N,O]=w.useState(0),[I,b]=w.useState(!1),[V,G]=w.useState(!1),[J,R]=w.useState(0),[z,Q]=w.useState(100),[B,$]=w.useState(0),[D,A]=w.useState("map"),[ee,ue]=w.useState(null),[Se,rt]=w.useState(!1),[Y,me]=w.useState(null),[Ie,Ue]=w.useState(!1),[Ze,de]=w.useState(!1),[ke,ce]=w.useState([]),[C,se]=w.useState(!1),[K,k]=w.useState(null),[X,xe]=w.useState(!1),[ye,pe]=w.useState(null),[fe,De]=w.useState(!1),[Te,We]=w.useState(null),it=w.useRef(null);w.useEffect(()=>{console.log("Suppliers state updated:",ke),console.log("Location detected:",C)},[ke,C]),w.useEffect(()=>{if(Y&&C){const te=jl(Y.lat,Y.lng,N);ce(te||[])}},[N,Y,C]),w.useEffect(()=>{const te=ft.subscribe("product_update",Oe=>{if(console.log("Product update received in SupplierFinder:",Oe),Y&&C){const Ke=jl(Y.lat,Y.lng,N);ce(Ke||[])}});return()=>{te()}},[Y,C,N]);const Tt=te=>{if(!te)return 0;const Oe=te.toString().match(/\d+/);return Oe?parseInt(Oe[0]):0},cn=te=>{if(!te||!Array.isArray(te)||te.length===0)return 0;const Oe=te.map(Ke=>typeof Ke=="object"&&Ke.price?Tt(Ke.price):0).filter(Ke=>Ke>0);return Oe.length>0?Math.min(...Oe):0},kt=ke.filter(te=>{try{if(!te||!te.name||!te.products||!Array.isArray(te.products))return console.warn("Invalid supplier object:",te),!1;const Oe=te.name.toLowerCase().includes(y.toLowerCase()),Ke=!I||te.organic,un=!V||te.fssaiVerified,xt=(te.rating||0)>=J,mt=Tt(te.price),T=mt>=B&&mt<=z;let Be=!0;return Y&&te.coordinates&&Array.isArray(te.coordinates)&&te.coordinates.length>=2?Be=ro(Y.lat,Y.lng,te.coordinates[0],te.coordinates[1])<=N:Be=(te.distance||0)<=N,Oe&&Be&&Ke&&un&&xt&&T}catch(Oe){return console.error("Error filtering supplier:",te,Oe),!1}}),Wn=async()=>{if(console.log("getLocation called"),de(!0),k(null),!navigator.geolocation){k("Geolocation is not supported by this browser."),de(!1);return}try{const te=await new Promise((mt,T)=>{navigator.geolocation.getCurrentPosition(mt,T,{enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4})}),Oe={lat:te.coords.latitude,lng:te.coords.longitude};console.log("New location obtained:",Oe),me(Oe),it.current&&it.current._map&&it.current._map.setView([Oe.lat,Oe.lng],12);const Ke=jl(Oe.lat,Oe.lng,N);console.log("Generated suppliers:",Ke),console.log("First supplier structure:",Ke[0]),(!Ke||Ke.length===0)&&(console.warn("No suppliers generated"),k("No suppliers found in your area. Try increasing the search radius.")),ce(Ke||[]),se(!0);const un=Np(Oe.lat,Oe.lng),xt={mumbai:"Mumbai",naviMumbai:"Navi Mumbai",thane:"Thane",pune:"Pune",default:"your area"}[un];alert(`Location detected in ${xt}! Found ${Ke?.length||0} suppliers within ${N}km of your location.`)}catch(te){console.error("Error getting location:",te);let Oe="Unable to get your location. ";switch(te.code){case te.PERMISSION_DENIED:Oe+="Please allow location access in your browser.";break;case te.POSITION_UNAVAILABLE:Oe+="Location information is unavailable.";break;case te.TIMEOUT:Oe+="Location request timed out.";break;default:Oe+="Please check your browser permissions.";break}k(Oe),alert(Oe)}finally{de(!1)}};return w.useEffect(()=>{if(Y&&C){console.log("Updating suppliers due to radius change:",N);const te=jl(Y.lat,Y.lng,N);ce(te||[])}},[N,Y,C]),r.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4",children:[r.jsx("div",{className:"flex justify-between items-center mb-6",children:r.jsx("h1",{className:"text-3xl font-bold text-primary-600",children:"Supplier Finder"})}),K&&kt.length===0&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("span",{className:"text-red-800 font-medium",children:"Error"})}),r.jsx("p",{className:"text-red-700 text-sm mt-1",children:K})]}),!C&&!Ze&&r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ta,{className:"w-5 h-5 text-blue-600"}),r.jsx("span",{className:"text-blue-800 font-medium",children:"Location Not Detected"})]}),r.jsx("p",{className:"text-blue-700 text-sm mt-1",children:'Click "Get My Location" to find nearby suppliers in your area'})]}),Y&&C&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ta,{className:"w-5 h-5 text-green-600"}),r.jsx("span",{className:"text-green-800 font-medium",children:"Location Active"}),r.jsxs("span",{className:"text-green-600 text-sm",children:["(",Y.lat.toFixed(4),", ",Y.lng.toFixed(4),")"]})]}),r.jsxs("p",{className:"text-green-700 text-sm mt-1",children:["Found ",ke.length," suppliers within ",N,"km of your location"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search suppliers",value:y,onChange:te=>S(te.target.value),className:"input-field pl-10"})]}),r.jsxs("button",{onClick:()=>rt(!Se),className:"btn-secondary flex items-center gap-2",children:[r.jsx(Lu,{className:"w-4 h-4"}),"Filter"]}),r.jsxs("button",{onClick:Wn,disabled:Ze,className:`btn-primary flex items-center gap-2 ${Ze?"opacity-50 cursor-not-allowed":""}`,children:[r.jsx(ta,{className:"w-4 h-4"}),Ze?"Getting Location...":"Get My Location"]})]}),Se&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 pt-4 border-t",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Radius (",N," km)"]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>O(Math.max(0,N-1)),className:"px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded text-sm font-medium",children:"-"}),r.jsx("input",{type:"range",min:"0",max:"25",value:N,onChange:te=>O(Number(te.target.value)),className:"flex-1"}),r.jsx("button",{onClick:()=>O(Math.min(25,N+1)),className:"px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded text-sm font-medium",children:"+"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Rating"}),r.jsxs("select",{value:J,onChange:te=>R(Number(te.target.value)),className:"input-field",children:[r.jsx("option",{value:0,children:"Any Rating"}),r.jsx("option",{value:3,children:"3+ Rating"}),r.jsx("option",{value:4,children:"4+ Rating"}),r.jsx("option",{value:4.5,children:"4.5+ Rating"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Price (/kg)"}),r.jsx("input",{type:"number",min:"0",max:"200",value:B,onChange:te=>$(Number(te.target.value)),className:"input-field",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Price (/kg)"}),r.jsx("input",{type:"number",min:"0",max:"200",value:z,onChange:te=>Q(Number(te.target.value)),className:"input-field",placeholder:"100"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"organic",checked:I,onChange:te=>b(te.target.checked),className:"mr-2"}),r.jsx("label",{htmlFor:"organic",children:"Organic Only"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("input",{type:"checkbox",id:"verified",checked:V,onChange:te=>G(te.target.checked),className:"mr-2"}),r.jsx("label",{htmlFor:"verified",children:"Verified Only"})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[!C&&!Ze&&r.jsx("div",{className:"h-96 flex items-center justify-center bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ta,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"No Location Detected"}),r.jsx("p",{className:"text-gray-500 mb-4",children:'Please click "Get My Location" to view suppliers on the map'})]})}),Ze&&r.jsx("div",{className:"h-96 flex items-center justify-center bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Detecting Your Location..."}),r.jsx("p",{className:"text-gray-500",children:"Please allow location access in your browser"})]})}),C&&r.jsxs("div",{className:"relative",children:[r.jsx("div",{className:"absolute top-4 left-4 z-[1000] bg-white rounded-lg shadow-lg p-2",children:r.jsx("button",{onClick:()=>{Y&&it.current&&it.current.setView([Y.lat,Y.lng],13)},className:"w-8 h-8 bg-white border border-gray-300 rounded flex items-center justify-center hover:bg-gray-50 transition-colors",title:"Center on your location",children:""})}),r.jsx("div",{className:"absolute top-4 right-4 z-[1000] bg-white rounded-lg shadow-lg p-3",children:r.jsxs("div",{className:"text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),r.jsx("span",{children:"Your Location"})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),r.jsxs("span",{children:["Suppliers (",kt.length,")"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full opacity-20"}),r.jsxs("span",{children:["Search Radius (",N,"km)"]})]})]})}),r.jsx("div",{className:"h-[600px] rounded-lg overflow-hidden border",children:r.jsxs(mg,{ref:it,center:Y?[Y.lat,Y.lng]:[19.076,72.8777],zoom:Y?13:10,style:{height:"100%",width:"100%"},scrollWheelZoom:!0,children:[r.jsx(pg,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),Y&&r.jsxs(r.Fragment,{children:[r.jsx(Fh,{position:[Y.lat,Y.lng],icon:aa.divIcon({className:"custom-div-icon",html:'<div style="background-color: #3B82F6; width: 24px; height: 24px; border-radius: 50%; border: 4px solid white; box-shadow: 0 0 15px rgba(59,130,246,0.5); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 12px;"></div>',iconSize:[24,24],iconAnchor:[12,12]}),children:r.jsx(Uh,{children:r.jsxs("div",{className:"text-center",children:[r.jsx("h3",{className:"font-bold text-blue-600",children:" Your Location"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Lat: ",Y.lat.toFixed(6)]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Lng: ",Y.lng.toFixed(6)]})]})})}),r.jsx(hg,{center:[Y.lat,Y.lng],radius:N*1e3,pathOptions:{color:"#3B82F6",fillColor:"#3B82F6",fillOpacity:.1,weight:2}})]}),kt.map(te=>{let Oe=te.distance||0;return Y&&te.coordinates&&te.coordinates.length>=2&&(Oe=ro(Y.lat,Y.lng,te.coordinates[0],te.coordinates[1])),r.jsx(Fh,{position:te.coordinates,icon:aa.divIcon({className:"supplier-marker",html:'<div style="background-color: #10B981; width: 32px; height: 32px; border-radius: 50%; border: 3px solid white; box-shadow: 0 0 10px rgba(16,185,129,0.5); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 14px;"></div>',iconSize:[32,32],iconAnchor:[16,16]}),children:r.jsx(Uh,{children:r.jsxs("div",{className:"min-w-[250px] max-w-[300px]",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("h3",{className:"font-bold text-lg text-green-600",children:te.name}),te.fssaiVerified&&r.jsx("span",{className:"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"FSSAI"}),te.organic&&r.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"Organic"})]}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-yellow-500",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Rating:"})," ",te.rating||"N/A"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-blue-500",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Distance:"})," ",Oe.toFixed(1)," km"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-green-500",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Starting from:"})," ",cn(te.products)||Tt(te.price)||"N/A","/kg"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-gray-500",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Location:"})," ",te.location||te.address||"Location not specified"]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-orange-500",children:""}),r.jsxs("span",{children:[r.jsx("strong",{children:"Products:"})," ",te.products&&te.products.length>0?te.products.slice(0,3).map(Ke=>typeof Ke=="object"?Ke.name:Ke).filter(Ke=>Ke&&Ke.trim()).join(", "):"No products listed"]})]})]}),r.jsxs("div",{className:"mt-4 space-y-2",children:[r.jsxs("button",{className:"w-full bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-2 rounded transition-colors flex items-center gap-1 justify-center",onClick:()=>{We(te),De(!0)},children:[r.jsx("span",{children:""}),"Show Products"]}),r.jsx("button",{className:"w-full bg-orange-500 hover:bg-orange-600 text-white text-xs px-3 py-2 rounded transition-colors",children:"Bargain"})]})]})})},te.id)})]})})]})]})}),r.jsxs("div",{className:"space-y-6",children:[C&&kt.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Nearby Suppliers (",kt.length,")"]}),r.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:kt.map(te=>{let Oe=te.distance||0;return Y&&te.coordinates&&te.coordinates.length>=2&&(Oe=ro(Y.lat,Y.lng,te.coordinates[0],te.coordinates[1])),r.jsxs("div",{className:"border rounded-lg p-3 hover:bg-gray-50 transition-colors",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-gray-900",children:te.name}),r.jsx("p",{className:"text-sm text-gray-600",children:te.location})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[te.fssaiVerified&&r.jsx("span",{className:"inline-block bg-green-100 text-green-800 text-xs px-2 py-1 rounded",children:"FSSAI"}),te.organic&&r.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"Organic"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-yellow-500",children:""}),r.jsx("span",{children:te.rating||"N/A"})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-blue-500",children:""}),r.jsxs("span",{children:[Oe.toFixed(1)," km"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-green-500",children:""}),r.jsxs("span",{children:["",cn(te.products)||Tt(te.price)||"N/A","/kg"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"text-orange-500",children:""}),r.jsxs("span",{children:[te.products?.length||0," products"]})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-xs px-3 py-2 rounded transition-colors flex items-center gap-1 justify-center",onClick:()=>{We(te),De(!0)},children:[r.jsx("span",{children:""}),"Show Products"]}),r.jsx("button",{className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white text-xs px-3 py-2 rounded transition-colors",children:"Bargain"})]})]},te.id)})})]}),ee&&r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Supplier Details"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:ee.name}),r.jsx("p",{className:"text-sm text-gray-600",children:ee.location})]}),r.jsx(gg,{supplierId:ee.id}),Ie&&ee&&r.jsx(Cl,{initialOffer:parseInt(ee.price.replace(/[^\d]/g,""))})]})]})]})]}),fe&&Te&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[9999] p-4",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6 border-b pb-4",children:[r.jsxs("h3",{className:"text-xl font-bold text-gray-800",children:[" Products from ",Te.name]}),r.jsx("button",{onClick:()=>{De(!1),We(null)},className:"text-gray-500 hover:text-gray-700 text-2xl font-bold",children:""})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("h4",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:" Available Products"}),r.jsx("div",{className:"space-y-3",children:Te.products&&Array.isArray(Te.products)&&Te.products.length>0?Te.products.map((te,Oe)=>r.jsx("div",{className:"bg-white border-2 border-green-200 rounded-lg p-4 hover:border-green-300 transition-all",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:te.image||""}),r.jsxs("div",{children:[r.jsx("h5",{className:"text-lg font-bold text-gray-800",children:te.name||"Fresh Produce"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Premium quality, fresh from farm"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:te.price||"50/kg"}),r.jsx("p",{className:"text-xs text-gray-500",children:"per kilogram"})]}),r.jsx("button",{className:"px-4 py-2 bg-green-600 text-white text-sm font-bold rounded-lg hover:bg-green-700 transition-colors",onClick:()=>{alert(`${te.name||"Product"} added to cart!`)},children:" Add"})]})]})},Oe)):[{name:"Fresh Tomatoes",price:"45/kg",image:""},{name:"Organic Onions",price:"35/kg",image:""},{name:"Premium Potatoes",price:"30/kg",image:""},{name:"Fresh Carrots",price:"40/kg",image:""},{name:"Local Spinach",price:"50/kg",image:""},{name:"Green Peas",price:"60/kg",image:""},{name:"Cauliflower",price:"25/kg",image:""},{name:"Brinjal (Eggplant)",price:"40/kg",image:""},{name:"Cucumber",price:"30/kg",image:""},{name:"Bell Peppers",price:"80/kg",image:""},{name:"Ginger",price:"120/kg",image:""},{name:"Garlic",price:"100/kg",image:""},{name:"Coriander Leaves",price:"40/kg",image:""},{name:"Mint Leaves",price:"60/kg",image:""},{name:"Lemon",price:"80/kg",image:""}].map((te,Oe)=>r.jsx("div",{className:"bg-white border-2 border-green-200 rounded-lg p-4 hover:border-green-300 transition-all",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-3xl",children:te.image}),r.jsxs("div",{children:[r.jsx("h5",{className:"text-lg font-bold text-gray-800",children:te.name}),r.jsx("p",{className:"text-sm text-gray-600",children:"Premium quality, fresh from farm"})]})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-2xl font-bold text-green-600",children:te.price}),r.jsx("p",{className:"text-xs text-gray-500",children:"per kilogram"})]}),r.jsx("button",{className:"px-4 py-2 bg-green-600 text-white text-sm font-bold rounded-lg hover:bg-green-700 transition-colors",onClick:()=>{alert(`${te.name} added to cart!`)},children:" Add"})]})]})},Oe))})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsx("button",{className:"w-full px-6 py-3 bg-green-600 text-white text-lg font-bold rounded-lg hover:bg-green-700 transition-colors shadow-lg",onClick:()=>{alert("Products added to cart!"),De(!1),We(null)},children:" Add All Products to Cart"})})]})})]})},vg=()=>{const{user:d}=ln(),{cart:h,addToCart:l,removeFromCart:m,updateQuantity:g,getCartTotal:_,getCartCount:y}=ds(),[S,N]=w.useState(!1),[O,I]=w.useState(null),[b,V]=w.useState([]);w.useEffect(()=>{V([])},[]);const G=(z,Q)=>z/Q*100,J=z=>{const Q={id:z.id,name:z.product,price:`${z.price}`,image:z.image||"",supplier:z.supplier,quantity:1};l(Q),alert(`${z.product} added to cart!`)},R=()=>{alert(`Purchase confirmed for ${O.product}!`),N(!1),I(null)};return r.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[r.jsx(Si,{className:"w-8 h-8 text-yellow-500"}),r.jsx("h1",{className:"text-3xl font-bold text-primary-600",children:"Flash Sales"})]}),b.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Si,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-500 text-lg",children:"No active flash sales at the moment."}),r.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Check back later for exciting deals!"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:b.map(z=>r.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:z.image||"https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop",alt:z.product,className:"w-full h-48 object-cover",onError:Q=>{Q.target.src="https://images.unsplash.com/photo-1566385101042-1a0aa0c1268c?w=400&h=300&fit=crop"}}),r.jsxs("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-sm font-medium",children:[z.discount,"% OFF"]}),r.jsx("div",{className:"absolute top-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded text-sm font-medium",children:r.jsx(Tu,{endTime:z.endTime})})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:z.product}),r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",z.price]}),r.jsxs("span",{className:"text-gray-500 line-through",children:["",z.oldPrice]})]}),r.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["by ",z.supplier]}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[r.jsxs("span",{children:["Sold: ",z.sold,"/",z.total]}),r.jsxs("span",{children:[Math.round(G(z.sold,z.total)),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${G(z.sold,z.total)}%`}})})]}),r.jsx("div",{className:"flex gap-2",children:r.jsx("button",{className:"flex-1 btn-primary",onClick:()=>J(z),children:"Add to Cart"})})]})]},z.id))}),d&&(d.type==="supplier"||d.userType==="supplier")&&r.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-4 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[r.jsx(gf,{className:"w-8 h-8 text-green-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-green-600",children:"2,450"}),r.jsx("div",{className:"text-gray-600",children:"Total Savings"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[r.jsx(Si,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:b.length}),r.jsx("div",{className:"text-gray-600",children:"Active Sales"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[r.jsx(xf,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"1,234"}),r.jsx("div",{className:"text-gray-600",children:"Participants"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[r.jsx(Tl,{className:"w-8 h-8 text-red-600 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-red-600",children:"45m"}),r.jsx("div",{className:"text-gray-600",children:"Avg Time Left"})]})]}),h.length>0&&r.jsxs("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Cart (",y()," items)"]}),r.jsx("div",{className:"space-y-2",children:h.map((z,Q)=>r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("span",{children:z.name}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsx("button",{onClick:()=>g(z.id,z.quantity-1),className:"text-xs bg-gray-200 hover:bg-gray-300 px-1 rounded",children:"-"}),r.jsx("span",{className:"text-xs",children:z.quantity}),r.jsx("button",{onClick:()=>g(z.id,z.quantity+1),className:"text-xs bg-gray-200 hover:bg-gray-300 px-1 rounded",children:"+"})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("span",{className:"font-medium",children:["",z.price]}),r.jsx("button",{onClick:()=>m(z.id),className:"text-xs text-red-500 hover:text-red-700 ml-2",children:"Remove"})]})]},Q))}),r.jsx("div",{className:"border-t pt-2 mt-4",children:r.jsxs("div",{className:"flex justify-between font-semibold",children:[r.jsx("span",{children:"Total:"}),r.jsxs("span",{children:["",_()]})]})}),r.jsx("button",{className:"w-full btn-primary mt-4",children:"Buy Now"})]}),S&&O&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirm Purchase"}),r.jsxs("div",{className:"mb-4",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Product:"})," ",O.product]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Price:"})," ",O.price]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Supplier:"})," ",O.supplier]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:"flex-1 btn-primary",onClick:R,children:"Confirm Purchase"}),r.jsx("button",{className:"flex-1 btn-secondary",onClick:()=>N(!1),children:"Cancel"})]})]})})]})};w.createContext();const yg=d=>new Promise(h=>{setTimeout(()=>{h(d==="VALIDFSSAI123")},1e3)}),_g=({onVerify:d})=>{const[h,l]=w.useState(""),[m,g]=w.useState(null),[_,y]=w.useState(!1),S=async()=>{y(!0);const N=await yg(h);g(N?"valid":"invalid"),y(!1),N&&d&&d(h)};return r.jsxs("div",{className:"card space-y-4",children:[r.jsx("label",{className:"block font-semibold",children:"FSSAI License Number"}),r.jsx("input",{type:"text",value:h,onChange:N=>l(N.target.value),className:"input-field",placeholder:"Enter FSSAI License Number"}),r.jsx("button",{className:"btn-primary",onClick:S,disabled:_,children:_?"Verifying...":"Verify"}),m==="valid"&&r.jsx("div",{className:"text-green-600",children:"License is valid "}),m==="invalid"&&r.jsx("div",{className:"text-red-600",children:"Invalid license "})]})},wg=()=>{const{user:d,updateProfile:h}=ln(),[l,m]=w.useState(!1),[g,_]=w.useState(!1),[y,S]=w.useState([]),[N,O]=w.useState(null),[I,b]=w.useState(null),[V,G]=w.useState({name:d?.name||"",phone:d?.phone||"",address:d?.address||"",fssaiLicense:d?.fssaiLicense||"",businessName:d?.businessName||"",businessType:d?.businessType||"",description:d?.description||""});if(w.useEffect(()=>{if(d?.id){const Q=on.getDeliveriesByVendor(d.id);S(Q)}},[d?.id]),w.useEffect(()=>d?.id?ft.subscribe("order_update",B=>{B.vendorId===d.id&&B.action==="new_order"&&(console.log("New order received in real-time:",B.order),S($=>[B.order,...$]))}):void 0,[d?.id]),!d)return r.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Profile"}),r.jsx("p",{className:"text-gray-600",children:"Please log in to view your profile."})]})});const J=()=>{h(V),m(!1)},R=Q=>{if(console.log("Product review submitted:",Q),d?.id){const B=on.getDeliveriesByVendor(d.id);S(B)}b(null)},z=(Q,B)=>{G($=>({...$,[Q]:B}))};return r.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"Profile"}),r.jsxs("button",{onClick:()=>m(!l),className:"btn-secondary flex items-center gap-2",children:[l?"Cancel":r.jsx(_u,{className:"w-4 h-4"}),l?"":"Edit Profile"]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"card",children:[r.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[r.jsx(sa,{className:"w-5 h-5"}),"Basic Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),l?r.jsx("input",{type:"text",value:V.name,onChange:Q=>z("name",Q.target.value),className:"input-field"}):r.jsx("div",{className:"text-gray-900",children:d.name})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("div",{className:"text-gray-900",children:d.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),l?r.jsx("input",{type:"tel",value:V.phone,onChange:Q=>z("phone",Q.target.value),className:"input-field"}):r.jsx("div",{className:"text-gray-900",children:d.phone||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),l?r.jsx("textarea",{value:V.address,onChange:Q=>z("address",Q.target.value),className:"input-field",rows:"3"}):r.jsx("div",{className:"text-gray-900",children:d.address||"Not provided"})]})]})]}),d.type==="supplier"&&r.jsxs("div",{className:"card",children:[r.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[r.jsx(lf,{className:"w-5 h-5"}),"Business Information"]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Name"}),l?r.jsx("input",{type:"text",value:V.businessName,onChange:Q=>z("businessName",Q.target.value),className:"input-field"}):r.jsx("div",{className:"text-gray-900",children:d.businessName||"Not provided"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Type"}),l?r.jsxs("select",{value:V.businessType,onChange:Q=>z("businessType",Q.target.value),className:"input-field",children:[r.jsx("option",{value:"",children:"Select Type"}),r.jsx("option",{value:"wholesale",children:"Wholesale"}),r.jsx("option",{value:"retail",children:"Retail"}),r.jsx("option",{value:"manufacturing",children:"Manufacturing"}),r.jsx("option",{value:"distribution",children:"Distribution"})]}):r.jsx("div",{className:"text-gray-900",children:d.businessType||"Not specified"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Description"}),l?r.jsx("textarea",{value:V.description,onChange:Q=>z("description",Q.target.value),className:"input-field",rows:"3"}):r.jsx("div",{className:"text-gray-900",children:d.description||"No description"})]})]})]}),l&&r.jsxs("div",{className:"flex gap-4",children:[r.jsxs("button",{onClick:J,className:"btn-primary flex items-center gap-2",children:[r.jsx(mf,{className:"w-4 h-4"}),"Save"]}),r.jsx("button",{onClick:()=>m(!1),className:"btn-secondary",children:"Cancel"})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(os,{className:"w-5 h-5 text-blue-600"}),"Recent Orders"]}),r.jsx("div",{className:"space-y-4",children:y.length===0?r.jsxs("div",{className:"text-center py-8 text-gray-500",children:[r.jsx(os,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),r.jsx("p",{children:"No orders yet"}),r.jsx("p",{className:"text-sm",children:"Your recent orders will appear here"})]}):y.slice(0,5).map(Q=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("h4",{className:"font-medium text-gray-900 mb-1",children:["Order #",Q.orderId||Q.id]}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["from ",Q.supplier]}),r.jsx("div",{className:"space-y-3",children:Q.products&&Array.isArray(Q.products)?Q.products.map((B,$)=>{const D=typeof B=="string"?B:B.name||"Item",A=typeof B=="object"&&B.quantity||1,ee=typeof B=="object"&&B.unit||"kg",ue=typeof B=="object"?B.price:null,Se=typeof B=="object"?B.image:null;return r.jsxs("div",{className:"flex items-center gap-3 p-2 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center overflow-hidden",children:[Se?r.jsx("img",{src:Se,alt:D,className:"w-full h-full object-cover",onError:rt=>{rt.target.style.display="none",rt.target.nextSibling.style.display="flex"}}):null,r.jsx("div",{className:"w-full h-12 bg-gray-300 flex items-center justify-center text-lg text-gray-500",style:{display:Se?"none":"flex"},children:""})]}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[A," ",ee," ",D]}),ue&&r.jsxs("span",{className:"text-sm text-gray-600",children:["",ue]})]}),Q.status==="delivered"&&r.jsx("button",{onClick:()=>b({...B,orderId:Q.orderId||Q.id,supplierId:Q.supplierId,supplierName:Q.supplier}),className:"text-sm bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded-md font-medium mt-2 transition-colors",children:" Write Review"})]})]},$)}):r.jsx("div",{className:"text-sm text-gray-700",children:Q.products||"Order Items"})})]}),r.jsxs("div",{className:"text-right ml-4",children:[r.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["",Q.totalAmount]}),r.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${Q.status==="delivered"?"bg-green-100 text-green-800":Q.status==="in-transit"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:Q.status})]})]}),r.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500 mb-3",children:[r.jsx("span",{children:new Date(Q.orderDate).toLocaleDateString()}),r.jsxs("span",{children:["Order ID: ",Q.orderId||Q.id]})]})]},Q.id))})]})]}),I&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Review ",I.name]}),r.jsx("button",{onClick:()=>b(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsx(Ru,{itemId:I.id,itemName:I.name,supplierId:I.supplierId,supplierName:I.supplierName,onClose:()=>b(null),onSubmit:R,readOnly:!1})]})}),g&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"FSSAI License Verification"}),r.jsx(_g,{onVerify:Q=>{h({fssaiLicense:Q,fssaiVerified:!0}),_(!1)}}),r.jsx("button",{onClick:()=>_(!1),className:"w-full btn-secondary mt-4",children:"Cancel"})]})})]})},Ng=()=>{const{addToCart:d}=ds(),{products:h,loading:l}=Il(),[m,g]=w.useState(""),[_,y]=w.useState("name"),[S,N]=w.useState(!1),[O,I]=w.useState(null),[b,V]=w.useState(!1),[G,J]=w.useState(null),[R,z]=w.useState(!1),[Q,B]=w.useState(0),[$,D]=w.useState(200),[A,ee]=w.useState(0),[ue,Se]=w.useState(!1),[rt,Y]=w.useState(!1),[me,Ie]=w.useState([]);w.useEffect(()=>{const C=()=>{try{if(console.log("All products for organic page:",h),h&&h.length>0){const K=h.filter(k=>k.isOrganic===!0||k.organic===!0).map(k=>({id:k.id,name:k.name,price:k.price,image:k.image,supplier:k.supplierName,supplierId:k.supplierId,description:k.description||`Fresh organic ${k.name} from ${k.supplierName}`,rating:k.supplierRating||4.5,reviews:Math.floor(Math.random()*50)+10,quantity:`${k.stock||k.quantity||0} ${k.unit||"kg"}`,availableStock:k.stock||k.quantity||0,unit:k.unit||"kg",certifications:["Organic","FSSAI"]}));console.log("Filtered organic products:",K),Ie(K)}else Ie([])}catch(K){console.error("Error loading organic products:",K),Ie([])}};C();const se=ft.subscribe("product_update",K=>{console.log("Product update received in Organic page:",K),K&&K.action&&setTimeout(()=>{C()},200)});return()=>se()},[h]);const Ze=[...me.filter(C=>{const se=C.name.toLowerCase().includes(m.toLowerCase())||C.supplier.toLowerCase().includes(m.toLowerCase()),K=C.price>=Q&&C.price<=$,k=C.rating>=A,X=!ue||C.certifications.includes("Organic"),xe=!rt||C.certifications.includes("FSSAI");return se&&K&&k&&X&&xe})].sort((C,se)=>{switch(_){case"price":return C.price-se.price;case"rating":return se.rating-C.rating;case"name":return C.name.localeCompare(se.name);default:return 0}}),de=C=>{I(C),V(!0)},ke=C=>{if(C.availableStock<=0){alert("This product is out of stock!");return}const se={id:C.id,name:C.name,price:C.price,image:C.image,supplier:C.supplier,supplierId:C.supplierId,quantity:1,unit:C.unit};d(se),alert(`${C.name} added to cart!`)},ce=C=>{console.log("New review submitted:",C)};return new Set(me.map(C=>C.supplier)).size,me.filter(C=>C.certifications.includes("Organic")).length,me.length>0&&(me.reduce((C,se)=>C+se.rating,0)/me.length).toFixed(1),r.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[r.jsx(pf,{className:"w-8 h-8 text-green-600"}),r.jsx("h1",{className:"text-3xl font-bold text-primary-600",children:"Organic Products Marketplace"})]}),r.jsxs("div",{className:"mb-6 space-y-4",children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsxs("div",{className:"flex-1 relative",children:[r.jsx(Iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search Organic Products...",value:m,onChange:C=>g(C.target.value),className:"input-field pl-10"})]}),r.jsxs("button",{onClick:()=>N(!S),className:"btn-secondary flex items-center gap-2",children:[r.jsx(Lu,{className:"w-4 h-4"}),"Filter"]})]}),S&&r.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Price (/kg)"}),r.jsx("input",{type:"number",min:"0",max:"200",value:Q,onChange:C=>B(Number(C.target.value)),className:"input-field",placeholder:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Price (/kg)"}),r.jsx("input",{type:"number",min:"0",max:"200",value:$,onChange:C=>D(Number(C.target.value)),className:"input-field",placeholder:"200"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Rating"}),r.jsxs("select",{value:A,onChange:C=>ee(Number(C.target.value)),className:"input-field",children:[r.jsx("option",{value:0,children:"Any Rating"}),r.jsx("option",{value:3,children:"3+ Stars"}),r.jsx("option",{value:4,children:"4+ Stars"}),r.jsx("option",{value:4.5,children:"4.5+ Stars"})]})]})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Ze.map(C=>{const se=C.availableStock<=0;return r.jsxs("div",{className:`rounded-lg shadow-md overflow-hidden transition-shadow ${se?"bg-gray-100 opacity-60":"bg-white hover:shadow-lg"}`,children:[r.jsx("img",{src:C.image,alt:C.name,className:`w-full h-48 object-cover ${se?"grayscale":""}`}),r.jsxs("div",{className:`p-6 ${se?"text-gray-500":""}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:`text-xl font-bold ${se?"text-gray-600":""}`,children:C.name}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-2xl font-bold ${se?"text-gray-500":"text-green-600"}`,children:["",C.price,"/",C.unit]}),r.jsx("div",{className:`text-sm font-medium ${C.availableStock<=0?"text-red-600":C.availableStock<10?"text-orange-600":"text-gray-600"}`,children:C.availableStock<=0?"Out of Stock":`${C.availableStock} ${C.unit} available`})]})]}),r.jsx("p",{className:`mb-4 ${se?"text-gray-400":"text-gray-600"}`,children:C.description}),se&&r.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-blue-700 font-medium",children:" We will notify you when this product is available"})}),r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(wn,{className:`w-4 h-4 ${se?"text-gray-400":"text-yellow-400"}`}),r.jsx("span",{className:`text-sm ${se?"text-gray-400":""}`,children:C.rating}),r.jsxs("span",{className:`text-sm ${se?"text-gray-400":"text-gray-500"}`,children:["(",C.reviews,")"]})]}),r.jsxs("div",{className:`text-sm ${se?"text-gray-400":"text-gray-500"}`,children:["by ",C.supplier]})]}),r.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:C.certifications.map(K=>r.jsx("span",{className:`text-xs px-2 py-1 rounded ${se?"bg-gray-200 text-gray-500":"bg-blue-100 text-blue-700"}`,children:K},K))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{className:`flex-1 ${C.availableStock<=0?"bg-gray-300 text-gray-500 cursor-not-allowed":"btn-primary"}`,onClick:()=>ke(C),disabled:C.availableStock<=0,children:C.availableStock<=0?"Out of Stock":"Add to Cart"}),r.jsxs("button",{className:`flex items-center gap-1 py-2 px-4 rounded-lg font-medium transition-colors ${se?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,onClick:()=>de(C),disabled:C.availableStock<=0,children:[r.jsx(as,{className:"w-4 h-4"}),"Bargain"]}),r.jsxs("button",{className:`flex items-center gap-1 py-2 px-4 rounded-lg font-medium transition-colors ${se?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,onClick:()=>J(C),disabled:se,children:[r.jsx(wn,{className:"w-4 h-4"}),"Reviews"]})]})]})]},C.id)})})}),r.jsx("div",{className:"space-y-6",children:b&&O&&r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Bargain with ",O.supplier]}),r.jsx(Cl,{initialOffer:O.price})]})})]}),G&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Reviews for ",G.name]}),r.jsx("button",{onClick:()=>J(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsx(Ru,{itemId:G.id,itemName:G.name,supplierId:G.supplierId,supplierName:G.supplier,onClose:()=>J(null),onSubmit:ce,readOnly:!0})]})})]})},zu=({isOpen:d,onClose:h,item:l,quantity:m,totalPrice:g,onConfirmOrder:_})=>{const[y,S]=w.useState(""),[N,O]=w.useState("COD"),[I,b]=w.useState(!1),V=[{id:"COD",label:"Cash on Delivery",icon:Ap},{id:"UPI",label:"UPI Payment",icon:$p},{id:"CARD",label:"Credit/Debit Card",icon:pu},{id:"NETBANKING",label:"Net Banking",icon:pu}],G=async()=>{if(!y.trim()){alert("Please enter a delivery address");return}b(!0);try{await _({item:l,quantity:m,totalPrice:g,deliveryAddress:y.trim(),paymentMethod:N}),S(""),O("COD"),h()}catch{alert("Failed to place order. Please try again.")}finally{b(!1)}};return d?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Complete Your Order"}),r.jsx("button",{onClick:h,className:"text-gray-500 hover:text-gray-700",disabled:I,children:r.jsx(On,{className:"w-5 h-5"})})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Order Summary"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:l?.name}),r.jsxs("span",{children:[m," ",l?.unit]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{children:["Price per ",l?.unit]}),r.jsxs("span",{children:["",l?.price]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Supplier"}),r.jsx("span",{children:l?.supplier})]}),r.jsx("hr",{className:"my-2"}),r.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[r.jsx("span",{children:"Total Amount"}),r.jsxs("span",{children:["",g]})]})]})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[r.jsx(ta,{className:"w-4 h-4 inline mr-1"}),"Delivery Address *"]}),r.jsx("textarea",{value:y,onChange:J=>S(J.target.value),placeholder:"Enter your complete delivery address...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",disabled:I})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Payment Method"}),r.jsx("div",{className:"space-y-2",children:V.map(J=>{const R=J.icon;return r.jsxs("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${N===J.id?"border-blue-500 bg-blue-50":"border-gray-300 hover:bg-gray-50"}`,children:[r.jsx("input",{type:"radio",name:"paymentMethod",value:J.id,checked:N===J.id,onChange:z=>O(z.target.value),className:"mr-3",disabled:I}),r.jsx(R,{className:"w-5 h-5 mr-2 text-gray-600"}),r.jsx("span",{children:J.label})]},J.id)})})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:h,className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",disabled:I,children:"Cancel"}),r.jsx("button",{onClick:G,disabled:I||!y.trim(),className:"flex-1 py-3 px-4 bg-green-600 text-white rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:I?"Processing...":`Place Order - ${g}`})]}),N!=="COD"&&r.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:r.jsx("p",{className:"text-sm text-blue-800",children:"You will be redirected to the payment gateway after confirming your order."})})]})}):null},bg=()=>{const d=Ur(),{user:h}=ln(),{addToCart:l}=ds(),{products:m,loading:g,searchProducts:_,decreaseStock:y}=Il(),[S,N]=w.useState([]),[O,I]=w.useState(""),[b,V]=w.useState("all"),[G,J]=w.useState({}),[R,z]=w.useState({}),Q=(U,le)=>{const He=G[U]??le??0;return console.log(`getUIStock for product ${U}: stockLevels[${U}] = ${G[U]}, fallback = ${le}, result = ${He}`),He},B=U=>U==="kg"?"kg":U||"kg",[$,D]=w.useState(null),[A,ee]=w.useState(!1),[ue,Se]=w.useState(!1),[rt,Y]=w.useState(!1),[me,Ie]=w.useState(!0),[Ue,Ze]=w.useState({open:!1,bargain:null,item:null}),[de,ke]=w.useState(""),[ce,C]=w.useState(""),[se,K]=w.useState("all"),[k,X]=w.useState(""),[xe,ye]=w.useState(""),[pe,fe]=w.useState(""),[De,Te]=w.useState("name"),[We,it]=w.useState("all"),[Tt,cn]=w.useState(""),[kt,Wn]=w.useState(0),[te,Oe]=w.useState(!1),[Ke,un]=w.useState(!1),[xt,mt]=w.useState(null),[T,Be]=w.useState(!1),[pt,Xt]=w.useState(null),st=()=>{try{if(console.log("Loading products from API in FindItems:",m),m&&m.length>0){const U=qe.getAllFlashSales(),le=new Set(U.map(je=>je.product.toLowerCase())),He=m.filter(je=>!le.has(je.name.toLowerCase())).map(je=>({id:je.id,name:je.name,price:je.price,image:je.image,supplier:je.supplierName,supplierId:je.supplierId,category:je.category?je.category.toLowerCase():"general",description:je.description||`Fresh ${je.name} from ${je.supplierName}`,rating:je.supplierRating||4.5,reviews:Math.floor(Math.random()*50)+10,quantity:je.stock||je.quantity||0,availableStock:je.stock||je.quantity||0,unit:je.unit||"kg",isOrganic:je.isOrganic||je.organic||!1,isVerified:je.fssaiVerified||!0,location:je.supplierLocation,deliveryTime:je.deliveryTime||"2-4 hours",minimumOrder:je.minimumOrder||100}));console.log("Transformed items:",He),N(He),Ie(!1);const $e={},Pe={};He.forEach(je=>{const Xe=parseInt(je.availableStock)||0;$e[je.id]=Xe,Pe[je.id]=Xe>0?1:0}),console.log("Initial stock levels:",$e),J($e),z(Pe)}else console.log("No products found"),N([]),Ie(!1)}catch(U){console.error("Error loading products:",U),N([]),Ie(!1)}};w.useEffect(()=>{st();const U=ft.subscribe("bargain_update",$e=>{console.log("Bargain update received in FindItems:",$e)}),le=ft.subscribe("stock_update",$e=>{if(console.log("Stock update received in FindItems:",$e),$e&&$e.productId){const Pe=$e.newStock??$e.product?.stock??0;console.log("Stock update for product:",$e.productId,"new stock:",Pe),J(je=>({...je,[$e.productId]:Pe})),N(je=>je.map(Xe=>Xe.id===$e.productId?{...Xe,stock:Pe,quantity:Pe,availableStock:Pe}:Xe))}}),He=ft.subscribe("product_update",$e=>{if(console.log("Product update received in FindItems:",$e),$e&&$e.action==="create"){const Pe=$e.product;console.log("New product created, adding to items list:",Pe),N(Xe=>{if(Xe.some(lr=>lr.id===Pe.id))return console.log("Product already exists, skipping duplicate"),Xe;const en={id:Pe.id,name:Pe.name,price:Pe.price,image:Pe.image,supplier:Pe.supplierName,supplierId:Pe.supplierId,category:Pe.category?Pe.category.toLowerCase():"general",description:Pe.description||`Fresh ${Pe.name} from ${Pe.supplierName}`,rating:Pe.supplierRating||4.5,reviews:Math.floor(Math.random()*50)+10,quantity:Pe.stock||Pe.quantity||0,availableStock:Pe.stock||Pe.quantity||0,unit:Pe.unit||"kg",isOrganic:Pe.isOrganic||Pe.organic||!1,isVerified:Pe.fssaiVerified||!0,location:Pe.supplierLocation,deliveryTime:Pe.deliveryTime||"2-4 hours",minimumOrder:Pe.minimumOrder||100};return[...Xe,en]});const je=parseInt(Pe.stock||Pe.quantity||0);J(Xe=>({...Xe,[Pe.id]:je})),z(Xe=>({...Xe,[Pe.id]:je>0?1:0}))}});return()=>{U(),le(),He()}},[]);const bt=[...S].sort((U,le)=>{switch(De){case"name":return U.name.localeCompare(le.name);default:return 0}});Array.from(new Set(S.map(U=>U.category))),Array.from(new Set(S.map(U=>U.supplier)));const Ut=bt.filter(U=>!(pe&&!U.name.toLowerCase().includes(pe.toLowerCase())&&!U.supplier.toLowerCase().includes(pe.toLowerCase())&&!U.description.toLowerCase().includes(pe.toLowerCase())||se==="organic"&&!U.isOrganic||se==="inorganic"&&U.isOrganic||k&&U.price<parseFloat(k)||xe&&U.price>parseFloat(xe)||We!=="all"&&U.category!==We||Tt&&U.supplier!==Tt||kt>0&&U.rating<kt)),At=(U,le)=>{const He=S.find(je=>je.id===U),$e=Q(U,He?.availableStock||0),Pe=Math.max(1,parseInt(le)||1);if(Pe>$e){alert(`Only ${$e} units are available`),z(je=>({...je,[U]:Math.min(je[U]??1,$e)}));return}z(je=>({...je,[U]:Pe}))},hs=U=>{let He=ut.getAllBargains().find($e=>$e.productId===U.id&&$e.vendorId===1);He||(He=ut.addBargain({productId:U.id,productName:U.name,supplierId:U.supplierId||2,supplierName:U.supplier,vendorId:1,vendorName:"Manya",messages:[]})),Ze({open:!0,bargain:He,item:U})},ar=({product:U,agreedPrice:le,originalPrice:He})=>{if(!h){alert("Please log in to add items to cart");return}const $e=1,Pe={...U,price:le,originalPrice:He,quantity:$e,isBargained:!0};l(Pe,$e),Ze({open:!1,bargain:null,item:null}),alert(`Item added to cart at bargained price ${le}!`)},or=U=>{if(!h){alert("Please log in to add items to cart"),d("/login");return}const le=R[U.id]||1,He=Q(U.id,U.availableStock||0);if(He<=0){alert("This item is out of stock!");return}if(le>He){alert(`Only ${He} units are available`);return}if(le<=0){alert("Please select a valid quantity");return}const $e={id:U.id,name:U.name,price:U.price,image:U.image,supplier:U.supplier,supplierId:U.supplierId,quantity:le,unit:U.unit};l($e),z(Pe=>({...Pe,[U.id]:1})),alert(`${U.name} (${le} ${U.unit}) added to cart!`)},ca=U=>{if(console.log("handleBuyNow called with item:",U),!h){alert("Please log in to buy items"),d("/login");return}const le=R[U.id]||1,He=Q(U.id,U.availableStock||0);if(console.log(`Buy Now validation - Quantity: ${le}, Available: ${He}`),He<=0){alert("This item is out of stock!");return}if(le>He){alert(`Only ${He} units are available`);return}if(le<=0){alert("Please select a valid quantity");return}const $e={...U,name:U.name,supplier:U.supplier,unit:U.unit,quantity:le,totalPrice:U.price*le};console.log("Setting buyNowItem:",$e),Xt($e),Be(!0),console.log("Buy Now dialog should open now")},Pi=async U=>{try{console.log("handleConfirmOrder called with:",U);const{item:le,quantity:He,totalPrice:$e,deliveryAddress:Pe,paymentMethod:je}=U,Xe=await y(le.id,He,{vendorId:h?.id,vendorName:h?.name,deliveryAddress:Pe,paymentMethod:je});if(console.log("Stock update result:",Xe),!Xe||!Xe.success){console.error("Stock update failed:",Xe),alert(`Failed to update inventory: ${Xe?.message||"Unknown error"}`);return}const Nn=Xe.data.stock||Xe.data.quantity||0;console.log("Stock update successful:"),console.log(`  - Product ID: ${le.id}`),console.log(`  - Quantity bought: ${He}`),console.log(`  - New stock: ${Nn}`),J(en=>({...en,[le.id]:Nn})),N(en=>en.map(lr=>lr.id===le.id?{...lr,availableStock:Nn,quantity:Nn,stock:Nn}:lr)),Nn>0?z(en=>({...en,[le.id]:Math.min(en[le.id]??1,Nn)})):z(en=>({...en,[le.id]:1})),on.addDelivery({customer:h?.name||"Manya",customerId:h?.id||1,supplier:le.supplier,supplierId:le.supplierId,products:[{id:le.id,name:le.name,quantity:He,price:le.price,unit:le.unit,image:le.image}],totalAmount:$e,deliveryAddress:Pe,paymentMethod:je,status:"delivered",orderDate:new Date().toISOString(),estimatedDelivery:new Date(Date.now()+1440*60*1e3).toISOString()}),alert(`Order placed successfully! Your ${le.name} will be delivered soon.`),Be(!1),Xt(null)}catch(le){console.error("Error in handleConfirmOrder:",le),alert("Failed to place order. Please try again.")}},Zr=U=>{alert("Handler called!");const le={productId:xt.id,productName:xt.name,supplierId:xt.supplierId,supplierName:xt.supplier,vendorId:1,vendorName:"Manya",rating:U.rating,comment:U.comment};console.log("Submitting review:",le),Nt.addReview(le),alert("Review submitted successfully!"),mt(null)},fs=Ut.length;return r.jsxs("div",{className:"max-w-none mx-auto py-12 px-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[r.jsx(os,{className:"w-8 h-8 text-blue-600"}),r.jsx("h1",{className:"text-3xl font-bold text-primary-600",children:"Find Items"})]}),r.jsxs("div",{className:"mb-6 space-y-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Iu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),r.jsx("input",{type:"text",placeholder:"Search for items, suppliers, or descriptions...",value:pe,onChange:U=>fe(U.target.value),className:"input-field pl-10"})]}),r.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[r.jsxs("button",{onClick:()=>Oe(!te),className:"btn-secondary flex items-center gap-2",children:[r.jsx(Lu,{className:"w-4 h-4"}),"Filter"]}),r.jsxs("div",{className:"flex items-center gap-2 bg-white rounded-lg shadow-md px-4 py-2",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Quantity of Items:"}),r.jsx("span",{className:"text-lg font-bold text-blue-600",children:fs})]})]})]}),te&&r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Advanced Filters"}),r.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[r.jsxs("select",{value:se,onChange:U=>K(U.target.value),className:"border rounded px-2 py-1",children:[r.jsx("option",{value:"all",children:"All Types"}),r.jsx("option",{value:"organic",children:"Organic"}),r.jsx("option",{value:"inorganic",children:"Inorganic"})]}),r.jsx("input",{type:"number",placeholder:"Min Price",value:k,onChange:U=>X(U.target.value),className:"border rounded px-2 py-1 w-24"}),r.jsx("input",{type:"number",placeholder:"Max Price",value:xe,onChange:U=>ye(U.target.value),className:"border rounded px-2 py-1 w-24"}),r.jsxs("select",{value:We,onChange:U=>it(U.target.value),className:"border rounded px-2 py-1",children:[r.jsx("option",{value:"all",children:"All Categories"}),r.jsx("option",{value:"fruits",children:"Fruits"}),r.jsx("option",{value:"vegetables",children:"Vegetables"}),r.jsx("option",{value:"oils",children:"Oils"}),r.jsx("option",{value:"grains",children:"Grains"}),r.jsx("option",{value:"grams",children:"Grams"}),r.jsx("option",{value:"flours",children:"Flours"}),r.jsx("option",{value:"nuts",children:"Nuts"})]}),r.jsxs("select",{value:kt,onChange:U=>Wn(Number(U.target.value)),className:"border rounded px-2 py-1",children:[r.jsx("option",{value:0,children:"Any Rating"}),r.jsx("option",{value:3,children:"3+ Stars"}),r.jsx("option",{value:4,children:"4+ Stars"}),r.jsx("option",{value:4.5,children:"4.5+ Stars"})]})]})]}),r.jsxs("div",{className:`flex flex-col gap-8 ${ue&&$?"lg:flex-row":""}`,children:[r.jsx("div",{className:"flex-1",children:Ut.length===0?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-gray-500 text-lg",children:"No items found matching your search criteria."})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ut.map(U=>{const le=Q(U.id,U.availableStock)<=0;return r.jsxs("div",{className:`rounded-lg shadow-md overflow-hidden transition-shadow ${le?"bg-gray-100 opacity-60":"bg-white hover:shadow-lg"}`,children:[r.jsxs("div",{className:`w-full h-48 flex items-center justify-center overflow-hidden ${le?"bg-gray-200":"bg-gray-100"}`,children:[r.jsx("img",{src:U.image,alt:U.name,className:`w-full h-full object-cover ${le?"grayscale":""}`,onError:He=>{He.target.style.display="none",He.target.nextSibling.style.display="flex"}}),r.jsx("div",{className:`w-full h-48 flex items-center justify-center text-4xl ${le?"bg-gray-300 text-gray-500":"bg-gray-200 text-gray-400"}`,style:{display:"none"},children:""})]}),r.jsxs("div",{className:`p-4 ${le?"text-gray-500":""}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:`text-xl font-bold ${le?"text-gray-600":""}`,children:U.name}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`text-2xl font-bold ${le?"text-gray-500":"text-blue-600"}`,children:["",U.price,"/",U.unit]}),r.jsx("div",{className:`text-sm font-medium ${Q(U.id,U.availableStock)<=0?"text-red-600":Q(U.id,U.availableStock)<10?"text-orange-600":"text-gray-600"}`,children:Q(U.id,U.availableStock)<=0?"Out of Stock":`${Q(U.id,U.availableStock)} ${B(U.unit)} available`})]})]}),r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:`text-2xl font-bold ${le?"text-gray-500":"text-green-600"}`,children:["",U.price]}),r.jsxs("span",{className:`text-xs ${le?"text-gray-400":"text-gray-500"}`,children:["per ",U.unit||"piece"]})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsxs("span",{className:`text-sm ${le?"text-gray-400":"text-gray-500"}`,children:["Stock: ",Q(U.id,U.availableStock)," ",B(U.unit)]})})]}),r.jsx("p",{className:`mb-4 ${le?"text-gray-400":"text-gray-600"}`,children:U.description}),le&&r.jsx("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:r.jsx("p",{className:"text-sm text-blue-700 font-medium",children:" We will notify you when this product is available"})}),r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(wn,{className:`w-4 h-4 ${le?"text-gray-400":"text-yellow-400"}`}),r.jsx("span",{className:`text-sm ${le?"text-gray-400":""}`,children:U.rating.toFixed(1)}),r.jsxs("span",{className:`text-sm ${le?"text-gray-400":"text-gray-500"}`,children:["(",U.reviews,")"]})]}),r.jsxs("div",{className:`text-sm ${le?"text-gray-400":"text-gray-500"}`,children:["by ",U.supplier]})]}),r.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[U.isOrganic&&r.jsx("span",{className:`text-xs px-2 py-1 rounded ${le?"bg-gray-200 text-gray-500":"bg-green-100 text-green-700"}`,children:"Organic"}),!U.isOrganic&&U.isVerified&&r.jsx("span",{className:`text-xs px-2 py-1 rounded ${le?"bg-gray-200 text-gray-500":"bg-blue-100 text-blue-700"}`,children:"FSSAI Verified"}),r.jsx("span",{className:`text-xs px-2 py-1 rounded ${le?"bg-gray-200 text-gray-500":"bg-gray-100 text-gray-700"}`,children:U.category})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx("label",{className:`text-sm font-medium ${le?"text-gray-400":"text-gray-700"}`,children:"Quantity:"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>At(U.id,(R[U.id]||1)-1),disabled:Q(U.id,U.availableStock)<=0||(R[U.id]||1)<=1,className:`w-8 h-8 rounded border flex items-center justify-center ${le?"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed":"border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:"-"}),r.jsx("input",{type:"number",min:"1",max:Q(U.id,U.availableStock),value:R[U.id]||1,onChange:He=>At(U.id,He.target.value),disabled:Q(U.id,U.availableStock)<=0,className:`w-16 text-center border rounded px-2 py-1 ${le?"border-gray-200 bg-gray-100 text-gray-400":"border-gray-300 disabled:bg-gray-100"}`}),r.jsx("button",{onClick:()=>At(U.id,(R[U.id]||1)+1),disabled:Q(U.id,U.availableStock)<=0||(R[U.id]||1)>=Q(U.id,U.availableStock),className:`w-8 h-8 rounded border flex items-center justify-center ${le?"border-gray-200 bg-gray-100 text-gray-400 cursor-not-allowed":"border-gray-300 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"}`,children:"+"}),r.jsx("span",{className:`text-sm ${le?"text-gray-400":"text-gray-600"}`,children:B(U.unit)})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{className:`flex-1 flex items-center justify-center gap-2 py-2 px-4 rounded-lg font-medium transition-colors ${Q(U.id,U.availableStock)<=0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,onClick:()=>or(U),disabled:Q(U.id,U.availableStock)<=0,children:[r.jsx(ki,{className:"w-4 h-4"}),Q(U.id,U.availableStock)<=0?"Out of Stock":"Add to Cart"]}),r.jsxs("button",{className:`flex items-center gap-1 py-2 px-4 rounded-lg font-medium transition-colors ${le?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,onClick:()=>hs(U),disabled:Q(U.id,U.availableStock)<=0,children:[r.jsx(as,{className:"w-4 h-4"}),"Bargain"]}),r.jsxs("button",{className:`flex items-center gap-1 py-2 px-4 rounded-lg font-medium transition-colors ${le?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-orange-100 text-orange-700 hover:bg-orange-200"}`,onClick:()=>mt(U),disabled:le,children:[r.jsx(wn,{className:"w-4 h-4"}),"Reviews"]})]}),r.jsxs("button",{className:`w-full mt-2 flex items-center justify-center gap-2 py-2 px-4 rounded-lg font-medium transition-colors ${Q(U.id,U.availableStock)<=0?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"}`,onClick:()=>{console.log("Buy Now clicked for item:",U),ca(U)},disabled:Q(U.id,U.availableStock)<=0,children:[r.jsx(ki,{className:"w-4 h-4"}),Q(U.id,U.availableStock)<=0?"Out of Stock":`Buy Now - ${U.price*(R[U.id]||1)}`]})]})]},U.id)})})}),ue&&$&&r.jsx("div",{className:"w-80 space-y-6",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Bargain with ",$.supplier]}),r.jsx(Cl,{initialOffer:$.price})]})})]}),xt&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Reviews for ",xt.name]}),r.jsx("button",{onClick:()=>mt(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsx(Ru,{itemId:xt.id,itemName:xt.name,supplierId:xt.supplierId,supplierName:xt.supplier,onClose:()=>mt(null),onSubmit:Zr,readOnly:!0})]})}),Ue.open&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Bargain Chat for ",Ue.item.name]}),r.jsx("button",{onClick:()=>Ze({open:!1,bargain:null,item:null}),className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsx(Cl,{initialOffer:Ue.item.price,product:Ue.item,onBargainConfirmed:ar})]})}),r.jsx(zu,{isOpen:T,onClose:()=>Be(!1),item:pt,quantity:pt?.quantity,totalPrice:pt?.totalPrice,onConfirmOrder:Pi})]})},jg=({isOpen:d,onClose:h,item:l,onConfirm:m})=>{const[g,_]=w.useState(1),y=l?.total-l?.sold||0,S=O=>{if(!(O<1)){if(O>y){alert(`Only ${y} items available!`);return}_(O)}},N=()=>{m(g),_(1),h()};return d?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h3",{className:"text-xl font-semibold",children:"Select Quantity"}),r.jsx("button",{onClick:h,className:"text-gray-500 hover:text-gray-700",children:r.jsx(On,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex items-center gap-4",children:[l?.image&&r.jsx("img",{src:l.image,alt:l.product,className:"w-16 h-16 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium",children:l?.product}),r.jsxs("p",{className:"text-sm text-gray-600",children:["by ",l?.supplier]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[r.jsxs("span",{className:"text-lg font-bold text-green-600",children:["",l?.price]}),r.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",l?.oldPrice]}),r.jsxs("span",{className:"text-xs bg-red-100 text-red-600 px-2 py-1 rounded",children:[l?.discount,"% OFF"]})]})]})]})}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Quantity"}),r.jsxs("div",{className:"flex items-center justify-center gap-4",children:[r.jsx("button",{onClick:()=>S(g-1),className:"w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",disabled:g<=1,children:r.jsx(hf,{className:"w-4 h-4"})}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"number",value:g,onChange:O=>S(parseInt(O.target.value)||1),className:"w-20 text-center text-lg font-medium border border-gray-300 rounded-lg py-2",min:"1",max:y}),r.jsx("span",{className:"text-sm text-gray-500",children:l?.quantityUnit||"piece"})]}),r.jsx("button",{onClick:()=>S(g+1),className:"w-10 h-10 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",disabled:g>=y,children:r.jsx(na,{className:"w-4 h-4"})})]}),r.jsx("div",{className:"text-center mt-2",children:r.jsxs("span",{className:"text-sm text-gray-500",children:[y," per ",l?.quantityUnit||"piece"," available"]})})]}),r.jsx("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"font-medium",children:"Total Price:"}),r.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["",(l?.price*g).toFixed(2)]})]})}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:h,className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsxs("button",{onClick:N,className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[r.jsx(ki,{className:"w-4 h-4"}),"Add to Cart"]})]})]})}):null},Sg=()=>{const d=Ur(),{user:h}=ln(),{addToCart:l}=ds(),[m,g]=w.useState([]),[_,y]=w.useState(new Set),[S,N]=w.useState(!1),[O,I]=w.useState(null),[b,V]=w.useState(!1),[G,J]=w.useState(null),R=w.useCallback(()=>{const D=qe.getAllFlashSales(),A=new Date,ee=D.filter(ue=>{const Se=new Date(ue.endTime);return A<Se});g(ee)},[]),z=w.useCallback(D=>{y(A=>new Set([...A,D])),setTimeout(()=>{const A=m.find(ee=>ee.id===D);if(A&&A.total>A.sold){const ee=A.total-A.sold,ue={name:A.product,price:A.oldPrice||A.price,quantity:ee,unit:"kg",description:`${A.product} - Flash sale ended`,image:A.image,isOrganic:!1,supplier:A.supplier,supplierId:A.supplierId,category:"general"};Ni(async()=>{const{productDatabase:Se}=await Promise.resolve().then(()=>rs);return{productDatabase:Se}},void 0).then(({productDatabase:Se})=>{Se.addProduct(ue)})}g(ee=>ee.filter(ue=>ue.id!==D)),y(ee=>{const ue=new Set(ee);return ue.delete(D),ue}),qe.deleteFlashSale(D),ft.emit("flash_sale_update",{action:"expired_remove",saleId:D,remainingStock:A?A.total-A.sold:0})},2e3)},[m]);w.useEffect(()=>(R(),ft.subscribe("flash_sale_update",A=>{A&&A.action&&R()})),[R]);const Q=D=>{if(!h){alert("Please log in to add items to cart"),d("/login");return}if(D.sold>=D.total){alert("This flash sale is sold out!");return}if((D.remainingStock!==void 0?D.remainingStock:D.total-D.sold)<=0){alert("This flash sale is sold out!");return}J(D),V(!0)},B=D=>{const A={id:G.id,name:G.product,price:G.price,image:G.image,supplier:G.supplier,supplierId:G.supplierId,quantity:D,isFlashSale:!0,unit:G.quantityUnit||"piece"};l(A),ft.emit("flash_sale_update",{action:"add_to_cart",flashSale:G,supplierId:G.supplierId}),alert(`${D} ${G.quantityUnit||"piece"}${D>1?"s":""} of ${G.product} added to cart!`)},$=D=>{if(!h){alert("Please log in to make a purchase"),d("/login");return}if(D.sold>=D.total){alert("This flash sale is sold out!");return}if((D.remainingStock!==void 0?D.remainingStock:D.total-D.sold)<=0){alert("This flash sale is sold out!");return}I({...D,name:D.product,supplier:D.supplier,unit:D.quantityUnit||"piece",quantity:1,totalPrice:D.price}),N(!0)};return r.jsxs("div",{className:"max-w-7xl mx-auto py-12 px-4",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[r.jsx(Si,{className:"w-8 h-8 text-orange-600"}),r.jsx("h1",{className:"text-3xl font-bold text-orange-600",children:"Flash Sales"})]}),m.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Si,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Flash Sales Available"}),r.jsx("p",{className:"text-gray-500",children:"Check back later for exciting deals!"})]}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(D=>{const A=_.has(D.id),ue=(D.remainingStock!==void 0?D.remainingStock:D.total-D.sold)<=0;return r.jsxs("div",{className:`bg-white rounded-lg shadow-md overflow-hidden border transition-all duration-300 ${ue||A?"opacity-60 bg-gray-100":"hover:shadow-lg"}`,children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:D.image,alt:D.product,className:"w-full h-48 object-cover"}),r.jsxs("div",{className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded text-sm font-bold",children:[D.discount,"% OFF"]}),A&&r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-2xl font-bold",children:"EXPIRED"})}),ue&&!A&&r.jsx("div",{className:"absolute inset-0 bg-red-500 bg-opacity-75 flex items-center justify-center",children:r.jsx("span",{className:"text-white text-2xl font-bold",children:"SOLD OUT"})})]}),r.jsxs("div",{className:"p-4",children:[r.jsx("h3",{className:"text-lg font-semibold mb-2",children:D.product}),r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["",D.price]}),r.jsxs("span",{className:"text-sm text-gray-500 line-through",children:["",D.oldPrice]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["per ",D.quantityUnit||"piece"]})]})}),r.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["by ",D.supplier]}),r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Sold: ",D.sold,"/",D.total," per ",D.quantityUnit||"piece"]}),r.jsxs("div",{className:"flex items-center gap-1 text-red-500",children:[r.jsx(Tl,{className:"w-4 h-4"}),r.jsx(Tu,{endTime:D.endTime,onExpired:()=>z(D.id)})]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("button",{onClick:()=>Q(D),disabled:ue||A,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:[r.jsx(ki,{className:"w-4 h-4"}),ue?"Sold Out":"Add to Cart"]}),r.jsx("button",{onClick:()=>$(D),disabled:ue||A,className:"flex-1 bg-green-600 text-white py-2 px-4 rounded-lg font-medium hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:"Buy Now"})]})]})]},D.id)})}),S&&O&&r.jsx(zu,{isOpen:S,onClose:()=>{N(!1),I(null)},item:O}),b&&G&&r.jsx(jg,{isOpen:b,onClose:()=>{V(!1),J(null)},item:G,onConfirm:B})]})};class kg{constructor(){this.productDatabase=null,this.initialized=!1}async initialize(){if(!this.initialized)try{const{productDatabase:h}=await Ni(async()=>{const{productDatabase:l}=await Promise.resolve().then(()=>rs);return{productDatabase:l}},void 0);this.productDatabase=h,this.initialized=!0}catch(h){throw console.error("Failed to initialize StockManager:",h),h}}async ensureInitialized(){this.initialized||await this.initialize()}async purchase(h,l,m={}){await this.ensureInitialized();try{const g=this.productDatabase.getProductById(h);if(!g)return{success:!1,error:"Product not found",code:"PRODUCT_NOT_FOUND"};const _=this.getCurrentStock(g),y=this.validateQuantity(l);if(y<=0)return{success:!1,error:"Invalid purchase quantity",code:"INVALID_QUANTITY"};if(_<y)return{success:!1,error:`Insufficient stock. Available: ${_}${g.unit||"units"}, Requested: ${y}${g.unit||"units"}`,code:"INSUFFICIENT_STOCK",data:{availableStock:_,requestedQuantity:y,shortfall:y-_}};const S=_-y,N=await this.updateProductStock(g,S,{action:"purchase",quantityChanged:-y,...m});return N.success&&this.logStockTransaction({type:"purchase",productId:h,productName:g.name,previousStock:_,newStock:S,quantityChanged:-y,vendorId:m.vendorId,orderId:m.orderId,timestamp:new Date().toISOString()}),N}catch(g){return console.error("Error in purchase operation:",g),{success:!1,error:g.message||"Purchase operation failed",code:"PURCHASE_ERROR"}}}async restock(h,l,m={}){await this.ensureInitialized();try{const g=this.productDatabase.getProductById(h);if(!g)return{success:!1,error:"Product not found",code:"PRODUCT_NOT_FOUND"};const _=this.getCurrentStock(g),y=this.validateQuantity(l);if(y<=0)return{success:!1,error:"Invalid restock quantity",code:"INVALID_QUANTITY"};const S=_+y,N=await this.updateProductStock(g,S,{action:"restock",quantityChanged:y,...m});return N.success&&this.logStockTransaction({type:"restock",productId:h,productName:g.name,previousStock:_,newStock:S,quantityChanged:y,supplierId:m.supplierId,timestamp:new Date().toISOString()}),N}catch(g){return console.error("Error in restock operation:",g),{success:!1,error:g.message||"Restock operation failed",code:"RESTOCK_ERROR"}}}async setStock(h,l,m={}){await this.ensureInitialized();try{const g=this.productDatabase.getProductById(h);if(!g)return{success:!1,error:"Product not found",code:"PRODUCT_NOT_FOUND"};const _=this.getCurrentStock(g),y=Math.max(0,this.validateQuantity(l)),S=y-_,N=await this.updateProductStock(g,y,{action:"update",quantityChanged:S,...m});return N.success&&this.logStockTransaction({type:"update",productId:h,productName:g.name,previousStock:_,newStock:y,quantityChanged:S,supplierId:m.supplierId,timestamp:new Date().toISOString()}),N}catch(g){return console.error("Error in setStock operation:",g),{success:!1,error:g.message||"Set stock operation failed",code:"SET_STOCK_ERROR"}}}async checkAvailability(h,l){await this.ensureInitialized();try{const m=this.productDatabase.getProductById(h);if(!m)return{success:!1,error:"Product not found",code:"PRODUCT_NOT_FOUND"};const g=this.getCurrentStock(m),_=this.validateQuantity(l),y=g>=_;return{success:!0,data:{productId:h,productName:m.name,currentStock:g,requestedQuantity:_,isAvailable:y,shortfall:y?0:_-g,stockStatus:this.getStockStatus(g,m),unit:m.unit||"units"}}}catch(m){return console.error("Error checking stock availability:",m),{success:!1,error:m.message||"Stock availability check failed",code:"AVAILABILITY_CHECK_ERROR"}}}async getStock(h){await this.ensureInitialized();try{const l=this.productDatabase.getProductById(h);if(!l)return{success:!1,error:"Product not found",code:"PRODUCT_NOT_FOUND"};const m=this.getCurrentStock(l);return{success:!0,data:{productId:h,productName:l.name,stock:m,stockStatus:this.getStockStatus(m,l),unit:l.unit||"units",lastUpdated:l.updatedAt||l.createdAt}}}catch(l){return console.error("Error getting stock:",l),{success:!1,error:l.message||"Get stock operation failed",code:"GET_STOCK_ERROR"}}}async batchPurchase(h){const l=[];for(const m of h){const g=await this.purchase(m.productId,m.quantity,m.options||{});l.push({productId:m.productId,...g})}return{success:l.every(m=>m.success),results:l,successCount:l.filter(m=>m.success).length,failureCount:l.filter(m=>!m.success).length}}getCurrentStock(h){return parseInt(h.stock||h.quantity||0)}validateQuantity(h){const l=parseInt(h);return isNaN(l)?0:Math.max(0,l)}getStockStatus(h,l){const m=l.lowStockThreshold||10,g=l.outOfStockThreshold||0;return h<=g?"out_of_stock":h<=m?"low_stock":"in_stock"}async updateProductStock(h,l,m={}){try{const g={...h,stock:l,quantity:l,updatedAt:new Date().toISOString(),lastStockUpdate:new Date().toISOString()};return this.productDatabase.updateProduct(h.id,g)?(ft.emitStockUpdate(m.action||"update",{productId:h.id,productName:h.name,previousStock:this.getCurrentStock(h),newStock:l,quantityChanged:m.quantityChanged||0,product:g,vendorId:m.vendorId,supplierId:m.supplierId,orderId:m.orderId,timestamp:Date.now()}),{success:!0,data:{product:g,previousStock:this.getCurrentStock(h),newStock:l,quantityChanged:m.quantityChanged||0}}):{success:!1,error:"Failed to update product in database",code:"DATABASE_UPDATE_ERROR"}}catch(g){return console.error("Error updating product stock:",g),{success:!1,error:g.message||"Failed to update product stock",code:"UPDATE_ERROR"}}}logStockTransaction(h){try{const l=JSON.parse(localStorage.getItem("vendorMitraStockLogs")||"[]");l.push(h),l.length>1e3&&l.splice(0,l.length-1e3),localStorage.setItem("vendorMitraStockLogs",JSON.stringify(l)),console.log("Stock transaction logged:",h)}catch(l){console.warn("Failed to log stock transaction:",l)}}getStockHistory(h=null,l=100){try{const m=JSON.parse(localStorage.getItem("vendorMitraStockLogs")||"[]");let g=m;return h&&(g=m.filter(_=>_.productId===h)),g.sort((_,y)=>new Date(y.timestamp)-new Date(_.timestamp)).slice(0,l)}catch(m){return console.error("Error getting stock history:",m),[]}}}const is=new kg,Pg=()=>{const d=Ur(),{user:h}=ln(),{cart:l,removeFromCart:m,updateQuantity:g,getCartTotal:_,clearCart:y}=ds(),{decreaseStock:S}=Il(),[N,O]=w.useState(!1),[I,b]=w.useState(!1),[V,G]=w.useState({}),J=()=>{if(!h){alert("Please log in to make a purchase"),d("/login");return}b(!0)},R=async B=>{const{deliveryAddress:$,paymentMethod:D}=B;try{const A=[];for(const Y of l)if(!Y.isFlashSale){const me=await is.checkAvailability(Y.id,Y.quantity);if(!me.success||!me.data.isAvailable){alert(`Insufficient stock for ${Y.name}. Available: ${me.data?.currentStock||0}, Requested: ${Y.quantity}`);return}A.push({item:Y,stockCheck:me})}const ee=`ORD-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,ue=[];for(const Y of l)Y.isFlashSale||ue.push(S(Y.id,Y.quantity,{vendorId:h?.id,vendorName:h?.name,deliveryAddress:$,paymentMethod:D}).then(me=>({item:Y,result:me})));if(ue.length>0){const me=(await Promise.all(ue)).filter(({result:Ie})=>!Ie.success);if(me.length>0){const Ie=me.map(({item:Ue})=>Ue.name).join(", ");alert(`Purchase failed for some items: ${Ie}`);return}console.log("Stock updated successfully for all items")}const Se={};l.forEach(Y=>{Se[Y.supplierId]||(Se[Y.supplierId]={supplier:Y.supplier,supplierId:Y.supplierId,products:[],totalAmount:0});const me=typeof Y.price=="string"?parseInt(Y.price.replace(/[^\d]/g,"")):Y.price;Se[Y.supplierId].products.push({id:Y.id,name:Y.name,quantity:Y.quantity,unit:Y.unit||"piece",price:me,image:Y.image}),Se[Y.supplierId].totalAmount+=me*Y.quantity});const rt=[];Object.values(Se).forEach(Y=>{const me=on.addDelivery({customer:h?.name||"Customer",customerId:h?.id||1,supplier:Y.supplier,supplierId:Y.supplierId,products:Y.products,totalAmount:Y.totalAmount,status:"delivered",paymentMethod:D,deliveryAddress:$,deliveryDate:new Date(Date.now()+1728e5).toISOString().split("T")[0]}),Ie=Y.products.map(Ue=>typeof Ue=="string"?Ue:`${Ue.quantity} ${Ue.unit} ${Ue.name}`);rt.push(`${Y.supplier}: ${Ie.join(", ")} (${Y.totalAmount})`)}),l.forEach(Y=>{if(Y.isFlashSale){const me=qe.getFlashSaleById(Y.id);me&&qe.updateFlashSale(Y.id,{sold:me.sold+Y.quantity})}}),alert(`Thank you for your purchase! Total: ${_()}

Stock has been automatically updated for all items.`),y(),z()}catch(A){console.error("Error processing order:",A),alert("Failed to process your order. Please try again.")}},z=async()=>{const B={};for(const $ of l)if($.isFlashSale){const D=qe.getFlashSaleById($.id);D&&(B[$.id]=D.total-D.sold)}else try{const D=await is.getStock($.id);if(D.success)B[$.id]=D.data.stock;else{const ee=Th().find(ue=>ue.id===$.id);ee&&(B[$.id]=ee.stock||ee.quantity||0)}}catch(D){console.error("Error loading stock for item:",$.id,D);const ee=Th().find(ue=>ue.id===$.id);ee&&(B[$.id]=ee.stock||ee.quantity||0)}G(B)};w.useEffect(()=>{l.length>0&&z()},[l]);const Q=(B,$)=>{if($<=0){m(B);return}const D=V[B]||0;if($>D){alert(`Only ${D} items available in stock!`);return}g(B,$)};return l.length===0?r.jsx("div",{className:"max-w-4xl mx-auto py-12 px-4",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ki,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold text-gray-600 mb-2",children:"Your Cart is Empty"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Add some products from our suppliers to get started!"}),r.jsxs(tt,{to:"/supplier-finder",className:"btn-primary inline-flex items-center gap-2",children:[r.jsx(Rh,{className:"w-4 h-4"}),"Find Suppliers"]})]})}):r.jsxs("div",{className:"max-w-4xl mx-auto py-12 px-4",children:[r.jsx(zu,{isOpen:I,onClose:()=>b(!1),item:{name:`Cart Items (${l.length} items)`,supplier:"Multiple Suppliers",unit:"items"},quantity:l.reduce((B,$)=>B+$.quantity,0),totalPrice:_(),onConfirmOrder:R}),r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(tt,{to:"/supplier-finder",className:"text-gray-500 hover:text-gray-700",children:r.jsx(Rh,{className:"w-5 h-5"})}),r.jsx("h1",{className:"text-3xl font-bold text-primary-600",children:"Shopping Cart"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:[l.length," items"]}),r.jsxs("button",{onClick:y,className:"text-red-500 hover:text-red-700 text-sm flex items-center gap-1",children:[r.jsx(Pl,{className:"w-4 h-4"}),"Clear Cart"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[r.jsx("div",{className:"p-6 border-b",children:r.jsx("h2",{className:"text-xl font-semibold",children:"Cart Items"})}),r.jsx("div",{className:"divide-y",children:l.map((B,$)=>r.jsxs("div",{className:"p-6 flex items-start gap-4",children:[B.image&&r.jsx("img",{src:B.image,alt:B.name,className:"w-16 h-16 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-900",children:B.name}),B.supplier&&r.jsxs("p",{className:"text-sm text-gray-500",children:["from ",B.supplier]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("span",{className:"font-medium text-gray-900",children:B.price}),r.jsxs("span",{className:"text-xs text-gray-500",children:["per ",B.unit||"piece"]})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>Q(B.id,B.quantity-1),className:"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:"-"}),r.jsx("span",{className:"w-12 text-center font-medium",children:B.quantity}),r.jsx("button",{onClick:()=>Q(B.id,B.quantity+1),className:"w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:"+"}),V[B.id]!==void 0&&r.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",V[B.id]," available)"]})]}),r.jsxs("button",{onClick:()=>m(B.id),className:"text-red-500 hover:text-red-700 text-sm flex items-center gap-1",children:[r.jsx(Pl,{className:"w-4 h-4"}),"Remove"]})]})]})]},$))})]})}),r.jsx("div",{className:"lg:col-span-1",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),r.jsx("div",{className:"space-y-3 mb-6",children:r.jsx("div",{className:"border-t pt-3",children:r.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[r.jsxs("span",{children:["Total (",l.length," items)"]}),r.jsxs("span",{children:["",_()]})]})})}),r.jsxs("button",{onClick:J,className:"w-full btn-primary flex items-center justify-center gap-2 py-3 text-lg",children:[r.jsx(pu,{className:"w-5 h-5"}),"Buy Now"]}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx(tt,{to:"/supplier-finder",className:"text-primary-600 hover:text-primary-700 text-sm",children:"Continue Shopping"})})]})})]})]})},Cg=()=>{const{user:d}=ln(),[h,l]=w.useState([]),[m,g]=w.useState(null),[_,y]=w.useState(""),[S,N]=w.useState("");w.useEffect(()=>{d&&d.id&&l(ut.getBargainsByVendor(d.id))},[d]);const O=b=>{g(b),y(""),N("")},I=()=>{if(!S&&!_)return;ut.addMessage(m.id,{sender:"vendor",offer:S?parseFloat(S):void 0,message:_});const b=ut.getBargainById(m.id);g(b),y(""),N("")};return r.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Your Bargains"}),h.length===0?r.jsx("div",{className:"text-gray-400 text-center",children:"No bargains yet."}):r.jsx("div",{className:"space-y-4",children:h.map(b=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium",children:b.supplierName}),r.jsx("p",{className:"text-sm text-gray-600",children:b.productName})]}),r.jsx("button",{onClick:()=>O(b),className:"btn-primary",children:"Open Chat"})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Status: ",b.status]})]},b.id))}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4 max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:["Bargain Chat for ",m.productName]}),r.jsx("button",{onClick:()=>g(null),className:"text-gray-500 hover:text-gray-700",children:""})]}),r.jsx("div",{className:"mb-4 h-64 overflow-y-auto border rounded p-2 bg-gray-50",children:m.messages.length===0?r.jsx("div",{className:"text-gray-400 text-center",children:"No messages yet."}):m.messages.map((b,V)=>r.jsx("div",{className:`mb-2 ${b.sender==="vendor"?"text-right":"text-left"}`,children:r.jsxs("div",{className:`inline-block px-3 py-2 rounded-lg ${b.sender==="vendor"?"bg-blue-100":"bg-green-100"}`,children:[r.jsx("div",{className:"text-xs text-gray-500 mb-1",children:b.sender==="vendor"?"You":m.supplierName}),b.offer!==void 0&&r.jsxs("div",{className:"font-bold",children:["Offer: ",b.offer]}),b.message&&r.jsx("div",{children:b.message}),r.jsx("div",{className:"text-xs text-gray-400 mt-1",children:new Date(b.timestamp).toLocaleString()})]})},V))}),r.jsxs("div",{className:"flex gap-2 mt-2",children:[r.jsx("input",{type:"number",placeholder:"Offer ()",value:S,onChange:b=>N(b.target.value),className:"flex-1 border rounded p-2"}),r.jsx("input",{type:"text",placeholder:"Message",value:_,onChange:b=>y(b.target.value),className:"flex-1 border rounded p-2"}),r.jsx("button",{onClick:I,className:"btn-primary",children:"Send"})]})]})})]})},Lg=()=>{const{user:d}=ln(),[h,l]=w.useState([]),[m,g]=w.useState(!1),[_,y]=w.useState(""),[S,N]=w.useState(""),[O,I]=w.useState(""),[b,V]=w.useState(null),[G,J]=w.useState("");w.useEffect(()=>{d&&d.id&&l(Ct.getCollabOrdersByVendor(d.id))},[d]);const R=()=>{if(!_||!S||!O)return;const B={supplierId:_,supplierName:S,vendors:[{vendorId:d.id,vendorName:d.name,location:G,items:O.split(",").map($=>$.trim())}],status:"open"};Ct.addCollabOrder(B),l(Ct.getCollabOrdersByVendor(d.id)),g(!1),y(""),N(""),I(""),J("")},z=B=>{V(B),J(""),I("")},Q=()=>{if(!b||!O)return;const B=[...b.vendors,{vendorId:d.id,vendorName:d.name,location:G,items:O.split(",").map($=>$.trim())}];Ct.updateCollabOrder(b.id,{vendors:B}),l(Ct.getCollabOrdersByVendor(d.id)),V(null),J(""),I("")};return r.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Collaborative Orders"}),r.jsx("button",{className:"btn-primary mb-4",onClick:()=>g(!0),children:"Create Collaborative Order"}),h.length===0?r.jsx("div",{className:"text-gray-400 text-center",children:"No collaborative orders yet."}):r.jsx("div",{className:"space-y-4",children:h.map(B=>r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("div",{className:"flex justify-between items-center mb-2",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-medium",children:["Supplier: ",B.supplierName]}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Order Status: ",B.status]})]}),r.jsx("button",{onClick:()=>z(B),className:"btn-secondary",children:"Join/Add Items"})]}),r.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Vendors in this order:"}),r.jsx("ul",{className:"ml-4 list-disc text-sm",children:B.vendors.map(($,D)=>r.jsxs("li",{children:[r.jsx("b",{children:$.vendorName})," (",$.location,"): ",$.items.join(", ")]},D))})]},B.id))}),m&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Create Collaborative Order"}),r.jsx("input",{type:"text",placeholder:"Supplier ID",value:_,onChange:B=>y(B.target.value),className:"input-field mb-2"}),r.jsx("input",{type:"text",placeholder:"Supplier Name",value:S,onChange:B=>N(B.target.value),className:"input-field mb-2"}),r.jsx("input",{type:"text",placeholder:"Your Location",value:G,onChange:B=>J(B.target.value),className:"input-field mb-2"}),r.jsx("input",{type:"text",placeholder:"Items (comma separated)",value:O,onChange:B=>I(B.target.value),className:"input-field mb-2"}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx("button",{className:"btn-primary flex-1",onClick:R,children:"Create"}),r.jsx("button",{className:"btn-secondary flex-1",onClick:()=>g(!1),children:"Cancel"})]})]})}),b&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Join Collaborative Order for ",b.supplierName]}),r.jsx("input",{type:"text",placeholder:"Your Location",value:G,onChange:B=>J(B.target.value),className:"input-field mb-2"}),r.jsx("input",{type:"text",placeholder:"Items (comma separated)",value:O,onChange:B=>I(B.target.value),className:"input-field mb-2"}),r.jsxs("div",{className:"flex gap-2 mt-4",children:[r.jsx("button",{className:"btn-primary flex-1",onClick:Q,children:"Add to Order"}),r.jsx("button",{className:"btn-secondary flex-1",onClick:()=>V(null),children:"Cancel"})]})]})})]})},Eg=()=>{const[d,h]=w.useState([]),[l,m]=w.useState(null),[g,_]=w.useState("purchase"),[y,S]=w.useState(1),[N,O]=w.useState(!1),[I,b]=w.useState([]),[V,G]=w.useState([]);w.useEffect(()=>{J(),R();const A=ft.subscribe("stock_update",ee=>{console.log("Real-time stock update received:",ee),z(`Real-time update: ${ee.productName} stock changed from ${ee.previousStock} to ${ee.newStock}`),J(),R()});return()=>A()},[]);const J=()=>{const A=El.getAllProducts();h(A),!l&&A.length>0&&m(A[0])},R=()=>{const A=is.getStockHistory(null,10);G(A)},z=A=>{const ee=new Date().toLocaleTimeString();b(ue=>[`[${ee}] ${A}`,...ue.slice(0,9)])},Q=async()=>{if(!l||y<=0){z("Error: Please select a product and enter a valid quantity");return}O(!0),z(`Starting ${g} operation for ${l.name}...`);try{let A;const ee={vendorId:1,supplierId:l.supplierId,orderId:`DEMO-${Date.now()}`};switch(g){case"purchase":A=await is.purchase(l.id,y,ee);break;case"restock":A=await is.restock(l.id,y,ee);break;case"setStock":A=await is.setStock(l.id,y,ee);break;default:throw new Error("Invalid operation type")}A.success?(z(` ${g} successful: ${l.name} (${y} units)`),z(`Stock updated: ${A.data.previousStock}  ${A.data.newStock}`),J(),R()):z(` ${g} failed: ${A.error}`)}catch(A){z(` Error: ${A.message}`)}finally{O(!1)}},B=async()=>{if(!(!l||y<=0))try{const A=await is.checkAvailability(l.id,y);if(A.success){const{isAvailable:ee,currentStock:ue,shortfall:Se}=A.data;z(ee?` Stock check: ${y} units available (${ue} in stock)`:` Stock check: Insufficient stock. Need ${Se} more units`)}}catch(A){z(` Stock check error: ${A.message}`)}},$=A=>A===0?"text-red-600 bg-red-50":A<=10?"text-yellow-600 bg-yellow-50":"text-green-600 bg-green-50",D=A=>A===0?r.jsx(zp,{className:"w-4 h-4"}):A<=10?r.jsx(Tl,{className:"w-4 h-4"}):r.jsx(ss,{className:"w-4 h-4"});return r.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[r.jsx(os,{className:"w-6 h-6 text-blue-600"}),"Stock Management Demo"]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Product"}),r.jsxs("select",{value:l?.id||"",onChange:A=>{const ee=d.find(ue=>ue.id===parseInt(A.target.value));m(ee)},className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Choose a product..."}),d.map(A=>r.jsxs("option",{value:A.id,children:[A.name," (Stock: ",A.stock||A.quantity||0,")"]},A.id))]})]}),l&&r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:l.name}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Current Stock:"}),r.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm font-medium ml-2 ${$(l.stock||l.quantity||0)}`,children:[D(l.stock||l.quantity||0),l.stock||l.quantity||0," ",l.unit||"units"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Price:"}),r.jsxs("span",{className:"ml-2 font-medium",children:["",l.price,"/",l.unit||"unit"]})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Supplier:"}),r.jsx("span",{className:"ml-2",children:l.supplierName})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-600",children:"Category:"}),r.jsx("span",{className:"ml-2 capitalize",children:l.category})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Operation Type"}),r.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"purchase",label:"Purchase",icon:hf,color:"red"},{value:"restock",label:"Restock",icon:na,color:"green"},{value:"setStock",label:"Set Stock",icon:Zp,color:"blue"}].map(({value:A,label:ee,icon:ue,color:Se})=>r.jsxs("button",{onClick:()=>_(A),className:`p-3 rounded-lg border-2 transition-all ${g===A?`border-${Se}-500 bg-${Se}-50 text-${Se}-700`:"border-gray-200 hover:border-gray-300"}`,children:[r.jsx(ue,{className:"w-4 h-4 mx-auto mb-1"}),r.jsx("div",{className:"text-xs font-medium",children:ee})]},A))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),r.jsx("input",{type:"number",min:"1",value:y,onChange:A=>S(parseInt(A.target.value)||1),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Enter quantity..."})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:Q,disabled:N||!l,className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors",children:N?"Processing...":`Execute ${g}`}),r.jsx("button",{onClick:B,disabled:!l,className:"px-4 py-3 border border-gray-300 rounded-lg font-medium hover:bg-gray-50 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors",children:"Check Stock"})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Live Activity Log"}),r.jsx("div",{className:"bg-gray-900 text-green-400 p-4 rounded-lg h-64 overflow-y-auto font-mono text-sm",children:I.length===0?r.jsx("div",{className:"text-gray-500",children:"No activity yet..."}):I.map((A,ee)=>r.jsx("div",{className:"mb-1",children:A},ee))})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Recent Stock Transactions"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-sm",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b",children:[r.jsx("th",{className:"text-left py-2",children:"Time"}),r.jsx("th",{className:"text-left py-2",children:"Product"}),r.jsx("th",{className:"text-left py-2",children:"Type"}),r.jsx("th",{className:"text-left py-2",children:"Previous Stock"}),r.jsx("th",{className:"text-left py-2",children:"New Stock"}),r.jsx("th",{className:"text-left py-2",children:"Change"})]})}),r.jsx("tbody",{children:V.length===0?r.jsx("tr",{children:r.jsx("td",{colSpan:"6",className:"text-center py-4 text-gray-500",children:"No transactions yet"})}):V.map((A,ee)=>r.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[r.jsx("td",{className:"py-2",children:new Date(A.timestamp).toLocaleTimeString()}),r.jsx("td",{className:"py-2 font-medium",children:A.productName}),r.jsx("td",{className:"py-2",children:r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.type==="purchase"?"bg-red-100 text-red-700":A.type==="restock"?"bg-green-100 text-green-700":"bg-blue-100 text-blue-700"}`,children:A.type})}),r.jsx("td",{className:"py-2",children:A.previousStock}),r.jsx("td",{className:"py-2",children:A.newStock}),r.jsx("td",{className:"py-2",children:r.jsxs("span",{className:`font-medium ${A.quantityChanged>0?"text-green-600":"text-red-600"}`,children:[A.quantityChanged>0?"+":"",A.quantityChanged]})})]},ee))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Current Stock Overview"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(A=>{const ee=A.stock||A.quantity||0;return r.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium truncate",children:A.name}),D(ee)]}),r.jsx("div",{className:"text-sm text-gray-600 mb-2",children:A.supplierName}),r.jsxs("div",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-sm font-medium ${$(ee)}`,children:[ee," ",A.unit||"units"]})]},A.id)})})]})]})};function Ig(){return r.jsx(gp,{children:r.jsx(Pp,{children:r.jsx(Tp,{children:r.jsx(Lp,{children:r.jsx(Ep,{children:r.jsxs(lp,{children:[r.jsx(Yt,{path:"/supplier-dashboard",element:r.jsx(Hp,{children:r.jsx(Gp,{})})}),r.jsx(Yt,{path:"/",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(qp,{})}),r.jsx(_n,{})]})}),r.jsx(Yt,{path:"/dashboard",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(Wp,{})}),r.jsx(_n,{})]})}),r.jsx(Yt,{path:"/login",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(Qp,{})}),r.jsx(_n,{})]})}),r.jsx(Yt,{path:"/register",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(Kp,{})}),r.jsx(_n,{})]})}),r.jsx(Yt,{path:"/suppliers",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(xg,{})}),r.jsx(_n,{})]})}),r.jsx(Yt,{path:"/find-items",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(bg,{})}),r.jsx(_n,{})]})}),r.jsx(Yt,{path:"/find-sales",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(Sg,{})}),r.jsx(_n,{})]})}),r.jsx(Yt,{path:"/flash-sales",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(vg,{})}),r.jsx(_n,{})]})}),r.jsx(Yt,{path:"/organic",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(Ng,{})}),r.jsx(_n,{})]})}),r.jsx(Yt,{path:"/profile",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(wg,{})}),r.jsx(_n,{})]})}),r.jsx(Yt,{path:"/cart",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(Pg,{})}),r.jsx(_n,{})]})}),r.jsx(Yt,{path:"/bargains",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(Cg,{})}),r.jsx(_n,{})]})}),r.jsx(Yt,{path:"/collaborative-orders",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(Lg,{})}),r.jsx(_n,{})]})}),r.jsx(Yt,{path:"/stock-demo",element:r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(yn,{}),r.jsx("main",{className:"flex-1",children:r.jsx(Eg,{})}),r.jsx(_n,{})]})})]})})})})})})}gm.createRoot(document.getElementById("root")).render(r.jsx(ra.StrictMode,{children:r.jsx(Ig,{})}));export{on as d,El as p,ft as r};
